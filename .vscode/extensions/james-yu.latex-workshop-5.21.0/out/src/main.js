module.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=115)}([function(e,t){e.exports=require("path")},function(e,t){e.exports=require("vscode")},function(e,t){e.exports=require("fs")},function(e,t){e.exports=require("util")},function(e,t,n){var r=n(2),i=n(118),o=n(120),s=n(121),a=[],c=n(3);var u,l,h=function(){};function f(e){i(e),e.gracefulify=f,e.FileReadStream=h,e.FileWriteStream=g,e.createReadStream=function(e,t){return new h(e,t)},e.createWriteStream=function(e,t){return new g(e,t)};var t=e.readFile;e.readFile=function(e,n,r){"function"==typeof n&&(r=n,n=null);return function e(n,r,i){return t(n,r,function(t){!t||"EMFILE"!==t.code&&"ENFILE"!==t.code?("function"==typeof i&&i.apply(this,arguments),d()):p([e,[n,r,i]])})}(e,n,r)};var n=e.writeFile;e.writeFile=function(e,t,r,i){"function"==typeof r&&(i=r,r=null);return function e(t,r,i,o){return n(t,r,i,function(n){!n||"EMFILE"!==n.code&&"ENFILE"!==n.code?("function"==typeof o&&o.apply(this,arguments),d()):p([e,[t,r,i,o]])})}(e,t,r,i)};var r=e.appendFile;r&&(e.appendFile=function(e,t,n,i){"function"==typeof n&&(i=n,n=null);return function e(t,n,i,o){return r(t,n,i,function(r){!r||"EMFILE"!==r.code&&"ENFILE"!==r.code?("function"==typeof o&&o.apply(this,arguments),d()):p([e,[t,n,i,o]])})}(e,t,n,i)});var s=e.readdir;function a(t){return s.apply(e,t)}if(e.readdir=function(e,t,n){var r=[e];"function"!=typeof t?r.push(t):n=t;return r.push(function(e,t){t&&t.sort&&t.sort(),!e||"EMFILE"!==e.code&&"ENFILE"!==e.code?("function"==typeof n&&n.apply(this,arguments),d()):p([a,[r]])}),a(r)},"v0.8"===process.version.substr(0,4)){var c=o(e);h=c.ReadStream,g=c.WriteStream}var u=e.ReadStream;u&&(h.prototype=Object.create(u.prototype),h.prototype.open=function(){var e=this;y(e.path,e.flags,e.mode,function(t,n){t?(e.autoClose&&e.destroy(),e.emit("error",t)):(e.fd=n,e.emit("open",n),e.read())})});var l=e.WriteStream;function h(e,t){return this instanceof h?(u.apply(this,arguments),this):h.apply(Object.create(h.prototype),arguments)}function g(e,t){return this instanceof g?(l.apply(this,arguments),this):g.apply(Object.create(g.prototype),arguments)}l&&(g.prototype=Object.create(l.prototype),g.prototype.open=function(){var e=this;y(e.path,e.flags,e.mode,function(t,n){t?(e.destroy(),e.emit("error",t)):(e.fd=n,e.emit("open",n))})}),e.ReadStream=h,e.WriteStream=g;var m=e.open;function y(e,t,n,r){return"function"==typeof n&&(r=n,n=null),function e(t,n,r,i){return m(t,n,r,function(o,s){!o||"EMFILE"!==o.code&&"ENFILE"!==o.code?("function"==typeof i&&i.apply(this,arguments),d()):p([e,[t,n,r,i]])})}(e,t,n,r)}return e.open=y,e}function p(e){h("ENQUEUE",e[0].name,e[1]),a.push(e)}function d(){var e=a.shift();e&&(h("RETRY",e[0].name,e[1]),e[0].apply(null,e[1]))}c.debuglog?h=c.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(h=function(){var e=c.format.apply(c,arguments);e="GFS4: "+e.split(/\n/).join("\nGFS4: "),console.error(e)}),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",function(){h(a),n(30).equal(a.length,0)}),e.exports=f(s(r)),process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!r.__patched&&(e.exports=f(r),r.__patched=!0),e.exports.close=(u=r.close,function(e,t){return u.call(r,e,function(e){e||d(),"function"==typeof t&&t.apply(this,arguments)})}),e.exports.closeSync=(l=r.closeSync,function(e){var t=l.apply(r,arguments);return d(),t}),/\bgraceful-fs\b/.test(r.closeSync.toString())||(r.closeSync=e.exports.closeSync,r.close=e.exports.close)},function(e,t,n){"use strict";t.fromCallback=function(e){return Object.defineProperty(function(){if("function"!=typeof arguments[arguments.length-1])return new Promise((t,n)=>{arguments[arguments.length]=((e,r)=>{if(e)return n(e);t(r)}),arguments.length++,e.apply(this,arguments)});e.apply(this,arguments)},"name",{value:e.name})},t.fromPromise=function(e){return Object.defineProperty(function(){const t=arguments[arguments.length-1];if("function"!=typeof t)return e.apply(this,arguments);e.apply(this,arguments).then(e=>t(null,e),t)},"name",{value:e.name})}},function(e,t,n){"use strict";
/*!
 * isobject <https://github.com/jonschlinkert/isobject>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */e.exports=function(e){return null!=e&&"object"==typeof e&&!1===Array.isArray(e)}},function(e,t,n){"use strict";const r=(0,n(5).fromCallback)(n(123)),i=n(124);e.exports={mkdirs:r,mkdirsSync:i,mkdirp:r,mkdirpSync:i,ensureDir:r,ensureDirSync:i}},function(e,t,n){"use strict";var r=n(33);function i(e,t){for(var n in t)o(t,n)&&(e[n]=t[n])}function o(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e){r(e)||(e={});for(var t=arguments.length,n=1;n<t;n++){var o=arguments[n];r(o)&&i(e,o)}return e}},function(e,t,n){"use strict";const r=n(117),i={};r(i,n(55)),r(i,n(122)),r(i,n(59)),r(i,n(7)),r(i,n(31)),r(i,n(127)),r(i,n(131)),r(i,n(132)),r(i,n(133)),r(i,n(134)),r(i,n(140)),r(i,n(11)),e.exports=i},function(e,t,n){"use strict";
/*!
 * define-property <https://github.com/jonschlinkert/define-property>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var r=n(190);e.exports=function(e,t,n){if("object"!=typeof e&&"function"!=typeof e)throw new TypeError("expected an object or function.");if("string"!=typeof t)throw new TypeError("expected `prop` to be a string.");return r(n)&&("set"in n||"get"in n)?Object.defineProperty(e,t,n):Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:!0,value:n})}},function(e,t,n){"use strict";const r=n(5).fromPromise,i=n(55);e.exports={pathExists:r(function(e){return i.access(e).then(()=>!0).catch(()=>!1)}),pathExistsSync:i.existsSync}},function(e,t){e.exports=require("child_process")},function(e,t,n){"use strict";var r=n(63),i=n(150),o=n(156),s=n(24),a=65536,c={};function u(e,t){if(e instanceof RegExp)return e;if("string"!=typeof e)throw new TypeError("expected a string");if(e.length>a)throw new Error("expected pattern to be less than "+a+" characters");var n=e;if((!t||t&&!1!==t.cache)&&(n=function(e,t){if(!t)return e;var n=e;for(var r in t)t.hasOwnProperty(r)&&(n+=";"+r+"="+String(t[r]));return n}(e,t),c.hasOwnProperty(n)))return c[n];var u=o({},t);!0===u.contains&&(!0===u.negate?u.strictNegate=!1:u.strict=!1),!1===u.strict&&(u.strictOpen=!1,u.strictClose=!1);var l,h=!1!==u.strictOpen?"^":"",f=!1!==u.strictClose?"$":"",p=u.flags||"";!0!==u.nocase||/i/.test(p)||(p+="i");try{if((u.negate||"boolean"==typeof u.strictNegate)&&(e=s.create(e,u)),l=new RegExp(h+"(?:"+e+")"+f,p),!0===u.safe&&!1===r(l))throw new Error("potentially unsafe regular expression: "+l.source)}catch(r){if(!0===u.strictErrors||!0===u.safe)throw r.key=n,r.pattern=e,r.originalOptions=t,r.createdOptions=u,r;try{l=new RegExp("^"+e.replace(/(\W)/g,"\\$1")+"$")}catch(e){l=/.^/}}return!1!==u.cache&&function(e,t,n,r){i(e,"cached",!0),i(e,"pattern",n),i(e,"options",r),i(e,"key",t),c[t]=e}(l,n,e,u),l}e.exports=function(e,t){return Array.isArray(e)?u(e.join("|"),t):u(e,t)},e.exports.makeRe=u},function(e,t,n){"use strict";
/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var r=n(6);function i(e){return!0===r(e)&&"[object Object]"===Object.prototype.toString.call(e)}e.exports=function(e){var t,n;return!1!==i(e)&&("function"==typeof(t=e.constructor)&&(!1!==i(n=t.prototype)&&!1!==n.hasOwnProperty("isPrototypeOf")))}},function(e,t){e.exports=require("stream")},function(e,t,n){try{var r=n(3);if("function"!=typeof r.inherits)throw"";e.exports=r.inherits}catch(t){e.exports=n(246)}},function(e,t,n){"use strict";
/*!
 * is-descriptor <https://github.com/jonschlinkert/is-descriptor>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var r=n(151),i=n(152),o=n(154);e.exports=function(e,t){return"object"===r(e)&&("get"in e?i(e,t):o(e,t))}},function(e,t){e.exports=require("buffer")},function(e,t,n){"use strict";var r=n(40),i=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=h;var o=n(28);o.inherits=n(16);var s=n(95),a=n(98);o.inherits(h,s);for(var c=i(a.prototype),u=0;u<c.length;u++){var l=c[u];h.prototype[l]||(h.prototype[l]=a.prototype[l])}function h(e){if(!(this instanceof h))return new h(e);s.call(this,e),a.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",f)}function f(){this.allowHalfOpen||this._writableState.ended||r.nextTick(p,this)}function p(e){e.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),h.prototype._destroy=function(e,t){this.push(null),this.end(),r.nextTick(t,e)}},function(e,t,n){"use strict";var r,i=n(18),o=i.Buffer,s={};for(r in i)i.hasOwnProperty(r)&&"SlowBuffer"!==r&&"Buffer"!==r&&(s[r]=i[r]);var a=s.Buffer={};for(r in o)o.hasOwnProperty(r)&&"allocUnsafe"!==r&&"allocUnsafeSlow"!==r&&(a[r]=o[r]);if(s.Buffer.prototype=o.prototype,a.from&&a.from!==Uint8Array.from||(a.from=function(e,t,n){if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type '+typeof e);if(e&&void 0===e.length)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);return o(e,t,n)}),a.alloc||(a.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError('The "size" argument must be of type number. Received type '+typeof e);if(e<0||e>=2*(1<<30))throw new RangeError('The value "'+e+'" is invalid for option "size"');var r=o(e);return t&&0!==t.length?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r}),!s.kStringMaxLength)try{s.kStringMaxLength=process.binding("buffer").kStringMaxLength}catch(e){}s.constants||(s.constants={MAX_LENGTH:s.kMaxLength},s.kStringMaxLength&&(s.constants.MAX_STRING_LENGTH=s.kStringMaxLength)),e.exports=s},function(e,t){e.exports=require("os")},function(e,t){e.exports=require("events")},function(e,t,n){"use strict";
/*!
 * assign-symbols <https://github.com/jonschlinkert/assign-symbols>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */e.exports=function(e,t){if(null==e)throw new TypeError("expected first argument to be an object.");if(void 0===t||"undefined"==typeof Symbol)return e;if("function"!=typeof Object.getOwnPropertySymbols)return e;for(var n=Object.prototype.propertyIsEnumerable,r=Object(e),i=arguments.length,o=0;++o<i;)for(var s=Object(arguments[o]),a=Object.getOwnPropertySymbols(s),c=0;c<a.length;c++){var u=a[c];n.call(s,u)&&(r[u]=s[u])}return r}},function(e,t,n){"use strict";var r=n(158),i=n(63);function o(e,t){return new RegExp(o.create(e,t))}o.create=function(e,t){if("string"!=typeof e)throw new TypeError("expected a string");var n=r({},t);!0===n.contains&&(n.strictNegate=!1);var o=!1!==n.strictOpen?"^":"",s=!1!==n.strictClose?"$":"",a=n.endChar?n.endChar:"+",c=o+(!1===n.strictNegate?"(?:(?!(?:"+e+")).)"+a:"(?:(?!^(?:"+e+")$).)"+a)+s;if(!0===n.safe&&!1===i(c))throw new Error("potentially unsafe regular expression: "+c);return c},e.exports=o},function(e,t,n){"use strict";
/*!
 * array-unique <https://github.com/jonschlinkert/array-unique>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */e.exports=function(e){if(!Array.isArray(e))throw new TypeError("array-unique expects an array.");for(var t=e.length,n=-1;n++<t;)for(var r=n+1;r<e.length;++r)e[n]===e[r]&&e.splice(r--,1);return e},e.exports.immutable=function(t){if(!Array.isArray(t))throw new TypeError("array-unique expects an array.");for(var n=t.length,r=new Array(n),i=0;i<n;i++)r[i]=t[i];return e.exports(r)}},function(e,t,n){"use strict";var r=n(170),i=n(10),o=n(199),s=n(219),a=n(38);function c(e){r.call(this,null,e),this.options=a.extend({source:"string"},this.options),this.compiler=new o(this.options),this.parser=new s(this.options),Object.defineProperty(this,"compilers",{get:function(){return this.compiler.compilers}}),Object.defineProperty(this,"parsers",{get:function(){return this.parser.parsers}}),Object.defineProperty(this,"regex",{get:function(){return this.parser.regex}})}r.extend(c),c.prototype.capture=function(){return this.parser.capture.apply(this.parser,arguments)},c.prototype.use=function(e){return e.call(this,this),this},c.prototype.parse=function(e,t){this.options=a.extend({},this.options,t);var n=this.parser.parse(e,this.options);return i(n,"parser",this.parser),n},c.prototype.compile=function(e,t){this.options=a.extend({},this.options,t);var n=this.compiler.compile(e,this.options);return i(n,"compiler",this.compiler),n},e.exports=c,e.exports.Compiler=o,e.exports.Parser=s},function(e,t){t.getArg=function(e,t,n){if(t in e)return e[t];if(3===arguments.length)return n;throw new Error('"'+t+'" is a required argument.')};var n=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.]*)(?::(\d+))?(\S*)$/,r=/^data:.+\,.+$/;function i(e){var t=e.match(n);return t?{scheme:t[1],auth:t[2],host:t[3],port:t[4],path:t[5]}:null}function o(e){var t="";return e.scheme&&(t+=e.scheme+":"),t+="//",e.auth&&(t+=e.auth+"@"),e.host&&(t+=e.host),e.port&&(t+=":"+e.port),e.path&&(t+=e.path),t}function s(e){var n=e,r=i(e);if(r){if(!r.path)return e;n=r.path}for(var s,a=t.isAbsolute(n),c=n.split(/\/+/),u=0,l=c.length-1;l>=0;l--)"."===(s=c[l])?c.splice(l,1):".."===s?u++:u>0&&(""===s?(c.splice(l+1,u),u=0):(c.splice(l,2),u--));return""===(n=c.join("/"))&&(n=a?"/":"."),r?(r.path=n,o(r)):n}t.urlParse=i,t.urlGenerate=o,t.normalize=s,t.join=function(e,t){""===e&&(e="."),""===t&&(t=".");var n=i(t),a=i(e);if(a&&(e=a.path||"/"),n&&!n.scheme)return a&&(n.scheme=a.scheme),o(n);if(n||t.match(r))return t;if(a&&!a.host&&!a.path)return a.host=t,o(a);var c="/"===t.charAt(0)?t:s(e.replace(/\/+$/,"")+"/"+t);return a?(a.path=c,o(a)):c},t.isAbsolute=function(e){return"/"===e.charAt(0)||!!e.match(n)},t.relative=function(e,t){""===e&&(e="."),e=e.replace(/\/$/,"");for(var n=0;0!==t.indexOf(e+"/");){var r=e.lastIndexOf("/");if(r<0)return t;if((e=e.slice(0,r)).match(/^([^\/]+:\/)?\/*$/))return t;++n}return Array(n+1).join("../")+t.substr(e.length+1)};var a=!("__proto__"in Object.create(null));function c(e){return e}function u(e){if(!e)return!1;var t=e.length;if(t<9)return!1;if(95!==e.charCodeAt(t-1)||95!==e.charCodeAt(t-2)||111!==e.charCodeAt(t-3)||116!==e.charCodeAt(t-4)||111!==e.charCodeAt(t-5)||114!==e.charCodeAt(t-6)||112!==e.charCodeAt(t-7)||95!==e.charCodeAt(t-8)||95!==e.charCodeAt(t-9))return!1;for(var n=t-10;n>=0;n--)if(36!==e.charCodeAt(n))return!1;return!0}function l(e,t){return e===t?0:e>t?1:-1}t.toSetString=a?c:function(e){return u(e)?"$"+e:e},t.fromSetString=a?c:function(e){return u(e)?e.slice(1):e},t.compareByOriginalPositions=function(e,t,n){var r=e.source-t.source;return 0!==r?r:0!=(r=e.originalLine-t.originalLine)?r:0!=(r=e.originalColumn-t.originalColumn)||n?r:0!=(r=e.generatedColumn-t.generatedColumn)?r:0!=(r=e.generatedLine-t.generatedLine)?r:e.name-t.name},t.compareByGeneratedPositionsDeflated=function(e,t,n){var r=e.generatedLine-t.generatedLine;return 0!==r?r:0!=(r=e.generatedColumn-t.generatedColumn)||n?r:0!=(r=e.source-t.source)?r:0!=(r=e.originalLine-t.originalLine)?r:0!=(r=e.originalColumn-t.originalColumn)?r:e.name-t.name},t.compareByGeneratedPositionsInflated=function(e,t){var n=e.generatedLine-t.generatedLine;return 0!==n?n:0!=(n=e.generatedColumn-t.generatedColumn)?n:0!==(n=l(e.source,t.source))?n:0!=(n=e.originalLine-t.originalLine)?n:0!=(n=e.originalColumn-t.originalColumn)?n:l(e.name,t.name)}},function(e,t){function n(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===n(e)},t.isBoolean=function(e){return"boolean"==typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===n(e)},t.isObject=function(e){return"object"==typeof e&&null!==e},t.isDate=function(e){return"[object Date]"===n(e)},t.isError=function(e){return"[object Error]"===n(e)||e instanceof Error},t.isFunction=function(e){return"function"==typeof e},t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=Buffer.isBuffer},function(e,t,n){"use strict";e.exports={BINARY_TYPES:["nodebuffer","arraybuffer","fragments"],GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),EMPTY_BUFFER:Buffer.alloc(0),NOOP:()=>{}}},function(e,t){e.exports=require("assert")},function(e,t,n){"use strict";const r=n(5).fromCallback,i=n(126);e.exports={remove:r(i),removeSync:i.sync}},function(e,t){e.exports={ROOT:0,GROUP:1,POSITION:2,SET:3,RANGE:4,REPETITION:5,REFERENCE:6,CHAR:7}},function(e,t,n){"use strict";
/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */e.exports=function(e){return null!=e&&("object"==typeof e||"function"==typeof e)}},function(e,t,n){"use strict";var r=n(66),i=e.exports;i.extend=n(8),i.flatten=n(162),i.isObject=n(6),i.fillRange=n(163),i.repeat=n(165),i.unique=n(25),i.define=function(e,t,n){Object.defineProperty(e,t,{writable:!0,configurable:!0,enumerable:!1,value:n})},i.isEmptySets=function(e){return/^(?:\{,\})+$/.test(e)},i.isQuotedString=function(e){var t=e.charAt(0);return("'"===t||'"'===t||"`"===t)&&e.slice(-1)===t},i.createKey=function(e,t){var n=e;if(void 0===t)return n;for(var r=Object.keys(t),i=0;i<r.length;i++){var o=r[i];n+=";"+o+"="+String(t[o])}return n},i.createOptions=function(e){var t=i.extend.apply(null,arguments);return"boolean"==typeof t.expand&&(t.optimize=!t.expand),"boolean"==typeof t.optimize&&(t.expand=!t.optimize),!0===t.optimize&&(t.makeRe=!0),t},i.join=function(e,t,n){if(n=n||{},e=i.arrayify(e),t=i.arrayify(t),!e.length)return t;if(!t.length)return e;for(var r=e.length,o=-1,s=[];++o<r;){var a=e[o];if(Array.isArray(a)){for(var c=0;c<a.length;c++)a[c]=i.join(a[c],t,n);s.push(a)}else for(var u=0;u<t.length;u++){var l=t[u];Array.isArray(l)?s.push(i.join(a,l,n)):s.push(a+l)}}return s},i.split=function(e,t){var n=i.extend({sep:","},t);return"boolean"!=typeof n.keepQuotes&&(n.keepQuotes=!0),!1===n.unescape&&(n.keepEscaping=!0),r(e,n,i.escapeBrackets(n))},i.expand=function(e,t){var n=i.extend({rangeLimit:1e4},t),r=i.split(e,n),o={segs:r};if(i.isQuotedString(e))return o;if(!0===n.rangeLimit&&(n.rangeLimit=1e4),r.length>1){if(!1===n.optimize)return o.val=r[0],o;o.segs=i.stringifyArray(o.segs)}else if(1===r.length){var s=e.split("..");if(1===s.length)return o.val=o.segs[o.segs.length-1]||o.val||e,o.segs=[],o;if(2===s.length&&s[0]===s[1])return o.escaped=!0,o.val=s[0],o.segs=[],o;if(s.length>1){if(!1!==n.optimize&&(n.optimize=!0,delete n.expand),!0!==n.optimize){var a=Math.min(s[0],s[1]),c=Math.max(s[0],s[1]),u=s[2]||1;if(!1!==n.rangeLimit&&(c-a)/u>=n.rangeLimit)throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.")}return s.push(n),o.segs=i.fillRange.apply(null,s),o.segs.length?(!0===n.optimize&&(o.segs=i.stringifyArray(o.segs)),""===o.segs?o.val=e:o.val=o.segs[0],o):(o.escaped=!0,o.val=e,o)}}else o.val=e;return o},i.escapeBrackets=function(e){return function(t){if(t.escaped&&"b"===t.val)t.val="\\b";else if("("===t.val||"["===t.val){for(var n=i.extend({},e),r=[],o=[],s=[],a=t.val,c=t.str,u=t.idx-1;++u<c.length;){var l=c[u];if("\\"!==l){if("("===l&&(o.push(l),s.push(l)),"["===l&&(r.push(l),s.push(l)),")"===l&&(o.pop(),s.pop(),!s.length)){a+=l;break}if("]"===l&&(r.pop(),s.pop(),!s.length)){a+=l;break}a+=l}else a+=(!1===n.keepEscaping?"":l)+c[++u]}t.split=!1,t.val=a.slice(1),t.idx=u}}},i.isQuantifier=function(e){return/^(?:[0-9]?,[0-9]|[0-9],)$/.test(e)},i.stringifyArray=function(e){return[i.arrayify(e).join("|")]},i.arrayify=function(e){return void 0===e?[]:"string"==typeof e?[e]:e},i.isString=function(e){return null!=e&&"string"==typeof e},i.last=function(e,t){return e[e.length-(t||1)]},i.escapeRegex=function(e){return e.replace(/\\?([!^*?()[\]{}+?\/])/g,"\\$1")}},function(e,t,n){var r=n(36),i=Object.prototype.toString;e.exports=function(e){if(void 0===e)return"undefined";if(null===e)return"null";if(!0===e||!1===e||e instanceof Boolean)return"boolean";if("string"==typeof e||e instanceof String)return"string";if("number"==typeof e||e instanceof Number)return"number";if("function"==typeof e||e instanceof Function)return"function";if(void 0!==Array.isArray&&Array.isArray(e))return"array";if(e instanceof RegExp)return"regexp";if(e instanceof Date)return"date";var t=i.call(e);return"[object RegExp]"===t?"regexp":"[object Date]"===t?"date":"[object Arguments]"===t?"arguments":"[object Error]"===t?"error":r(e)?"buffer":"[object Set]"===t?"set":"[object WeakSet]"===t?"weakset":"[object Map]"===t?"map":"[object WeakMap]"===t?"weakmap":"[object Symbol]"===t?"symbol":"[object Int8Array]"===t?"int8array":"[object Uint8Array]"===t?"uint8array":"[object Uint8ClampedArray]"===t?"uint8clampedarray":"[object Int16Array]"===t?"int16array":"[object Uint16Array]"===t?"uint16array":"[object Int32Array]"===t?"int32array":"[object Uint32Array]"===t?"uint32array":"[object Float32Array]"===t?"float32array":"[object Float64Array]"===t?"float64array":"object"}},function(e,t){function n(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
e.exports=function(e){return null!=e&&(n(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&n(e.slice(0,0))}(e)||!!e._isBuffer)}},function(e,t){function n(e){return e?Array.isArray(e)?e.join("."):e:""}
/*!
 * get-value <https://github.com/jonschlinkert/get-value>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */
e.exports=function(e,t,r,i,o){if(null===(s=e)||"object"!=typeof s&&"function"!=typeof s||!t)return e;var s;if(t=n(t),r&&(t+="."+n(r)),i&&(t+="."+n(i)),o&&(t+="."+n(o)),t in e)return e[t];for(var a=t.split("."),c=a.length,u=-1;e&&++u<c;){for(var l=a[u];"\\"===l[l.length-1];)l=l.slice(0,-1)+"."+a[++u];e=e[l]}return e}},function(e,t,n){"use strict";t.extend=n(8),t.SourceMap=n(204),t.sourceMapResolve=n(211),t.unixify=function(e){return e.split(/\\+/).join("/")},t.isString=function(e){return e&&"string"==typeof e},t.arrayify=function(e){return"string"==typeof e?[e]:e?Array.isArray(e)?e:[e]:[]},t.last=function(e,t){return e[e.length-(t||1)]}},function(e,t,n){"use strict";function r(e){return"/"===e.charAt(0)}function i(e){var t=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/.exec(e),n=t[1]||"",r=Boolean(n&&":"!==n.charAt(1));return Boolean(t[2]||r)}e.exports="win32"===process.platform?i:r,e.exports.posix=r,e.exports.win32=i},function(e,t,n){"use strict";!process.version||0===process.version.indexOf("v0.")||0===process.version.indexOf("v1.")&&0!==process.version.indexOf("v1.8.")?e.exports={nextTick:function(e,t,n,r){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var i,o,s=arguments.length;switch(s){case 0:case 1:return process.nextTick(e);case 2:return process.nextTick(function(){e.call(null,t)});case 3:return process.nextTick(function(){e.call(null,t,n)});case 4:return process.nextTick(function(){e.call(null,t,n,r)});default:for(i=new Array(s-1),o=0;o<i.length;)i[o++]=arguments[o];return process.nextTick(function(){e.apply(null,i)})}}}:e.exports=process},function(e,t,n){var r=n(18),i=r.Buffer;function o(e,t){for(var n in e)t[n]=e[n]}function s(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(o(r,t),t.Buffer=s),o(i,s),s.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},s.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},s.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},function(e,t){e.exports=require("crypto")},function(e,t,n){"use strict";const r=n(272),i=n(106),o=n(53),s=n(29),a=Buffer.from([0,0,255,255]),c=Buffer.from([0]),u=Symbol("permessage-deflate"),l=Symbol("write-in-progress"),h=Symbol("pending-close"),f=Symbol("total-length"),p=Symbol("callback"),d=Symbol("buffers"),g=Symbol("error");let m;function y(e){this[d].push(e),this[f]+=e.length}function b(e){this[f]+=e.length,this[u]._maxPayload<1||this[f]<=this[u]._maxPayload?this[d].push(e):(this[g]=new RangeError("Max payload size exceeded"),this[g][s.kStatusCode]=1009,this.removeListener("data",b),this.reset())}function v(e){this[u]._inflate=null,e[s.kStatusCode]=1007,this[p](e)}e.exports=class{constructor(e,t,n){if(this._maxPayload=0|n,this._options=e||{},this._threshold=void 0!==this._options.threshold?this._options.threshold:1024,this._isServer=!!t,this._deflate=null,this._inflate=null,this.params=null,!m){const e=void 0!==this._options.concurrencyLimit?this._options.concurrencyLimit:10;m=new r({concurrency:e})}}static get extensionName(){return"permessage-deflate"}offer(){const e={};return this._options.serverNoContextTakeover&&(e.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(e.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(e.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?e.client_max_window_bits=this._options.clientMaxWindowBits:null==this._options.clientMaxWindowBits&&(e.client_max_window_bits=!0),e}accept(e){return e=this.normalizeParams(e),this.params=this._isServer?this.acceptAsServer(e):this.acceptAsClient(e),this.params}cleanup(){this._inflate&&(this._inflate[l]?this._inflate[h]=!0:(this._inflate.close(),this._inflate=null)),this._deflate&&(this._deflate[l]?this._deflate[h]=!0:(this._deflate.close(),this._deflate=null))}acceptAsServer(e){const t=this._options,n=e.find(e=>!(!1===t.serverNoContextTakeover&&e.server_no_context_takeover||e.server_max_window_bits&&(!1===t.serverMaxWindowBits||"number"==typeof t.serverMaxWindowBits&&t.serverMaxWindowBits>e.server_max_window_bits)||"number"==typeof t.clientMaxWindowBits&&!e.client_max_window_bits));if(!n)throw new Error("None of the extension offers can be accepted");return t.serverNoContextTakeover&&(n.server_no_context_takeover=!0),t.clientNoContextTakeover&&(n.client_no_context_takeover=!0),"number"==typeof t.serverMaxWindowBits&&(n.server_max_window_bits=t.serverMaxWindowBits),"number"==typeof t.clientMaxWindowBits?n.client_max_window_bits=t.clientMaxWindowBits:!0!==n.client_max_window_bits&&!1!==t.clientMaxWindowBits||delete n.client_max_window_bits,n}acceptAsClient(e){const t=e[0];if(!1===this._options.clientNoContextTakeover&&t.client_no_context_takeover)throw new Error('Unexpected parameter "client_no_context_takeover"');if(t.client_max_window_bits){if(!1===this._options.clientMaxWindowBits||"number"==typeof this._options.clientMaxWindowBits&&t.client_max_window_bits>this._options.clientMaxWindowBits)throw new Error('Unexpected or invalid parameter "client_max_window_bits"')}else"number"==typeof this._options.clientMaxWindowBits&&(t.client_max_window_bits=this._options.clientMaxWindowBits);return t}normalizeParams(e){return e.forEach(e=>{Object.keys(e).forEach(t=>{var n=e[t];if(n.length>1)throw new Error(`Parameter "${t}" must have only a single value`);if(n=n[0],"client_max_window_bits"===t){if(!0!==n){const e=+n;if(!Number.isInteger(e)||e<8||e>15)throw new TypeError(`Invalid value for parameter "${t}": ${n}`);n=e}else if(!this._isServer)throw new TypeError(`Invalid value for parameter "${t}": ${n}`)}else if("server_max_window_bits"===t){const e=+n;if(!Number.isInteger(e)||e<8||e>15)throw new TypeError(`Invalid value for parameter "${t}": ${n}`);n=e}else{if("client_no_context_takeover"!==t&&"server_no_context_takeover"!==t)throw new Error(`Unknown parameter "${t}"`);if(!0!==n)throw new TypeError(`Invalid value for parameter "${t}": ${n}`)}e[t]=n})}),e}decompress(e,t,n){m.push(r=>{this._decompress(e,t,(e,t)=>{r(),n(e,t)})})}compress(e,t,n){m.push(r=>{this._compress(e,t,(e,t)=>{r(),n(e,t)})})}_decompress(e,t,n){const r=this._isServer?"client":"server";if(!this._inflate){const e=`${r}_max_window_bits`,t="number"!=typeof this.params[e]?i.Z_DEFAULT_WINDOWBITS:this.params[e];this._inflate=i.createInflateRaw(Object.assign({},this._options.zlibInflateOptions,{windowBits:t})),this._inflate[u]=this,this._inflate[f]=0,this._inflate[d]=[],this._inflate.on("error",v),this._inflate.on("data",b)}this._inflate[p]=n,this._inflate[l]=!0,this._inflate.write(e),t&&this._inflate.write(a),this._inflate.flush(()=>{const e=this._inflate[g];if(e)return this._inflate.close(),this._inflate=null,void n(e);const i=o.concat(this._inflate[d],this._inflate[f]);t&&this.params[`${r}_no_context_takeover`]||this._inflate[h]?(this._inflate.close(),this._inflate=null):(this._inflate[l]=!1,this._inflate[f]=0,this._inflate[d]=[]),n(null,i)})}_compress(e,t,n){if(!e||0===e.length)return void process.nextTick(n,null,c);const r=this._isServer?"server":"client";if(!this._deflate){const e=`${r}_max_window_bits`,t="number"!=typeof this.params[e]?i.Z_DEFAULT_WINDOWBITS:this.params[e];this._deflate=i.createDeflateRaw(Object.assign({memLevel:this._options.memLevel,level:this._options.level},this._options.zlibDeflateOptions,{windowBits:t})),this._deflate[f]=0,this._deflate[d]=[],this._deflate.on("data",y)}this._deflate[l]=!0,this._deflate.write(e),this._deflate.flush(i.Z_SYNC_FLUSH,()=>{var e=o.concat(this._deflate[d],this._deflate[f]);t&&(e=e.slice(0,e.length-4)),t&&this.params[`${r}_no_context_takeover`]||this._deflate[h]?(this._deflate.close(),this._deflate=null):(this._deflate[l]=!1,this._deflate[f]=0,this._deflate[d]=[]),n(null,e)})}}},function(e,t,n){"use strict";const r=n(5).fromCallback,i=n(128);e.exports={readJson:r(i.readFile),readJsonSync:i.readFileSync,writeJson:r(i.writeFile),writeJsonSync:i.writeFileSync}},function(e,t,n){"use strict";var r=n(3),i=n(62),o=n(13),s=n(81),a=n(222),c=n(236),u=n(237),l=n(238);function h(e,t,n){t=l.arrayify(t),e=l.arrayify(e);var r=t.length;if(0===e.length||0===r)return[];if(1===r)return h.match(e,t[0],n);for(var i=[],o=[],s=-1;++s<r;){var a=t[s];"string"==typeof a&&33===a.charCodeAt(0)?i.push.apply(i,h.match(e,a.slice(1),n)):o.push.apply(o,h.match(e,a,n))}var c=l.diff(o,i);return n&&!1===n.nodupes?c:l.unique(c)}function f(e){return""===String(e)||"./"===String(e)}function p(e,t,n,r){var i=l.createKey(e+"="+t,n);if(n&&!1===n.cache)return r(t,n);if(u.has(e,i))return u.get(e,i);var o=r(t,n);return u.set(e,i,o),o}h.match=function(e,t,n){if(Array.isArray(t))throw new TypeError("expected pattern to be a string");for(var r=l.unixify(n),i=p("match",t,n,h.matcher),o=[],s=(e=l.arrayify(e)).length,a=-1;++a<s;){var c=e[a];(c===t||i(c))&&o.push(l.value(c,r,n))}if(void 0===n)return l.unique(o);if(0===o.length){if(!0===n.failglob)throw new Error('no matches found for "'+t+'"');if(!0===n.nonull||!0===n.nullglob)return[n.unescape?l.unescape(t):t]}return n.ignore&&(o=h.not(o,n.ignore,n)),!1!==n.nodupes?l.unique(o):o},h.isMatch=function(e,t,n){if("string"!=typeof e)throw new TypeError('expected a string: "'+r.inspect(e)+'"');return!f(e)&&!f(t)&&(!!l.equalsPattern(n)(e)||p("isMatch",t,n,h.matcher)(e))},h.some=function(e,t,n){"string"==typeof e&&(e=[e]);for(var r=0;r<e.length;r++)if(1===h(e[r],t,n).length)return!0;return!1},h.every=function(e,t,n){"string"==typeof e&&(e=[e]);for(var r=0;r<e.length;r++)if(1!==h(e[r],t,n).length)return!1;return!0},h.any=function(e,t,n){if("string"!=typeof e)throw new TypeError('expected a string: "'+r.inspect(e)+'"');if(f(e)||f(t))return!1;"string"==typeof t&&(t=[t]);for(var i=0;i<t.length;i++)if(h.isMatch(e,t[i],n))return!0;return!1},h.all=function(e,t,n){if("string"!=typeof e)throw new TypeError('expected a string: "'+r.inspect(e)+'"');"string"==typeof t&&(t=[t]);for(var i=0;i<t.length;i++)if(!h.isMatch(e,t[i],n))return!1;return!0},h.not=function(e,t,n){var r=s({},n),i=r.ignore;delete r.ignore;var o=l.unixify(r);e=l.arrayify(e).map(o);var a=l.diff(e,h(e,t,r));return i&&(a=l.diff(a,h(e,i))),!1!==r.nodupes?l.unique(a):a},h.contains=function(e,t,n){if("string"!=typeof e)throw new TypeError('expected a string: "'+r.inspect(e)+'"');if("string"==typeof t){if(f(e)||f(t))return!1;if(l.equalsPattern(t,n)(e))return!0;if(l.containsPattern(t,n)(e))return!0}var i=s({},n,{contains:!0});return h.any(e,t,i)},h.matchBase=function(e,t){return!(e&&-1!==e.indexOf("/")||!t)&&(!0===t.basename||!0===t.matchBase)},h.matchKeys=function(e,t,n){if(!l.isObject(e))throw new TypeError("expected the first argument to be an object");var r=h(Object.keys(e),t,n);return l.pick(e,r)},h.matcher=function e(t,n){if(Array.isArray(t))return function(e,t,n){var r;return p("compose",String(e),t,function(){return function(i){if(!r){r=[];for(var o=0;o<e.length;o++)r.push(n(e[o],t))}for(var s=r.length;s--;)if(!0===r[s](i))return!0;return!1}})}(t,n,e);if(t instanceof RegExp)return i(t);if(!l.isString(t))throw new TypeError("expected pattern to be an array, string or regex");if(!l.hasSpecialChars(t))return n&&!0===n.nocase&&(t=t.toLowerCase()),l.matchPath(t,n);var r=h.makeRe(t,n);if(h.matchBase(t,n))return l.matchBasename(r,n);function i(e){var t=l.equalsPattern(n),r=l.unixify(n);return function(n){return!!t(n)||!!e.test(r(n))}}var o=i(r);return Object.defineProperty(o,"result",{configurable:!0,enumerable:!1,value:r.result}),o},h.capture=function(e,t,n){var r=h.makeRe(e,s({capture:!0},n)),i=l.unixify(n);return p("capture",e,n,function(){return function(e){var t=r.exec(i(e));return t?t.slice(1):null}})(t)},h.makeRe=function(e,t){if("string"!=typeof e)throw new TypeError("expected pattern to be a string");if(e.length>65536)throw new Error("expected pattern to be less than 65536 characters");return p("makeRe",e,t,function(){var n=h.create(e,t),r=[],i=n.map(function(e){return e.ast.state=e.state,r.push(e.ast),e.output}),s=o(i.join("|"),t);return Object.defineProperty(s,"result",{configurable:!0,enumerable:!1,value:r}),s})},h.braces=function(e,t){if("string"!=typeof e&&!Array.isArray(e))throw new TypeError("expected pattern to be an array or string");return p("braces",e,t,function(){return t&&!0===t.nobrace||!/\{.*\}/.test(e)?l.arrayify(e):i(e,t)})},h.braceExpand=function(e,t){var n=s({},t,{expand:!0});return h.braces(e,n)},h.create=function(e,t){return p("create",e,t,function(){for(var n,r,i=(e=h.braces(e,t)).length,o=-1,s=[];++o<i;)s.push((n=e[o],r=t,h.compile(h.parse(n,r),r)));return s})},h.parse=function(e,t){if("string"!=typeof e)throw new TypeError("expected a string");return p("parse",e,t,function(){var n=l.instantiate(null,t);c(n,t);var r=n.parse(e,t);return l.define(r,"snapdragon",n),r.input=e,r})},h.compile=function(e,t){return"string"==typeof e&&(e=h.parse(e,t)),p("compile",e.input,t,function(){var n=l.instantiate(e,t);return a(n,t),n.compile(e,t)})},h.clearCache=function(){h.cache.caches={}},h.compilers=a,h.parsers=c,h.caches=u.caches,e.exports=h},function(e,t,n){"use strict";
/*!
 * is-number <https://github.com/jonschlinkert/is-number>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var r=n(35);e.exports=function(e){var t=r(e);if("string"===t){if(!e.trim())return!1}else if("number"!==t)return!1;return e-e+1>=0}},function(e,t,n){"undefined"!=typeof process&&"renderer"===process.type?e.exports=n(200):e.exports=n(202)},function(e,t){e.exports=require("url")},function(e,t,n){"use strict";
/*!
 * fragment-cache <https://github.com/jonschlinkert/fragment-cache>
 *
 * Copyright (c) 2016-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var r=n(80);function i(e){this.caches=e||{}}i.prototype={cache:function(e){return this.caches[e]||(this.caches[e]=new r)},set:function(e,t,n){var r=this.cache(e);return r.set(t,n),r},has:function(e,t){return void 0!==this.get(e,t)},get:function(e,t){var n=this.cache(e);return"string"==typeof t?n.get(t):n}},e.exports=i},function(e,t,n){e.exports=v;var r=n(2),i=n(101),o=n(51),s=(o.Minimatch,n(16)),a=n(22).EventEmitter,c=n(0),u=n(30),l=n(39),h=n(262),f=n(102),p=(f.alphasort,f.alphasorti,f.setopts),d=f.ownProp,g=n(263),m=(n(3),f.childrenIgnored),y=f.isIgnored,b=n(104);function v(e,t,n){if("function"==typeof t&&(n=t,t={}),t||(t={}),t.sync){if(n)throw new TypeError("callback provided to sync glob");return h(e,t)}return new x(e,t,n)}v.sync=h;var w=v.GlobSync=h.GlobSync;function x(e,t,n){if("function"==typeof t&&(n=t,t=null),t&&t.sync){if(n)throw new TypeError("callback provided to sync glob");return new w(e,t)}if(!(this instanceof x))return new x(e,t,n);p(this,e,t),this._didRealPath=!1;var r=this.minimatch.set.length;this.matches=new Array(r),"function"==typeof n&&(n=b(n),this.on("error",n),this.on("end",function(e){n(null,e)}));var i=this;if(this._processing=0,this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(0===r)return a();for(var o=!0,s=0;s<r;s++)this._process(this.minimatch.set[s],s,!1,a);function a(){--i._processing,i._processing<=0&&(o?process.nextTick(function(){i._finish()}):i._finish())}o=!1}v.glob=v,v.hasMagic=function(e,t){var n=function(e,t){if(null===t||"object"!=typeof t)return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}({},t);n.noprocess=!0;var r=new x(e,n).minimatch.set;if(!e)return!1;if(r.length>1)return!0;for(var i=0;i<r[0].length;i++)if("string"!=typeof r[0][i])return!0;return!1},v.Glob=x,s(x,a),x.prototype._finish=function(){if(u(this instanceof x),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();f.finish(this),this.emit("end",this.found)}},x.prototype._realpath=function(){if(!this._didRealpath){this._didRealpath=!0;var e=this.matches.length;if(0===e)return this._finish();for(var t=this,n=0;n<this.matches.length;n++)this._realpathSet(n,r)}function r(){0==--e&&t._finish()}},x.prototype._realpathSet=function(e,t){var n=this.matches[e];if(!n)return t();var r=Object.keys(n),o=this,s=r.length;if(0===s)return t();var a=this.matches[e]=Object.create(null);r.forEach(function(n,r){n=o._makeAbs(n),i.realpath(n,o.realpathCache,function(r,i){r?"stat"===r.syscall?a[n]=!0:o.emit("error",r):a[i]=!0,0==--s&&(o.matches[e]=a,t())})})},x.prototype._mark=function(e){return f.mark(this,e)},x.prototype._makeAbs=function(e){return f.makeAbs(this,e)},x.prototype.abort=function(){this.aborted=!0,this.emit("abort")},x.prototype.pause=function(){this.paused||(this.paused=!0,this.emit("pause"))},x.prototype.resume=function(){if(this.paused){if(this.emit("resume"),this.paused=!1,this._emitQueue.length){var e=this._emitQueue.slice(0);this._emitQueue.length=0;for(var t=0;t<e.length;t++){var n=e[t];this._emitMatch(n[0],n[1])}}if(this._processQueue.length){var r=this._processQueue.slice(0);this._processQueue.length=0;for(t=0;t<r.length;t++){var i=r[t];this._processing--,this._process(i[0],i[1],i[2],i[3])}}}},x.prototype._process=function(e,t,n,r){if(u(this instanceof x),u("function"==typeof r),!this.aborted)if(this._processing++,this.paused)this._processQueue.push([e,t,n,r]);else{for(var i,s=0;"string"==typeof e[s];)s++;switch(s){case e.length:return void this._processSimple(e.join("/"),t,r);case 0:i=null;break;default:i=e.slice(0,s).join("/")}var a,c=e.slice(s);null===i?a=".":l(i)||l(e.join("/"))?(i&&l(i)||(i="/"+i),a=i):a=i;var h=this._makeAbs(a);if(m(this,a))return r();c[0]===o.GLOBSTAR?this._processGlobStar(i,a,h,c,t,n,r):this._processReaddir(i,a,h,c,t,n,r)}},x.prototype._processReaddir=function(e,t,n,r,i,o,s){var a=this;this._readdir(n,o,function(c,u){return a._processReaddir2(e,t,n,r,i,o,u,s)})},x.prototype._processReaddir2=function(e,t,n,r,i,o,s,a){if(!s)return a();for(var u=r[0],l=!!this.minimatch.negate,h=u._glob,f=this.dot||"."===h.charAt(0),p=[],d=0;d<s.length;d++){if("."!==(m=s[d]).charAt(0)||f)(l&&!e?!m.match(u):m.match(u))&&p.push(m)}var g=p.length;if(0===g)return a();if(1===r.length&&!this.mark&&!this.stat){this.matches[i]||(this.matches[i]=Object.create(null));for(d=0;d<g;d++){var m=p[d];e&&(m="/"!==e?e+"/"+m:e+m),"/"!==m.charAt(0)||this.nomount||(m=c.join(this.root,m)),this._emitMatch(i,m)}return a()}r.shift();for(d=0;d<g;d++){m=p[d];e&&(m="/"!==e?e+"/"+m:e+m),this._process([m].concat(r),i,o,a)}a()},x.prototype._emitMatch=function(e,t){if(!this.aborted&&!y(this,t))if(this.paused)this._emitQueue.push([e,t]);else{var n=l(t)?t:this._makeAbs(t);if(this.mark&&(t=this._mark(t)),this.absolute&&(t=n),!this.matches[e][t]){if(this.nodir){var r=this.cache[n];if("DIR"===r||Array.isArray(r))return}this.matches[e][t]=!0;var i=this.statCache[n];i&&this.emit("stat",t,i),this.emit("match",t)}}},x.prototype._readdirInGlobStar=function(e,t){if(!this.aborted){if(this.follow)return this._readdir(e,!1,t);var n=this,i=g("lstat\0"+e,function(r,i){if(r&&"ENOENT"===r.code)return t();var o=i&&i.isSymbolicLink();n.symlinks[e]=o,o||!i||i.isDirectory()?n._readdir(e,!1,t):(n.cache[e]="FILE",t())});i&&r.lstat(e,i)}},x.prototype._readdir=function(e,t,n){if(!this.aborted&&(n=g("readdir\0"+e+"\0"+t,n))){if(t&&!d(this.symlinks,e))return this._readdirInGlobStar(e,n);if(d(this.cache,e)){var i=this.cache[e];if(!i||"FILE"===i)return n();if(Array.isArray(i))return n(null,i)}r.readdir(e,function(e,t,n){return function(r,i){r?e._readdirError(t,r,n):e._readdirEntries(t,i,n)}}(this,e,n))}},x.prototype._readdirEntries=function(e,t,n){if(!this.aborted){if(!this.mark&&!this.stat)for(var r=0;r<t.length;r++){var i=t[r];i="/"===e?e+i:e+"/"+i,this.cache[i]=!0}return this.cache[e]=t,n(null,t)}},x.prototype._readdirError=function(e,t,n){if(!this.aborted){switch(t.code){case"ENOTSUP":case"ENOTDIR":var r=this._makeAbs(e);if(this.cache[r]="FILE",r===this.cwdAbs){var i=new Error(t.code+" invalid cwd "+this.cwd);i.path=this.cwd,i.code=t.code,this.emit("error",i),this.abort()}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(e)]=!1;break;default:this.cache[this._makeAbs(e)]=!1,this.strict&&(this.emit("error",t),this.abort()),this.silent||console.error("glob error",t)}return n()}},x.prototype._processGlobStar=function(e,t,n,r,i,o,s){var a=this;this._readdir(n,o,function(c,u){a._processGlobStar2(e,t,n,r,i,o,u,s)})},x.prototype._processGlobStar2=function(e,t,n,r,i,o,s,a){if(!s)return a();var c=r.slice(1),u=e?[e]:[],l=u.concat(c);this._process(l,i,!1,a);var h=this.symlinks[n],f=s.length;if(h&&o)return a();for(var p=0;p<f;p++){if("."!==s[p].charAt(0)||this.dot){var d=u.concat(s[p],c);this._process(d,i,!0,a);var g=u.concat(s[p],r);this._process(g,i,!0,a)}}a()},x.prototype._processSimple=function(e,t,n){var r=this;this._stat(e,function(i,o){r._processSimple2(e,t,i,o,n)})},x.prototype._processSimple2=function(e,t,n,r,i){if(this.matches[t]||(this.matches[t]=Object.create(null)),!r)return i();if(e&&l(e)&&!this.nomount){var o=/[\/\\]$/.test(e);"/"===e.charAt(0)?e=c.join(this.root,e):(e=c.resolve(this.root,e),o&&(e+="/"))}"win32"===process.platform&&(e=e.replace(/\\/g,"/")),this._emitMatch(t,e),i()},x.prototype._stat=function(e,t){var n=this._makeAbs(e),i="/"===e.slice(-1);if(e.length>this.maxLength)return t();if(!this.stat&&d(this.cache,n)){var o=this.cache[n];if(Array.isArray(o)&&(o="DIR"),!i||"DIR"===o)return t(null,o);if(i&&"FILE"===o)return t()}var s=this.statCache[n];if(void 0!==s){if(!1===s)return t(null,s);var a=s.isDirectory()?"DIR":"FILE";return i&&"FILE"===a?t():t(null,a,s)}var c=this,u=g("stat\0"+n,function(i,o){if(o&&o.isSymbolicLink())return r.stat(n,function(r,i){r?c._stat2(e,n,null,o,t):c._stat2(e,n,r,i,t)});c._stat2(e,n,i,o,t)});u&&r.lstat(n,u)},x.prototype._stat2=function(e,t,n,r,i){if(n&&("ENOENT"===n.code||"ENOTDIR"===n.code))return this.statCache[t]=!1,i();var o="/"===e.slice(-1);if(this.statCache[t]=r,"/"===t.slice(-1)&&r&&!r.isDirectory())return i(null,!1,r);var s=!0;return r&&(s=r.isDirectory()?"DIR":"FILE"),this.cache[t]=this.cache[t]||s,o&&"FILE"===s?i():i(null,s,r)}},function(e,t,n){e.exports=d,d.Minimatch=g;var r={sep:"/"};try{r=n(0)}catch(e){}var i=d.GLOBSTAR=g.GLOBSTAR={},o=n(259),s={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},a="[^/]",c=a+"*?",u="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",l="(?:(?!(?:\\/|^)\\.).)*?",h="().*{}+?[]^$\\!".split("").reduce(function(e,t){return e[t]=!0,e},{});var f=/\/+/;function p(e,t){e=e||{},t=t||{};var n={};return Object.keys(t).forEach(function(e){n[e]=t[e]}),Object.keys(e).forEach(function(t){n[t]=e[t]}),n}function d(e,t,n){if("string"!=typeof t)throw new TypeError("glob pattern string required");return n||(n={}),!(!n.nocomment&&"#"===t.charAt(0))&&(""===t.trim()?""===e:new g(t,n).match(e))}function g(e,t){if(!(this instanceof g))return new g(e,t);if("string"!=typeof e)throw new TypeError("glob pattern string required");t||(t={}),e=e.trim(),"/"!==r.sep&&(e=e.split(r.sep).join("/")),this.options=t,this.set=[],this.pattern=e,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.make()}function m(e,t){if(t||(t=this instanceof g?this.options:{}),void 0===(e=void 0===e?this.pattern:e))throw new TypeError("undefined pattern");return t.nobrace||!e.match(/\{.*\}/)?[e]:o(e)}d.filter=function(e,t){return t=t||{},function(n,r,i){return d(n,e,t)}},d.defaults=function(e){if(!e||!Object.keys(e).length)return d;var t=d,n=function(n,r,i){return t.minimatch(n,r,p(e,i))};return n.Minimatch=function(n,r){return new t.Minimatch(n,p(e,r))},n},g.defaults=function(e){return e&&Object.keys(e).length?d.defaults(e).Minimatch:g},g.prototype.debug=function(){},g.prototype.make=function(){if(this._made)return;var e=this.pattern,t=this.options;if(!t.nocomment&&"#"===e.charAt(0))return void(this.comment=!0);if(!e)return void(this.empty=!0);this.parseNegate();var n=this.globSet=this.braceExpand();t.debug&&(this.debug=console.error);this.debug(this.pattern,n),n=this.globParts=n.map(function(e){return e.split(f)}),this.debug(this.pattern,n),n=n.map(function(e,t,n){return e.map(this.parse,this)},this),this.debug(this.pattern,n),n=n.filter(function(e){return-1===e.indexOf(!1)}),this.debug(this.pattern,n),this.set=n},g.prototype.parseNegate=function(){var e=this.pattern,t=!1,n=this.options,r=0;if(n.nonegate)return;for(var i=0,o=e.length;i<o&&"!"===e.charAt(i);i++)t=!t,r++;r&&(this.pattern=e.substr(r));this.negate=t},d.braceExpand=function(e,t){return m(e,t)},g.prototype.braceExpand=m,g.prototype.parse=function(e,t){if(e.length>65536)throw new TypeError("pattern is too long");var n=this.options;if(!n.noglobstar&&"**"===e)return i;if(""===e)return"";var r,o="",u=!!n.nocase,l=!1,f=[],p=[],d=!1,g=-1,m=-1,b="."===e.charAt(0)?"":n.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",v=this;function w(){if(r){switch(r){case"*":o+=c,u=!0;break;case"?":o+=a,u=!0;break;default:o+="\\"+r}v.debug("clearStateChar %j %j",r,o),r=!1}}for(var x,k=0,_=e.length;k<_&&(x=e.charAt(k));k++)if(this.debug("%s\t%s %s %j",e,k,o,x),l&&h[x])o+="\\"+x,l=!1;else switch(x){case"/":return!1;case"\\":w(),l=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",e,k,o,x),d){this.debug("  in class"),"!"===x&&k===m+1&&(x="^"),o+=x;continue}v.debug("call clearStateChar %j",r),w(),r=x,n.noext&&w();continue;case"(":if(d){o+="(";continue}if(!r){o+="\\(";continue}f.push({type:r,start:k-1,reStart:o.length,open:s[r].open,close:s[r].close}),o+="!"===r?"(?:(?!(?:":"(?:",this.debug("plType %j %j",r,o),r=!1;continue;case")":if(d||!f.length){o+="\\)";continue}w(),u=!0;var S=f.pop();o+=S.close,"!"===S.type&&p.push(S),S.reEnd=o.length;continue;case"|":if(d||!f.length||l){o+="\\|",l=!1;continue}w(),o+="|";continue;case"[":if(w(),d){o+="\\"+x;continue}d=!0,m=k,g=o.length,o+=x;continue;case"]":if(k===m+1||!d){o+="\\"+x,l=!1;continue}if(d){var E=e.substring(m+1,k);try{RegExp("["+E+"]")}catch(e){var C=this.parse(E,y);o=o.substr(0,g)+"\\["+C[0]+"\\]",u=u||C[1],d=!1;continue}}u=!0,d=!1,o+=x;continue;default:w(),l?l=!1:!h[x]||"^"===x&&d||(o+="\\"),o+=x}d&&(E=e.substr(m+1),C=this.parse(E,y),o=o.substr(0,g)+"\\["+C[0],u=u||C[1]);for(S=f.pop();S;S=f.pop()){var T=o.slice(S.reStart+S.open.length);this.debug("setting tail",o,S),T=T.replace(/((?:\\{2}){0,64})(\\?)\|/g,function(e,t,n){return n||(n="\\"),t+t+n+"|"}),this.debug("tail=%j\n   %s",T,T,S,o);var O="*"===S.type?c:"?"===S.type?a:"\\"+S.type;u=!0,o=o.slice(0,S.reStart)+O+"\\("+T}w(),l&&(o+="\\\\");var A=!1;switch(o.charAt(0)){case".":case"[":case"(":A=!0}for(var j=p.length-1;j>-1;j--){var P=p[j],L=o.slice(0,P.reStart),R=o.slice(P.reStart,P.reEnd-8),M=o.slice(P.reEnd-8,P.reEnd),I=o.slice(P.reEnd);M+=I;var N=L.split("(").length-1,F=I;for(k=0;k<N;k++)F=F.replace(/\)[+*?]?/,"");var D="";""===(I=F)&&t!==y&&(D="$");var $=L+R+I+D+M;o=$}""!==o&&u&&(o="(?=.)"+o);A&&(o=b+o);if(t===y)return[o,u];if(!u)return e.replace(/\\(.)/g,"$1");var B=n.nocase?"i":"";try{var W=new RegExp("^"+o+"$",B)}catch(e){return new RegExp("$.")}return W._glob=e,W._src=o,W};var y={};d.makeRe=function(e,t){return new g(e,t||{}).makeRe()},g.prototype.makeRe=function(){if(this.regexp||!1===this.regexp)return this.regexp;var e=this.set;if(!e.length)return this.regexp=!1,this.regexp;var t=this.options,n=t.noglobstar?c:t.dot?u:l,r=t.nocase?"i":"",o=e.map(function(e){return e.map(function(e){return e===i?n:"string"==typeof e?e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):e._src}).join("\\/")}).join("|");o="^(?:"+o+")$",this.negate&&(o="^(?!"+o+").*$");try{this.regexp=new RegExp(o,r)}catch(e){this.regexp=!1}return this.regexp},d.match=function(e,t,n){var r=new g(t,n=n||{});return e=e.filter(function(e){return r.match(e)}),r.options.nonull&&!e.length&&e.push(t),e},g.prototype.match=function(e,t){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return""===e;if("/"===e&&t)return!0;var n=this.options;"/"!==r.sep&&(e=e.split(r.sep).join("/"));e=e.split(f),this.debug(this.pattern,"split",e);var i,o,s=this.set;for(this.debug(this.pattern,"set",s),o=e.length-1;o>=0&&!(i=e[o]);o--);for(o=0;o<s.length;o++){var a=s[o],c=e;n.matchBase&&1===a.length&&(c=[i]);var u=this.matchOne(c,a,t);if(u)return!!n.flipNegate||!this.negate}return!n.flipNegate&&this.negate},g.prototype.matchOne=function(e,t,n){var r=this.options;this.debug("matchOne",{this:this,file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var o=0,s=0,a=e.length,c=t.length;o<a&&s<c;o++,s++){this.debug("matchOne loop");var u,l=t[s],h=e[o];if(this.debug(t,l,h),!1===l)return!1;if(l===i){this.debug("GLOBSTAR",[t,l,h]);var f=o,p=s+1;if(p===c){for(this.debug("** at the end");o<a;o++)if("."===e[o]||".."===e[o]||!r.dot&&"."===e[o].charAt(0))return!1;return!0}for(;f<a;){var d=e[f];if(this.debug("\nglobstar while",e,f,t,p,d),this.matchOne(e.slice(f),t.slice(p),n))return this.debug("globstar found match!",f,a,d),!0;if("."===d||".."===d||!r.dot&&"."===d.charAt(0)){this.debug("dot detected!",e,f,t,p);break}this.debug("globstar swallow a segment, and continue"),f++}return!(!n||(this.debug("\n>>> no match, partial?",e,f,t,p),f!==a))}if("string"==typeof l?(u=r.nocase?h.toLowerCase()===l.toLowerCase():h===l,this.debug("string match",l,h,u)):(u=h.match(l),this.debug("pattern match",l,h,u)),!u)return!1}if(o===a&&s===c)return!0;if(o===a)return n;if(s===c)return o===a-1&&""===e[o];throw new Error("wtf?")}},function(e,t){e.exports=require("http")},function(e,t,n){"use strict";function r(e,t){const n=Buffer.allocUnsafe(t);for(var r=0,i=0;i<e.length;i++){const t=e[i];t.copy(n,r),r+=t.length}return n}function i(e,t,n,r,i){for(var o=0;o<i;o++)n[r+o]=e[o]^t[3&o]}function o(e,t){const n=e.length;for(var r=0;r<n;r++)e[r]^=t[3&r]}try{const t=n(273),s=t.BufferUtil||t;e.exports={mask(e,t,n,r,o){o<48?i(e,t,n,r,o):s.mask(e,t,n,r,o)},unmask(e,t){e.length<32?o(e,t):s.unmask(e,t)},concat:r}}catch(t){e.exports={concat:r,mask:i,unmask:o}}},function(e){e.exports=[["0","\0",127,""],["8140","",5,"",9,"",6,""],["8180","",6,"",4,"",4,"",5,""],["8240","",4,"",8,"",4,"",11],["8280","",10,"",4,"",7,"",5,"",8,"",20,"",4,"",6,""],["8340","",17,"",5,"",10,"",4,"",9,""],["8380","",5,"",13,"",28,"",4,"",4,"",5],["8440","",5,"",5,""],["8480","",9,"",4,"",6,"",6,"",9,"",5,"",10,"",7,""],["8540","",9,""],["8580","",4,"",6,"",4,"",4,"",7,""],["8640","",4,"",5,"",4,"",5,""],["8680","",4,"",4,"",5,"",6,"",8,"",4,"",4,"",4,""],["8740","",7,"",11,"",4,"",4],["8780","",7,"",6,"",14,"",10,"",6,"",12,"",8,"",5,"",6],["8840","",9,"",4,"",4,""],["8880","",4,"",6,"",8,"",6,"",7,"",4,"",4,"",7],["8940","",5,"",6,"",4,"",5,"",4,"",16,""],["8980","",4,"",4,"",7,"",17,"",10,"",13,"",5,"",7,"",4,""],["8a40","",4,"",12,""],["8a80","",5,"",6,"",4,"",11,"",6,"",4,"",4,"",9,"",5],["8b40","",8,"",17,"",6,"",13,""],["8b80","",4,"",4,"",5,"",4,"",4,"",22,"",11,"",25,"",7,"",6],["8c40","",7,""],["8c80","",8,"",4,"",6,"",6,"",6,"",4,"",4,"",4],["8d40","",5,"",5,"",5,"",6,"",9,"",4],["8d80","",5,"",4,"",4,"",4,"",7,"",7,"",10,"",10,"",12,"",21,""],["8e40","",21,"",12,"",6,"",12,""],["8e80","",4,"",7,"",4,"",4,"",5,"",6,"",4,"",14,"",4,"",4,"",6],["8f40","",5,"",11,"",8,""],["8f80","",6,"",14,"",5,"",5,"",4,""],["9040","",4,"",4,"",6,""],["9080","",7,"",4,"",4,"",4,"",4,"",18,"",6],["9140","",6,"",6,"",18,"",4,""],["9180","",6,"",8,"",9,"",5,"",4,"",4,"",16,"",13,"",8,"",5,"",4,""],["9240","",6,"",5,""],["9280","",5,"",7,"",6,""],["9340","",6,"",4,"",4,"",5,""],["9380","",5,"",4,"",6,"",4,"",7,"",9,"",6,"",8,"",4,"",6,""],["9440","",24,"",7,"",7,"",4,"",8],["9480","",4,"",4,"",14,"",7,"",7,""],["9540","",4,"",4,"",6,""],["9580","",4,"",4,"",8,"",4,"",4,"",25,"",7,"",5,""],["9640","",5,"",4,""],["9680","",7,"",9,"",7,"",4,"",6,"",6,"",5],["9740","",7,"",8,"",7,"",9,""],["9780","",6,"",5,"",4,"",9,"",4,"",11,"",7,"",16,""],["9840","",4,"",5,"",9,""],["9880","",7,"",5,"",11,"",9,"",9,"",11,"",5,"",5,"",6,"",4,"",7,"",6,""],["9940","",4,"",10,"",6,"",8,"",4,"",7,"",5],["9980","",114,"",6],["9a40","",11,"",7,"",13,""],["9a80","",4,"",7,"",7,"",6,"",4,"",4,"",7,"",6,"",4,"",4,""],["9b40","",4,""],["9b80","",5,"",4,"",4,"",5,""],["9c40","",7,""],["9c80","",7,"",7,"",10,"",14,"",4,"",6,"",5],["9d40","",7,"",4,"",9,"",6,""],["9d80","",9,"",5,"",6,"",12,"",4,"",10,"",5,"",5,"",6,"",10,""],["9e40","",7,"",32,"",7,"",6,"",6],["9e80","",9,"",17,"",13,"",11,"",12,"",12,""],["9f40","",6,"",10,"",4,"",10,"",7,""],["9f80","",13,"",12,"",4,"",4,"",5,"",4,"",4,"",6,"",5,"",8,"",9,"",4],["a040","",9,"",5,"",9,"",11,"",19],["a080","",9,"",6,"",4,"",11,"",11,"",6,""],["a1a1","",7,""],["a2a1","",9],["a2b1","",19,"",19,"",9],["a2e5","",9],["a2f1","",11],["a3a1","",88,""],["a4a1","",82],["a5a1","",85],["a6a1","",16,"",6],["a6c1","",16,"",6],["a6e0",""],["a6ee",""],["a6f4",""],["a7a1","",5,"",25],["a7d1","",5,"",25],["a840","",35,"",6],["a880","",7,""],["a8a1",""],["a8bd",""],["a8c0",""],["a8c5","",36],["a940","",8,""],["a959",""],["a95c",""],["a960","",9,"",8],["a980","",4,""],["a996",""],["a9a4","",75],["aa40","",5,"",5,"",8],["aa80","",7,"",10,""],["ab40","",11,"",4,"",5,"",4],["ab80","",6,"",4],["ac40","",10,"",8,"",5,"",4,"",11],["ac80","",6,"",12,"",4,""],["ad40","",10,"",7,"",15,"",12],["ad80","",9,"",8,"",6,""],["ae40","",6,"",7,"",4,""],["ae80","",7,"",6,"",4,""],["af40","",4,""],["af80",""],["b040","",6,"",5,"",4,"",6,"",7,""],["b080","",7,"",8,"",9,""],["b140","",4,"",7,"",10,""],["b180","",4,"",7,"",7,""],["b240","",11,"",5,"",11,"",4],["b280","",12,"",8,"",4,""],["b340","",5,""],["b380","",11,"",7,"",6,""],["b440","",7,"",9],["b480","",4,"",5,"",6,""],["b540","",5,"",9,"",4,"",14,"",4,"",8,""],["b580","",6,"",4,""],["b640","",6,"",11,"",10,"",4,"",5,""],["b680","",6,"",4,""],["b740","",14,"",5,"",9,"",4,"",16],["b780","",6,""],["b840","",4,"",10,"",10,"",9,"",5,""],["b880","",4,""],["b940","",5,"",10,"",6,""],["b980","",7,""],["ba40","",4,"",4,"",7,"",5,""],["ba80","",4,"",5,"",12,"",5,""],["bb40","",9,"",36,"",5,"",9],["bb80","",6,"",4,""],["bc40","",6,"",6,"",5,"",7,"",13,"",5],["bc80","",14,"",6,""],["bd40","",54,"",7],["bd80","",32,""],["be40","",12,"",6,"",42],["be80","",32,""],["bf40","",62],["bf80","",4,"",4,"",21,""],["c040","",35,"",23,""],["c080","",6,"",9,""],["c140","",4,"",7,"",4,"",4,"",6,""],["c180","",4,"",4,"",5,""],["c240","",6,"",5,""],["c280","",13,"",5,"",11,""],["c340","",5,"",4,"",6,""],["c380","",12,"",4,""],["c440","",5,"",4,"",4,"",5,"",4,""],["c480","",7,"",5,"",6,""],["c540","",14,"",4,"",5,"",4,"",5,""],["c580","",7,"",7,""],["c640",""],["c680","",4,"",9,""],["c740","",4,"",4,"",6,"",6,"",6,""],["c780",""],["c840","",4,"",5,"",5,"",7,"",5,"",7,""],["c880","",6,"",4,"",4,""],["c940","",4,"",7,"",12,""],["c980","",4,"",4,"",10,""],["ca40","",8,"",8,"",9,"",4,"",10],["ca80","",4,"",8,""],["cb40","",6,"",10,"",6,"",5,"",6,"",6,"",4,""],["cb80","",5,"",6,"",14,""],["cc40","",4,"",10,"",15,"",13,""],["cc80","",11,"",4,"",7,""],["cd40","",6,"",6,"",4,"",5,"",4,"",4,""],["cd80",""],["ce40","",6,"",5,"",7,""],["ce80","",4,"",6,"",4,""],["cf40","",4,"",4,"",6,"",9],["cf80","",5,"",7,"",4,""],["d040","",13,"",5,"",5,"",5,"",6,""],["d080","",4,"",4,"",5,""],["d140","",4,"",4,"",6,"",5],["d180","",4,"",4,"",4,""],["d240","",8,"",24,"",5,"",19,""],["d280","",26,""],["d340","",30,"",6],["d380","",4,"",5,"",21,""],["d440","",31,"",8,"",21],["d480","",25,"",6,""],["d540","",7,"",7,"",46],["d580","",32,""],["d640","",34,"",27],["d680","",30,""],["d740","",31,"",4,"",25],["d780","",24,""],["d840","",8,"",7,"",5,"",6,"",6,"",6,""],["d880","",6,"",20,""],["d940","",62],["d980","",32,""],["da40","",14,"",8,"",4,"",9,""],["da80","",12,""],["db40","",6,"",7,"",4,""],["db80","",4,"",5,"",11,""],["dc40","",4,"",6,"",6,"",11,"",6,"",7],["dc80","",10,"",21,""],["dd40","",62],["dd80","",32,""],["de40","",32,""],["de80","",4,""],["df40","",5,"",4,"",4,"",5,"",4,"",6,""],["df80","",4,""],["e040","",19,""],["e080","",10,"",6,"",8,""],["e140","",4,"",6,"",5,"",5,""],["e180","",10,"",9,"",8,""],["e240","",62],["e280","",32,"",5,""],["e340","",45,"",16],["e380","",7,"",24,""],["e440","",5,"",24,"",31],["e480","",32,""],["e540","",51,"",10],["e580","",31,""],["e640","",34,"",27],["e680","",29,""],["e740","",7,"",54],["e780","",32,"",6,"",4,""],["e840","",14,"",43,""],["e880","",20,""],["e940","",7,"",42],["e980","",32,""],["ea40","",27,"",6,""],["ea80","",4,"",12,""],["eb40","",9,"",7,"",9,"",6,""],["eb80","",4,""],["ec40","",8,"",4,"",18,"",7],["ec80","",4,"",7,"",4,"",4,""],["ed40","",6,"",46],["ed80","",4,"",23,""],["ee40","",62],["ee80","",32,"",4,"",6,""],["ef40","",5,"",37,"",4],["ef80","",30,"",4,"",8,""],["f040","",4,"",28,"",26],["f080","",9,"",12,"",4,"",6,""],["f140","",10,"",47],["f180","",32,""],["f240","",62],["f280","",32,""],["f340","",17,"",6,"",4,""],["f380","",8,"",6,""],["f440","",5,"",10,"",10,"",7,"",5],["f480","",32,""],["f540","",62],["f580","",32,""],["f640","",62],["f680","",32,"",5,"",5,"",4,"",7,""],["f740","",62],["f780","",4,"",4,""],["f840","",62],["f880","",32],["f940","",62],["f980","",32],["fa40","",62],["fa80","",32],["fb40","",27,"",9,""],["fb80","",5,"",8,"",5,""],["fc40","",8,"",4,"",8,"",6],["fc80","",4,"",5,"",8,""],["fd40","",4,"",4,"",10,"",38],["fd80","",5,"",11,"",4,""],["fe40",""]]},function(e,t,n){const r=n(5).fromCallback,i=n(4),o=["access","appendFile","chmod","chown","close","copyFile","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchown","link","lstat","mkdir","mkdtemp","open","readFile","readdir","readlink","realpath","rename","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"].filter(e=>"function"==typeof i[e]);Object.keys(i).forEach(e=>{t[e]=i[e]}),o.forEach(e=>{t[e]=r(i[e])}),t.exists=function(e,t){return"function"==typeof t?i.exists(e,t):new Promise(t=>i.exists(e,t))},t.read=function(e,t,n,r,o,s){return"function"==typeof s?i.read(e,t,n,r,o,s):new Promise((s,a)=>{i.read(e,t,n,r,o,(e,t,n)=>{if(e)return a(e);s({bytesRead:t,buffer:n})})})},t.write=function(e,t,n,r,o,s){return"function"==typeof arguments[arguments.length-1]?i.write(e,t,n,r,o,s):"string"==typeof t?new Promise((o,s)=>{i.write(e,t,n,r,(e,t,n)=>{if(e)return s(e);o({bytesWritten:t,buffer:n})})}):new Promise((s,a)=>{i.write(e,t,n,r,o,(e,t,n)=>{if(e)return a(e);s({bytesWritten:t,buffer:n})})})}},function(e,t,n){"use strict";const r=n(4),i=n(0),o=n(7).mkdirs,s=n(11).pathExists,a=n(58).utimesMillis,c=Symbol("notExist"),u=Symbol("existsReg");function l(e,t,n,r){const a=i.dirname(t);s(a,(i,s)=>i?r(i):s?h(e,t,n,r):void o(a,i=>i?r(i):h(e,t,n,r)))}function h(e,t,n,r){return n.filter?f(p,e,t,n,r):p(e,t,n,r)}function f(e,t,n,r,i){Promise.resolve(r.filter(t,n)).then(o=>o?e(t,n,r,i):i(),e=>i(e))}function p(e,t,n,o){(n.dereference?r.stat:r.lstat)(e,(s,a)=>s?o(s):a.isDirectory()?function(e,t,n,i,o){b(n,(s,a)=>s?o(s):a===c?v(t,n)?o(new Error(`Cannot copy '${t}' to a subdirectory of itself, '${n}'.`)):function(e,t,n,i,o){r.mkdir(n,e.mode,s=>{if(s)return o(s);r.chmod(n,e.mode,e=>e?o(e):y(t,n,i,o))})}(e,t,n,i,o):a===u?v(t,n)?o(new Error(`Cannot copy '${t}' to a subdirectory of itself, '${n}'.`)):function(e,t,n,i){r.stat(t,(r,o)=>r?i(r):o.isDirectory()?y(e,t,n,i):i(new Error(`Cannot overwrite non-directory '${t}' with directory '${e}'.`)))}(t,n,i,o):t===a?o():y(t,n,i,o))}(a,e,t,n,o):a.isFile()||a.isCharacterDevice()||a.isBlockDevice()?function(e,t,n,r,i){b(n,(o,s)=>o?i(o):s===c?g(e,t,n,r,i):s===u?d(e,t,n,r,i):t===s?i():d(e,t,n,r,i))}(a,e,t,n,o):a.isSymbolicLink()?function(e,t,n,o){r.readlink(e,(e,s)=>{if(e)return o(e);n.dereference&&(s=i.resolve(process.cwd(),s)),b(t,(e,a)=>e?o(e):a===c||a===u?r.symlink(s,t,o):(n.dereference&&(a=i.resolve(process.cwd(),a)),a===s?o():void r.stat(t,(e,n)=>e?o(e):n.isDirectory()&&v(a,s)?o(new Error(`Cannot overwrite '${a}' with '${s}'.`)):function(e,t,n){r.unlink(t,i=>i?n(i):r.symlink(e,t,n))}(s,t,o))))})}(e,t,n,o):void 0)}function d(e,t,n,i,o){if(!i.overwrite)return i.errorOnExist?o(new Error(`'${n}' already exists`)):o();r.unlink(n,r=>r?o(r):g(e,t,n,i,o))}function g(e,t,n,i,o){return"function"==typeof r.copyFile?r.copyFile(t,n,t=>t?o(t):m(e,n,i,o)):function(e,t,n,i,o){const s=r.createReadStream(t);s.on("error",e=>o(e)).once("open",()=>{const t=r.createWriteStream(n,{mode:e.mode});t.on("error",e=>o(e)).on("open",()=>s.pipe(t)).once("close",()=>m(e,n,i,o))})}(e,t,n,i,o)}function m(e,t,n,i){r.chmod(t,e.mode,r=>r?i(r):n.preserveTimestamps?a(t,e.atime,e.mtime,i):i())}function y(e,t,n,o){r.readdir(e,(r,s)=>r?o(r):function e(t,n,r,o,s){const a=t.pop();if(!a)return s();h(i.join(n,a),i.join(r,a),o,i=>i?s(i):e(t,n,r,o,s))}(s,e,t,n,o))}function b(e,t){r.readlink(e,(e,n)=>e?"ENOENT"===e.code?t(null,c):"EINVAL"===e.code||"UNKNOWN"===e.code?t(null,u):t(e):t(null,n))}function v(e,t){const n=t.split(i.dirname(e)+i.sep)[1];if(n){const r=n.split(i.sep)[0];return!!r&&(e!==t&&t.indexOf(e)>-1&&r===i.basename(e))}return!1}e.exports=function(e,t,n,r){return"function"!=typeof n||r?"function"==typeof n&&(n={filter:n}):(r=n,n={}),r=r||function(){},(n=n||{}).clobber=!("clobber"in n&&!n.clobber),n.overwrite="overwrite"in n?!!n.overwrite:n.clobber,n.preserveTimestamps&&"ia32"===process.arch&&console.warn("fs-extra: Using the preserveTimestamps option in 32-bit node is not recommended;\n\n    see https://github.com/jprichardson/node-fs-extra/issues/269"),(e=i.resolve(e))===(t=i.resolve(t))?r(new Error("Source and destination must not be the same.")):n.filter?f(l,e,t,n,r):l(e,t,n,r)}},function(e,t,n){"use strict";const r=n(0);function i(e){return(e=r.normalize(r.resolve(e)).split(r.sep)).length>0?e[0]:null}const o=/[<>:"|?*]/;e.exports={getRootPath:i,invalidWin32Path:function(e){const t=i(e);return e=e.replace(t,""),o.test(e)}}},function(e,t,n){"use strict";const r=n(4),i=n(21),o=n(0);e.exports={hasMillisRes:function(e){let t=o.join("millis-test"+Date.now().toString()+Math.random().toString().slice(2));t=o.join(i.tmpdir(),t);const n=new Date(1435410243862);r.writeFile(t,"https://github.com/jprichardson/node-fs-extra/pull/141",i=>{if(i)return e(i);r.open(t,"r+",(i,o)=>{if(i)return e(i);r.futimes(o,n,n,n=>{if(n)return e(n);r.close(o,n=>{if(n)return e(n);r.stat(t,(t,n)=>{if(t)return e(t);e(null,n.mtime>1435410243e3)})})})})})},hasMillisResSync:function(){let e=o.join("millis-test-sync"+Date.now().toString()+Math.random().toString().slice(2));e=o.join(i.tmpdir(),e);const t=new Date(1435410243862);r.writeFileSync(e,"https://github.com/jprichardson/node-fs-extra/pull/141");const n=r.openSync(e,"r+");return r.futimesSync(n,t,t),r.closeSync(n),r.statSync(e).mtime>1435410243e3},timeRemoveMillis:function(e){if("number"==typeof e)return 1e3*Math.floor(e/1e3);if(e instanceof Date)return new Date(1e3*Math.floor(e.getTime()/1e3));throw new Error("fs-extra: timeRemoveMillis() unknown parameter type")},utimesMillis:function(e,t,n,i){r.open(e,"r+",(e,o)=>{if(e)return i(e);r.futimes(o,t,n,e=>{r.close(o,t=>{i&&i(e||t)})})})},utimesMillisSync:function(e,t,n){const i=r.openSync(e,"r+");return r.futimesSync(i,t,n),r.closeSync(i)}}},function(e,t,n){e.exports={copySync:n(125)}},function(e,t){e.exports=function(e){if("function"==typeof Buffer.allocUnsafe)try{return Buffer.allocUnsafe(e)}catch(t){return new Buffer(e)}return new Buffer(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),i=n(2),o=n(0);function s(e){let t=1,n=0;for(n=0;n<e.length;n++){switch(e[n]){case"{":t++;break;case"}":t--;break;case"\\":n++}if(0===t)break}return e.substring(0,n)}t.getLongestBalancedString=s;t.SectionNodeProvider=class{constructor(e){this.extension=e,this._onDidChangeTreeData=new r.EventEmitter,this.onDidChangeTreeData=this._onDidChangeTreeData.event,this.sectionDepths={},this.root="",this.ds=[];const t=r.workspace.getConfiguration("latex-workshop");this.hierarchy=t.get("view.outline.sections"),this.hierarchy.forEach((e,t)=>{e.split("|").forEach(e=>{this.sectionDepths[e]=t})})}refresh(){return this.extension.manager.rootFile?(this.ds=this.buildModel(this.extension.manager.rootFile),this.ds):[]}update(){this._onDidChangeTreeData.fire()}buildModel(e,t,n,c=!0){let u=[];t&&(u=t);let l=[];n&&(l=n);let h=void 0;const f=[],p=()=>u[u.length-1],d=()=>0===u.length;let g=i.readFileSync(e,"utf-8");const m=(g=g.replace(/([^\\]|^)%.*$/gm,"$1")).search(/\\end{document}/gm);m>-1&&(g=g.substr(0,m));let y="(?:((?:\\\\(?:input|InputIfFileExists|include|subfile|(?:(?:sub)?import\\*?{([^}]*)}))(?:\\[[^\\[\\]\\{\\}]*\\])?){([^}]*)})|((?:\\\\(";this.hierarchy.forEach((e,t)=>{y+=e,t<this.hierarchy.length-1&&(y+="|")}),y+=")(?:\\*)?(?:\\[[^\\[\\]\\{\\}]*\\])?){(.*)}))";const b=RegExp(y,"m"),v=/(?:\\(begin|end)(?:\[[^\[\]]*\])?){(?:(figure|table)\*?)}/m,w=g.split("\n");for(let t=0;t<w.length;t++){const n=w[t];v.lastIndex=0,b.lastIndex=0;let g=v.exec(n);if(g&&"begin"===g[1])f.push({name:g[2],start:t,end:t});else if(g&&g[2]===f[f.length-1].name){const n=f.pop();if(!n)continue;n.end=t;const i=this.getCaption(w,n);if(!i)continue;const o=d()?0:p().depth+1,s=new a(`${n.name.charAt(0).toUpperCase()+n.name.slice(1)}: ${i}`,r.TreeItemCollapsibleState.Expanded,o,n.start,n.end,e);d()?l.push(s):p().children.push(s)}else if((g=b.exec(n))&&g[5]in this.sectionDepths){const n=g[5],i=this.sectionDepths[n],o=s(g[6]),c=new a(o,r.TreeItemCollapsibleState.Expanded,i,t,t,e);if(h&&(h.toLine=t-1),h=c,d()){l.push(c),u.push(c);continue}for(;!d()&&p().depth>=i;)u.pop();d()?l.push(c):p().children.push(c),u.push(c)}else if(c&&g&&(g[1].startsWith("\\input")||g[1].startsWith("\\InputIfFileExists")||g[1].startsWith("\\include")||g[1].startsWith("\\subfile")||g[1].startsWith("\\subimport")||g[1].startsWith("\\import"))){let t;if(!(t=g[1].startsWith("\\subimport")?this.extension.manager.resolveFile([o.dirname(e)],o.resolve(g[2],g[3])):g[1].startsWith("\\import")?this.extension.manager.resolveFile([g[2]],g[3]):this.extension.manager.resolveFile([o.dirname(e),this.extension.manager.rootDir],g[3]))){this.extension.logger.addLogMessage(`Could not resolve included file ${e}`);continue}if(""===o.extname(t)&&(t+=".tex"),!i.existsSync(t)&&i.existsSync(t+".tex")&&(t+=".tex"),!1===i.existsSync(t)){this.extension.logger.addLogMessage(`Could not resolve included file ${t}`);continue}this.buildModel(t,u,l)}}return l}getTreeItem(e){const t=e.children.length>0,n=new r.TreeItem(e.label,t?r.TreeItemCollapsibleState.Expanded:r.TreeItemCollapsibleState.None);return n.command={command:"latex-workshop.goto-section",title:"",arguments:[e.fileName,e.lineNumber]},n.tooltip=`Line ${e.lineNumber+1} at ${e.fileName}`,n}getChildren(e){return void 0===this.extension.manager.rootFile?Promise.resolve([]):e?Promise.resolve(e.children):Promise.resolve(this.refresh())}getCaption(e,t){const n=e.slice(t.start,t.end).join("\n"),r=/(?:\\caption(?:\[[^\[\]]*\])?){(.*?)}/gm.exec(n);if(r)return"."===r[1][r[1].length-1]?r[1].substr(0,r[1].length-1):r[1]}};class a extends r.TreeItem{constructor(e,t,n,r,i,o,s){super(e,t),this.label=e,this.collapsibleState=t,this.depth=n,this.lineNumber=r,this.toLine=i,this.fileName=o,this.command=s,this.children=[]}}t.Section=a},function(e,t,n){"use strict";var r=n(13),i=n(25),o=n(8),s=n(65),a=n(68),c=n(169),u=n(34),l={};function h(e,t){var n=u.createKey(String(e),t),r=[],o=t&&!1===t.cache;if(!o&&l.hasOwnProperty(n))return l[n];if(Array.isArray(e))for(var s=0;s<e.length;s++)r.push.apply(r,h.create(e[s],t));else r=h.create(e,t);return t&&!0===t.nodupes&&(r=i(r)),o||(l[n]=r),r}function f(e,t,n,r){var i=u.createKey(e+":"+t,n);if(n&&!1===n.cache)return h.clearCache(),r(t,n);if(l.hasOwnProperty(i))return l[i];var o=r(t,n);return l[i]=o,o}h.expand=function(e,t){return h.create(e,o({},t,{expand:!0}))},h.optimize=function(e,t){return h.create(e,t)},h.create=function(e,t){if("string"!=typeof e)throw new TypeError("expected a string");var n=t&&t.maxLength||65536;if(e.length>=n)throw new Error("expected pattern to be less than "+n+" characters");return f("create",e,t,function(){if(""===e||e.length<3)return[e];if(u.isEmptySets(e))return[];if(u.isQuotedString(e))return[e.slice(1,-1)];var n=new c(t),r=t&&!0===t.expand?n.expand(e,t):n.optimize(e,t),o=r.output;return t&&!0===t.noempty&&(o=o.filter(Boolean)),t&&!0===t.nodupes&&(o=i(o)),Object.defineProperty(o,"result",{enumerable:!1,value:r}),o})},h.makeRe=function(e,t){if("string"!=typeof e)throw new TypeError("expected a string");var n=t&&t.maxLength||65536;if(e.length>=n)throw new Error("expected pattern to be less than "+n+" characters");return f("makeRe",e,t,function(){var n=h(e,t),i=o({strictErrors:!1},t);return r(n,i)})},h.parse=function(e,t){return new c(t).parse(e,t)},h.compile=function(e,t){return new c(t).compile(e,t)},h.clearCache=function(){l=h.cache={}},h.Braces=c,h.compilers=s,h.parsers=a,h.cache=l,e.exports=h},function(e,t,n){var r=n(147),i=r.types;e.exports=function(e,t){t||(t={});var n,o=void 0===t.limit?25:t.limit;n=e,"[object RegExp]"==={}.toString.call(n)?e=e.source:"string"!=typeof e&&(e=String(e));try{e=r(e)}catch(e){return!1}var s=0;return function e(t,n){if(t.type===i.REPETITION){if(s++,++n>1)return!1;if(s>o)return!1}if(t.options)for(var r=0,a=t.options.length;r<a;r++){if(!e({stack:t.options[r]},n))return!1}var c=t.stack||t.value&&t.value.stack;if(!c)return!0;for(r=0;r<c.length;r++){if(!e(c[r],n))return!1}return!0}(e,0)}},function(e,t,n){var r=n(32),i=function(){return[{type:r.RANGE,from:48,to:57}]},o=function(){return[{type:r.CHAR,value:95},{type:r.RANGE,from:97,to:122},{type:r.RANGE,from:65,to:90}].concat(i())},s=function(){return[{type:r.CHAR,value:9},{type:r.CHAR,value:10},{type:r.CHAR,value:11},{type:r.CHAR,value:12},{type:r.CHAR,value:13},{type:r.CHAR,value:32},{type:r.CHAR,value:160},{type:r.CHAR,value:5760},{type:r.CHAR,value:6158},{type:r.CHAR,value:8192},{type:r.CHAR,value:8193},{type:r.CHAR,value:8194},{type:r.CHAR,value:8195},{type:r.CHAR,value:8196},{type:r.CHAR,value:8197},{type:r.CHAR,value:8198},{type:r.CHAR,value:8199},{type:r.CHAR,value:8200},{type:r.CHAR,value:8201},{type:r.CHAR,value:8202},{type:r.CHAR,value:8232},{type:r.CHAR,value:8233},{type:r.CHAR,value:8239},{type:r.CHAR,value:8287},{type:r.CHAR,value:12288},{type:r.CHAR,value:65279}]};t.words=function(){return{type:r.SET,set:o(),not:!1}},t.notWords=function(){return{type:r.SET,set:o(),not:!0}},t.ints=function(){return{type:r.SET,set:i(),not:!1}},t.notInts=function(){return{type:r.SET,set:i(),not:!0}},t.whitespace=function(){return{type:r.SET,set:s(),not:!1}},t.notWhitespace=function(){return{type:r.SET,set:s(),not:!0}},t.anyChar=function(){return{type:r.SET,set:[{type:r.CHAR,value:10},{type:r.CHAR,value:13},{type:r.CHAR,value:8232},{type:r.CHAR,value:8233}],not:!0}}},function(e,t,n){"use strict";var r=n(34);function i(e,t,n){return r.flatten(r.repeat(r.arrayify(e),t))}function o(e){return!0===e.escaped}function s(e,t){return void 0!==e&&e.type===t}e.exports=function(e,t){e.compiler.set("bos",function(){this.output||(this.ast.queue=o(this.ast)?[this.ast.val]:[],this.ast.count=1)}).set("bracket",function(e){var t=e.close,n=e.escaped?"\\[":"[",i=e.negated,o=e.inner;"]-"===(o=o.replace(/\\(?=[\\\w]|$)/g,"\\\\"))&&(o="\\]\\-"),i&&-1===o.indexOf(".")&&(o+="."),i&&-1===o.indexOf("/")&&(o+="/");var s=n+i+o+t,a=e.parent.queue,c=r.arrayify(a.pop());a.push(r.join(c,s)),a.push.apply(a,[])}).set("brace",function(e){return e.queue=o(e)?[e.val]:[],e.count=1,this.mapVisit(e.nodes)}).set("brace.open",function(e){e.parent.open=e.val}).set("text",function(e){var n=e.parent.queue,a=e.escaped,c=[e.val];if(!1===e.optimize&&(t=r.extend({},t,{optimize:!1})),e.multiplier>1&&(e.parent.count*=e.multiplier),!0===t.quantifiers&&r.isQuantifier(e.val))a=!0;else if(e.val.length>1){if(s(e.parent,"brace")&&!o(e)){var u=r.expand(e.val,t);if(c=u.segs,u.isOptimized&&(e.parent.isOptimized=!0),!c.length){var l=u.val||e.val;!1!==t.unescape&&(l=(l=l.replace(/\\([,.])/g,"$1")).replace(/["'`]/g,"")),c=[l],a=!0}}}else","===e.val?t.expand?(e.parent.queue.push([""]),c=[""]):c=["|"]:a=!0;if(a&&s(e.parent,"brace")&&(e.parent.nodes.length<=4&&1===e.parent.count?e.parent.escaped=!0:e.parent.length<=3&&(e.parent.escaped=!0)),function(e){return Array.isArray(e.queue)&&e.queue.length}(e.parent)){var h=r.arrayify(n.pop());e.parent.count>1&&t.expand&&(h=i(h,e.parent.count),e.parent.count=1),n.push(r.join(r.flatten(h),c.shift())),n.push.apply(n,c)}else e.parent.queue=c}).set("brace.close",function(e){var n=e.parent.queue,a=e.parent.parent,c=a.queue.pop(),u=e.parent.open,l=e.val;u&&l&&function(e,t){return!!e.parent.isOptimized||s(e.parent,"brace")&&!o(e.parent)&&!0!==t.expand}(e,t)&&(u="(",l=")");var h=r.last(n);e.parent.count>1&&t.expand&&(h=i(n.pop(),e.parent.count),e.parent.count=1,n.push(h)),l&&"string"==typeof h&&1===h.length&&(u="",l=""),!function(e,t){return o(e.parent)||!1!==t.optimize}(e,t)&&!function(e,t){if(1===e.parent.queue.length)return!0;var n=e.parent.nodes;return 3===n.length&&s(n[0],"brace.open")&&!s(n[1],"text")&&s(n[2],"brace.close")}(e)||e.parent.hasEmpty||(n.push(r.join(u,n.pop()||"")),n=r.flatten(r.join(n,l))),void 0===c?a.queue=[n]:a.queue.push(r.flatten(r.join(c,n)))}).set("eos",function(e){this.input||(!1!==t.optimize?this.output=r.last(r.flatten(this.ast.queue)):Array.isArray(r.last(this.ast.queue))?this.output=r.flatten(this.ast.queue.pop()):this.output=r.flatten(this.ast.queue),e.parent.count>1&&t.expand&&(this.output=i(this.output,e.parent.count)),this.output=r.arrayify(this.output),this.ast.queue=[])})}},function(e,t,n){"use strict";
/*!
 * split-string <https://github.com/jonschlinkert/split-string>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var r=n(160);function i(e,t,n,r){var o=e.indexOf(t,n);return"\\"===e.charAt(o-1)?i(e,t,o+1):o}function o(e,t){return!0===t.keepDoubleQuotes&&'"'===e||(!0===t.keepSingleQuotes&&"'"===e||t.keepQuotes)}function s(e,t,n){return"function"==typeof e.keepEscaping?e.keepEscaping(t,n):!0===e.keepEscaping||"\\"===t[n+1]}e.exports=function(e,t,n){if("string"!=typeof e)throw new TypeError("expected a string");"function"==typeof t&&(n=t,t=null),"string"==typeof t&&(t={sep:t});var a,c=r({sep:"."},t),u=c.quotes||['"',"'","`"];!0===c.brackets?a={"<":">","(":")","[":"]","{":"}"}:c.brackets&&(a=c.brackets);var l,h=[],f=[],p=[""],d=c.sep,g=e.length,m=-1;function y(){if(a&&f.length)return a[f[f.length-1]]}for(;++m<g;){var b=e[m],v=e[m+1],w={val:b,idx:m,arr:p,str:e};if(h.push(w),"\\"!==b){if(a&&a[b]){f.push(b);var x=y(),k=m+1;if(-1!==e.indexOf(x,k+1))for(;f.length&&k<g;){var _=e[++k];if("\\"!==_)if(-1===u.indexOf(_)){if(x=y(),f.length&&-1===e.indexOf(x,k+1))break;a[_]?f.push(_):x===_&&f.pop()}else k=i(e,_,k+1);else _++}if(-1===(l=k)){p[p.length-1]+=b;continue}b=e.slice(m,l+1),w.val=b,w.idx=m=l}if(-1!==u.indexOf(b)){if(-1===(l=i(e,b,m+1))){p[p.length-1]+=b;continue}b=!0===o(b,c)?e.slice(m,l+1):e.slice(m+1,l),w.val=b,w.idx=m=l}"function"==typeof n&&(n(w,h),b=w.val,m=w.idx),w.val!==d||!1===w.split?p[p.length-1]+=w.val:p.push("")}else w.val=!0===s(c,e,m)?b+v:v,w.escaped=!0,"function"==typeof n&&n(w),p[p.length-1]+=w.val,m++}return p}},function(e,t,n){"use strict";
/*!
 * repeat-string <https://github.com/jonschlinkert/repeat-string>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var r,i="";e.exports=function(e,t){if("string"!=typeof e)throw new TypeError("expected a string");if(1===t)return e;if(2===t)return e+e;var n=e.length*t;if(r!==e||void 0===r)r=e,i="";else if(i.length>=n)return i.substr(0,n);for(;n>i.length&&t>1;)1&t&&(i+=e),t>>=1,e+=e;return i=(i+=e).substr(0,n)}},function(e,t,n){"use strict";var r=n(166),i=n(34);function o(e,t,n,r){t.orig=t.val;var o=this.prev(),s=i.last(o.nodes),a=!1;if(t.val.length>1){var c=t.val.charAt(0),u=t.val.slice(-1);a='"'===c&&'"'===u||"'"===c&&"'"===u||"`"===c&&"`"===u}if(a&&!1!==r.unescape&&(t.val=t.val.slice(1,t.val.length-1),t.escaped=!0),t.match){var l=t.match[1];l&&-1!==l.indexOf("}")||(l=t.match[0]);var h=l.replace(/\{/g,",").replace(/\}/g,"");t.multiplier*=h.length,t.val=""}"text"===s.type&&1===s.multiplier&&1===t.multiplier&&t.val?s.val+=t.val:o.push(t)}e.exports=function(e,t){e.parser.set("bos",function(){this.parsed||(this.ast=this.nodes[0]=new r(this.ast))}).set("escape",function(){var e=this.position(),n=this.match(/^(?:\\(.)|\$\{)/);if(n){var s=this.prev(),a=i.last(s.nodes),c=e(new r({type:"text",multiplier:1,val:n[0]}));if("\\\\"===c.val)return c;if("${"===c.val)for(var u,l=this.input,h=-1;u=l[++h];)if(this.consume(1),c.val+=u,"\\"!==u){if("}"===u)break}else c.val+=l[++h];return!1!==this.options.unescape&&(c.val=c.val.replace(/\\([{}])/g,"$1")),'"'===a.val&&'"'===this.input.charAt(0)?(a.val=c.val,void this.consume(1)):o.call(this,e,c,s,t)}}).set("bracket",function(){var e=this.isInside("brace"),t=this.position(),n=this.match(/^(?:\[([!^]?)([^\]]{2,}|\]-)(\]|[^*+?]+)|\[)/);if(n){var i=this.prev(),o=n[0],s=n[1]?"^":"",a=n[2]||"",c=n[3]||"";e&&"brace"===i.type&&(i.text=i.text||"",i.text+=o);var u=this.input.slice(0,2);if(""===a&&"\\]"===u){a+=u,this.consume(2);for(var l,h=this.input,f=-1;l=h[++f];){if(this.consume(1),"]"===l){c=l;break}a+=l}}return t(new r({type:"bracket",val:o,escaped:"]"!==c,negated:s,inner:a,close:c}))}}).set("multiplier",function(){var e=this.isInside("brace"),n=this.position(),i=this.match(/^\{((?:,|\{,+\})+)\}/);if(i){this.multiplier=!0;var s=this.prev(),a=i[0];e&&"brace"===s.type&&(s.text=s.text||"",s.text+=a);var c=n(new r({type:"text",multiplier:1,match:i,val:a}));return o.call(this,n,c,s,t)}}).set("brace.open",function(){var e=this.position(),t=this.match(/^\{(?!(?:[^\\}]?|,+)\})/);if(t){var n,o=this.prev(),s=i.last(o.nodes);s&&s.val&&("!"===(n=s.val.slice(-1))||"@"===n||"*"===n||"?"===n||"+"===n)&&(s.optimize=!1);var a=e(new r({type:"brace.open",val:t[0]})),c=e(new r({type:"brace",nodes:[]}));c.push(a),o.push(c),this.push("brace",c)}}).set("brace.close",function(){var e=this.position(),t=this.match(/^\}/);if(t&&t[0]){var n=this.pop("brace"),o=e(new r({type:"brace.close",val:t[0]}));if(!this.isType(n,"brace")){if(this.options.strict)throw new Error('missing opening "{"');return o.type="text",o.multiplier=0,o.escaped=!0,o}var s=this.prev(),a=i.last(s.nodes);if(a.text)if(")"===i.last(a.nodes).val&&/[!@*?+]\(/.test(a.text)){var c=a.nodes[0],u=a.nodes[1];"brace.open"===c.type&&u&&"text"===u.type&&(u.optimize=!1)}if(n.nodes.length>2){var l=n.nodes[1];"text"===l.type&&","===l.val&&(n.nodes.splice(1,1),n.nodes.push(l))}n.push(o)}}).set("boundary",function(){var e=this.position(),t=this.match(/^[$^](?!\{)/);if(t)return e(new r({type:"text",val:t[0]}))}).set("nobrace",function(){var e=this.isInside("brace"),t=this.position(),n=this.match(/^\{[^,]?\}/);if(n){var i=this.prev(),o=n[0];return e&&"brace"===i.type&&(i.text=i.text||"",i.text+=o),t(new r({type:"text",multiplier:0,val:o}))}}).set("text",function(){var e=this.isInside("brace"),n=this.position(),i=this.match(/^((?!\\)[^${}[\]])+/);if(i){var s=this.prev(),a=i[0];e&&"brace"===s.type&&(s.text=s.text||"",s.text+=a);var c=n(new r({type:"text",multiplier:1,val:a}));return o.call(this,n,c,s,t)}})}},function(e,t,n){function r(e){if(e)return function(e){for(var t in r.prototype)e[t]=r.prototype[t];return e}(e)}e.exports=r,r.prototype.on=r.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},r.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i=0;i<r.length;i++)if((n=r[i])===t||n.fn===t){r.splice(i,1);break}return this},r.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n)for(var r=0,i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,t);return this},r.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},r.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t,n){"use strict";
/*!
 * object-visit <https://github.com/jonschlinkert/object-visit>
 *
 * Copyright (c) 2015, 2017, Jon Schlinkert.
 * Released under the MIT License.
 */var r=n(6);e.exports=function(e,t,n,i){if(!r(e)&&"function"!=typeof e)throw new Error("object-visit expects `thisArg` to be an object.");if("string"!=typeof t)throw new Error("object-visit expects `method` name to be a string");if("function"!=typeof e[t])return e;var o=[].slice.call(arguments,3);for(var s in n=n||{}){var a=[s,n[s]].concat(o);e[t].apply(e,a)}return e}},function(e,t,n){"use strict";
/*!
 * to-object-path <https://github.com/jonschlinkert/to-object-path>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var r=n(35);e.exports=function(e){return"arguments"!==r(e)&&(e=arguments),function e(t){var n=t.length;var i=-1;var o=[];for(;++i<n;){var s=t[i];"arguments"===r(s)||Array.isArray(s)?o.push.apply(o,e(s)):"string"==typeof s&&o.push(s)}return o}(e).join(".")}},function(e,t,n){"use strict";e.exports=function(e){if(!Array.isArray(e))throw new TypeError("arr-union expects the first argument to be an array.");for(var t=arguments.length,n=0;++n<t;){var r=arguments[n];if(r){Array.isArray(r)||(r=[r]);for(var i=0;i<r.length;i++){var o=r[i];e.indexOf(o)>=0||e.push(o)}}}return e}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){"use strict";
/*!
 * use <https://github.com/jonschlinkert/use>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function r(e){return e&&"object"==typeof e&&!Array.isArray(e)}function i(e,t,n){Object.defineProperty(e,t,{configurable:!0,writable:!0,value:n})}e.exports=function e(t,n){if(!r(t)&&"function"!=typeof t)throw new TypeError("expected an object or function");var o=r(n)?n:{},s="string"==typeof o.prop?o.prop:"fns";function a(e,n,r){var i=1;if("string"==typeof e||Array.isArray(e)?(n=function(e,t){return function n(){return this.type===e?t.apply(this,arguments):n}}(e,n),i++):(r=n,n=e),"function"!=typeof n)throw new TypeError("expected a function");var a=this||t,c=a[s],u=[].slice.call(arguments,i);u.unshift(a),"function"==typeof o.hook&&o.hook.apply(a,u);var l=n.apply(a,u);return"function"==typeof l&&-1===c.indexOf(l)&&c.push(l),a}return Array.isArray(t[s])||i(t,s,[]),i(t,"use",a),i(t,"run",function(n){if(r(n)){n.use&&n.run||(i(n,s,n[s]||[]),i(n,"use",a)),n[s]&&-1!==n[s].indexOf(e)||n.use(e);for(var o=(this||t)[s],c=o.length,u=-1;++u<c;)n.use(o[u]);return n}}),t}},function(e,t,n){var r;function i(e){function n(){if(n.enabled){var e=n,i=+new Date,o=i-(r||i);e.diff=o,e.prev=r,e.curr=i,r=i;for(var s=new Array(arguments.length),a=0;a<s.length;a++)s[a]=arguments[a];s[0]=t.coerce(s[0]),"string"!=typeof s[0]&&s.unshift("%O");var c=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,function(n,r){if("%%"===n)return n;c++;var i=t.formatters[r];if("function"==typeof i){var o=s[c];n=i.call(e,o),s.splice(c,1),c--}return n}),t.formatArgs.call(e,s),(n.log||t.log||console.log.bind(console)).apply(e,s)}}return n.namespace=e,n.enabled=t.enabled(e),n.useColors=t.useColors(),n.color=function(e){var n,r=0;for(n in e)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]}(e),"function"==typeof t.init&&t.init(n),n}(t=e.exports=i.debug=i.default=i).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){t.save(e),t.names=[],t.skips=[];for(var n=("string"==typeof e?e:"").split(/[\s,]+/),r=n.length,i=0;i<r;i++)n[i]&&("-"===(e=n[i].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(201),t.names=[],t.skips=[],t.formatters={}},function(e,t){e.exports=require("net")},function(e,t,n){var r=n(78),i=n(27),o=n(79).ArraySet,s=n(206).MappingList;function a(e){e||(e={}),this._file=i.getArg(e,"file",null),this._sourceRoot=i.getArg(e,"sourceRoot",null),this._skipValidation=i.getArg(e,"skipValidation",!1),this._sources=new o,this._names=new o,this._mappings=new s,this._sourcesContents=null}a.prototype._version=3,a.fromSourceMap=function(e){var t=e.sourceRoot,n=new a({file:e.file,sourceRoot:t});return e.eachMapping(function(e){var r={generated:{line:e.generatedLine,column:e.generatedColumn}};null!=e.source&&(r.source=e.source,null!=t&&(r.source=i.relative(t,r.source)),r.original={line:e.originalLine,column:e.originalColumn},null!=e.name&&(r.name=e.name)),n.addMapping(r)}),e.sources.forEach(function(t){var r=e.sourceContentFor(t);null!=r&&n.setSourceContent(t,r)}),n},a.prototype.addMapping=function(e){var t=i.getArg(e,"generated"),n=i.getArg(e,"original",null),r=i.getArg(e,"source",null),o=i.getArg(e,"name",null);this._skipValidation||this._validateMapping(t,n,r,o),null!=r&&(r=String(r),this._sources.has(r)||this._sources.add(r)),null!=o&&(o=String(o),this._names.has(o)||this._names.add(o)),this._mappings.add({generatedLine:t.line,generatedColumn:t.column,originalLine:null!=n&&n.line,originalColumn:null!=n&&n.column,source:r,name:o})},a.prototype.setSourceContent=function(e,t){var n=e;null!=this._sourceRoot&&(n=i.relative(this._sourceRoot,n)),null!=t?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[i.toSetString(n)]=t):this._sourcesContents&&(delete this._sourcesContents[i.toSetString(n)],0===Object.keys(this._sourcesContents).length&&(this._sourcesContents=null))},a.prototype.applySourceMap=function(e,t,n){var r=t;if(null==t){if(null==e.file)throw new Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map\'s "file" property. Both were omitted.');r=e.file}var s=this._sourceRoot;null!=s&&(r=i.relative(s,r));var a=new o,c=new o;this._mappings.unsortedForEach(function(t){if(t.source===r&&null!=t.originalLine){var o=e.originalPositionFor({line:t.originalLine,column:t.originalColumn});null!=o.source&&(t.source=o.source,null!=n&&(t.source=i.join(n,t.source)),null!=s&&(t.source=i.relative(s,t.source)),t.originalLine=o.line,t.originalColumn=o.column,null!=o.name&&(t.name=o.name))}var u=t.source;null==u||a.has(u)||a.add(u);var l=t.name;null==l||c.has(l)||c.add(l)},this),this._sources=a,this._names=c,e.sources.forEach(function(t){var r=e.sourceContentFor(t);null!=r&&(null!=n&&(t=i.join(n,t)),null!=s&&(t=i.relative(s,t)),this.setSourceContent(t,r))},this)},a.prototype._validateMapping=function(e,t,n,r){if(t&&"number"!=typeof t.line&&"number"!=typeof t.column)throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if((!(e&&"line"in e&&"column"in e&&e.line>0&&e.column>=0)||t||n||r)&&!(e&&"line"in e&&"column"in e&&t&&"line"in t&&"column"in t&&e.line>0&&e.column>=0&&t.line>0&&t.column>=0&&n))throw new Error("Invalid mapping: "+JSON.stringify({generated:e,source:n,original:t,name:r}))},a.prototype._serializeMappings=function(){for(var e,t,n,o,s=0,a=1,c=0,u=0,l=0,h=0,f="",p=this._mappings.toArray(),d=0,g=p.length;d<g;d++){if(e="",(t=p[d]).generatedLine!==a)for(s=0;t.generatedLine!==a;)e+=";",a++;else if(d>0){if(!i.compareByGeneratedPositionsInflated(t,p[d-1]))continue;e+=","}e+=r.encode(t.generatedColumn-s),s=t.generatedColumn,null!=t.source&&(o=this._sources.indexOf(t.source),e+=r.encode(o-h),h=o,e+=r.encode(t.originalLine-1-u),u=t.originalLine-1,e+=r.encode(t.originalColumn-c),c=t.originalColumn,null!=t.name&&(n=this._names.indexOf(t.name),e+=r.encode(n-l),l=n)),f+=e}return f},a.prototype._generateSourcesContent=function(e,t){return e.map(function(e){if(!this._sourcesContents)return null;null!=t&&(e=i.relative(t,e));var n=i.toSetString(e);return Object.prototype.hasOwnProperty.call(this._sourcesContents,n)?this._sourcesContents[n]:null},this)},a.prototype.toJSON=function(){var e={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return null!=this._file&&(e.file=this._file),null!=this._sourceRoot&&(e.sourceRoot=this._sourceRoot),this._sourcesContents&&(e.sourcesContent=this._generateSourcesContent(e.sources,e.sourceRoot)),e},a.prototype.toString=function(){return JSON.stringify(this.toJSON())},t.SourceMapGenerator=a},function(e,t,n){var r=n(205);t.encode=function(e){var t,n="",i=function(e){return e<0?1+(-e<<1):0+(e<<1)}(e);do{t=31&i,(i>>>=5)>0&&(t|=32),n+=r.encode(t)}while(i>0);return n},t.decode=function(e,t,n){var i,o,s,a,c=e.length,u=0,l=0;do{if(t>=c)throw new Error("Expected more digits in base 64 VLQ value.");if(-1===(o=r.decode(e.charCodeAt(t++))))throw new Error("Invalid base64 digit: "+e.charAt(t-1));i=!!(32&o),u+=(o&=31)<<l,l+=5}while(i);n.value=(a=(s=u)>>1,1==(1&s)?-a:a),n.rest=t}},function(e,t,n){var r=n(27),i=Object.prototype.hasOwnProperty,o="undefined"!=typeof Map;function s(){this._array=[],this._set=o?new Map:Object.create(null)}s.fromArray=function(e,t){for(var n=new s,r=0,i=e.length;r<i;r++)n.add(e[r],t);return n},s.prototype.size=function(){return o?this._set.size:Object.getOwnPropertyNames(this._set).length},s.prototype.add=function(e,t){var n=o?e:r.toSetString(e),s=o?this.has(e):i.call(this._set,n),a=this._array.length;s&&!t||this._array.push(e),s||(o?this._set.set(e,a):this._set[n]=a)},s.prototype.has=function(e){if(o)return this._set.has(e);var t=r.toSetString(e);return i.call(this._set,t)},s.prototype.indexOf=function(e){if(o){var t=this._set.get(e);if(t>=0)return t}else{var n=r.toSetString(e);if(i.call(this._set,n))return this._set[n]}throw new Error('"'+e+'" is not in the set.')},s.prototype.at=function(e){if(e>=0&&e<this._array.length)return this._array[e];throw new Error("No element indexed by "+e)},s.prototype.toArray=function(){return this._array.slice()},t.ArraySet=s},function(e,t,n){"use strict";
/*!
 * map-cache <https://github.com/jonschlinkert/map-cache>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var r=Object.prototype.hasOwnProperty;function i(e){this.__data__=e||{}}e.exports=i,i.prototype.set=function(e,t){return"__proto__"!==e&&(this.__data__[e]=t),this},i.prototype.get=function(e){return"__proto__"===e?void 0:this.__data__[e]},i.prototype.has=function(e){return"__proto__"!==e&&r.call(this.__data__,e)},i.prototype.del=function(e){return this.has(e)&&delete this.__data__[e]}},function(e,t,n){"use strict";var r=n(221),i=n(23);function o(e,t){for(var n in t)u(t,n)&&(e[n]=t[n])}function s(e){return e&&"string"==typeof e}function a(e){var t={};for(var n in e)t[n]=e[n];return t}function c(e){return e&&"object"==typeof e||r(e)}function u(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=Object.assign||function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");c(e)||(e={});for(var t=1;t<arguments.length;t++){var n=arguments[t];s(n)&&(n=a(n)),c(n)&&(o(e,n),i(e,n))}return e}},function(e,t,n){"use strict";var r=n(3),i=n(13),o=n(83),s=n(224),a=n(225),c=n(226),u=n(227);function l(e,t,n){t=u.arrayify(t),e=u.arrayify(e);var r=t.length;if(0===e.length||0===r)return[];if(1===r)return l.match(e,t[0],n);for(var i=!1,o=[],s=[],a=-1;++a<r;){var c=t[a];"string"==typeof c&&33===c.charCodeAt(0)?(o.push.apply(o,l.match(e,c.slice(1),n)),i=!0):s.push.apply(s,l.match(e,c,n))}if(i&&0===s.length)if(n&&!1===n.unixify)s=e.slice();else for(var h=u.unixify(n),f=0;f<e.length;f++)s.push(h(e[f]));var p=u.diff(s,o);return n&&!1===n.nodupes?p:u.unique(p)}function h(e,t,n,r){var i=u.createKey(e+"="+t,n);if(n&&!1===n.cache)return r(t,n);if(c.has(e,i))return c.get(e,i);var o=r(t,n);return c.set(e,i,o),o}l.match=function(e,t,n){if(Array.isArray(t))throw new TypeError("expected pattern to be a string");for(var r=u.unixify(n),i=h("match",t,n,l.matcher),o=[],s=(e=u.arrayify(e)).length,a=-1;++a<s;){var c=e[a];(c===t||i(c))&&o.push(u.value(c,r,n))}if(void 0===n)return u.unique(o);if(0===o.length){if(!0===n.failglob)throw new Error('no matches found for "'+t+'"');if(!0===n.nonull||!0===n.nullglob)return[n.unescape?u.unescape(t):t]}return n.ignore&&(o=l.not(o,n.ignore,n)),!1!==n.nodupes?u.unique(o):o},l.isMatch=function(e,t,n){if("string"!=typeof e)throw new TypeError('expected a string: "'+r.inspect(e)+'"');return!u.isEmptyString(e)&&!u.isEmptyString(t)&&(!!u.equalsPattern(n)(e)||h("isMatch",t,n,l.matcher)(e))},l.some=function(e,t,n){"string"==typeof e&&(e=[e]);for(var r=0;r<e.length;r++)if(1===l(e[r],t,n).length)return!0;return!1},l.every=function(e,t,n){"string"==typeof e&&(e=[e]);for(var r=0;r<e.length;r++)if(1!==l(e[r],t,n).length)return!1;return!0},l.any=function(e,t,n){if("string"!=typeof e)throw new TypeError('expected a string: "'+r.inspect(e)+'"');if(u.isEmptyString(e)||u.isEmptyString(t))return!1;"string"==typeof t&&(t=[t]);for(var i=0;i<t.length;i++)if(l.isMatch(e,t[i],n))return!0;return!1},l.all=function(e,t,n){if("string"!=typeof e)throw new TypeError('expected a string: "'+r.inspect(e)+'"');"string"==typeof t&&(t=[t]);for(var i=0;i<t.length;i++)if(!l.isMatch(e,t[i],n))return!1;return!0},l.not=function(e,t,n){var r=o({},n),i=r.ignore;delete r.ignore,e=u.arrayify(e);var s=u.diff(e,l(e,t,r));return i&&(s=u.diff(s,l(e,i))),!1!==r.nodupes?u.unique(s):s},l.contains=function(e,t,n){if("string"!=typeof e)throw new TypeError('expected a string: "'+r.inspect(e)+'"');if("string"==typeof t){if(u.isEmptyString(e)||u.isEmptyString(t))return!1;if(u.equalsPattern(t,n)(e))return!0;if(u.containsPattern(t,n)(e))return!0}var i=o({},n,{contains:!0});return l.any(e,t,i)},l.matchBase=function(e,t){return!(e&&-1!==e.indexOf("/")||!t)&&(!0===t.basename||!0===t.matchBase)},l.matchKeys=function(e,t,n){if(!u.isObject(e))throw new TypeError("expected the first argument to be an object");var r=l(Object.keys(e),t,n);return u.pick(e,r)},l.matcher=function e(t,n){if(u.isEmptyString(t))return function(){return!1};if(Array.isArray(t))return function(e,t,n){var r;return h("compose",String(e),t,function(){return function(i){if(!r){r=[];for(var o=0;o<e.length;o++)r.push(n(e[o],t))}for(var s=r.length;s--;)if(!0===r[s](i))return!0;return!1}})}(t,n,e);if(t instanceof RegExp)return i(t);if(!u.isString(t))throw new TypeError("expected pattern to be an array, string or regex");if(!u.hasSpecialChars(t))return n&&!0===n.nocase&&(t=t.toLowerCase()),u.matchPath(t,n);var r=l.makeRe(t,n);if(l.matchBase(t,n))return u.matchBasename(r,n);function i(e){var t=u.equalsPattern(n),r=u.unixify(n);return function(n){return!!t(n)||!!e.test(r(n))}}var o=i(r);return u.define(o,"result",r.result),o},l.capture=function(e,t,n){var r=l.makeRe(e,o({capture:!0},n)),i=u.unixify(n);return h("capture",e,n,function(){return function(e){var t=r.exec(i(e));return t?t.slice(1):null}})(t)},l.makeRe=function(e,t){if(e instanceof RegExp)return e;if("string"!=typeof e)throw new TypeError("expected pattern to be a string");if(e.length>65536)throw new Error("expected pattern to be less than 65536 characters");return h("makeRe",e,t,function(){var n=u.extend({wrap:!1},t),r=l.create(e,n),o=i(r.output,n);return u.define(o,"result",r),o})},l.create=function(e,t){if("string"!=typeof e)throw new TypeError("expected a string");return h("create",e,t,function(){return l.compile(l.parse(e,t),t)})},l.parse=function(e,t){if("string"!=typeof e)throw new TypeError("expected a string");return h("parse",e,t,function(){var n=u.instantiate(null,t);a(n,t);var r=n.parse(e,t);return u.define(r,"snapdragon",n),r.input=e,r})},l.compile=function(e,t){return"string"==typeof e&&(e=l.parse(e,t)),h("compile",e.input,t,function(){var n=u.instantiate(e,t);return s(n,t),n.compile(e,t)})},l.clearCache=function(){l.cache.__data__={}},l.compilers=s,l.parsers=a,l.cache=c,e.exports=l},function(e,t,n){"use strict";var r=n(223),i=n(23);function o(e,t){for(var n in t)u(t,n)&&(e[n]=t[n])}function s(e){return e&&"string"==typeof e}function a(e){var t={};for(var n in e)t[n]=e[n];return t}function c(e){return e&&"object"==typeof e||r(e)}function u(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=Object.assign||function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");c(e)||(e={});for(var t=1;t<arguments.length;t++){var n=arguments[t];s(n)&&(n=a(n)),c(n)&&(o(e,n),i(e,n))}return e}},function(e,t,n){"use strict";
/*!
 * arr-diff <https://github.com/jonschlinkert/arr-diff>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function r(e,t){if(!Array.isArray(t))return e.slice();for(var n=t.length,r=e.length,i=-1,o=[];++i<r;){for(var s=e[i],a=!1,c=0;c<n;c++){if(s===t[c]){a=!0;break}}!1===a&&o.push(s)}return o}e.exports=function(e){for(var t=arguments.length,n=0;++n<t;)e=r(e,arguments[n]);return e}},function(e,t,n){"use strict";
/*!
 * object.pick <https://github.com/jonschlinkert/object.pick>
 *
 * Copyright (c) 2014-2015 Jon Schlinkert, contributors.
 * Licensed under the MIT License
 */var r=n(6);e.exports=function(e,t){if(!r(e)&&"function"!=typeof e)return{};var n={};if("string"==typeof t)return t in e&&(n[t]=e[t]),n;for(var i=t.length,o=-1;++o<i;){var s=t[o];s in e&&(n[s]=e[s])}return n}},function(e,t,n){"use strict";var r=n(8),i=n(25),o=n(13),s=n(87),a=n(89),c=n(235),u=n(91);function l(e,t){return l.create(e,t).output}l.match=function(e,t,n){if("string"!=typeof t)throw new TypeError("expected pattern to be a string");e=u.arrayify(e);for(var r=l.matcher(t,n),o=e.length,s=-1,a=[];++s<o;){var c=e[s];r(c)&&a.push(c)}if(void 0===n)return i(a);if(0===a.length){if(!0===n.failglob)throw new Error('no matches found for "'+t+'"');if(!0===n.nonull||!0===n.nullglob)return[t.split("\\").join("")]}return!1!==n.nodupes?i(a):a},l.isMatch=function(e,t,n){if("string"!=typeof t)throw new TypeError("expected pattern to be a string");if("string"!=typeof e)throw new TypeError("expected a string");return t===e||(""===t||" "===t||"."===t?t===e:u.memoize("isMatch",t,n,l.matcher)(e))},l.contains=function(e,t,n){if("string"!=typeof e)throw new TypeError("expected a string");if(""===t||" "===t||"."===t)return t===e;var i=r({},n,{contains:!0});return i.strictClose=!1,i.strictOpen=!1,l.isMatch(e,t,i)},l.matcher=function(e,t){if("string"!=typeof e)throw new TypeError("expected pattern to be a string");return u.memoize("matcher",e,t,function(){var n=l.makeRe(e,t);return function(e){return n.test(e)}})},l.create=function(e,t){if("string"!=typeof e)throw new TypeError("expected pattern to be a string");return u.memoize("create",e,t,function(){var n=new c(t),r=n.parse(e,t);return n.compile(r,t)})},l.capture=function(e,t,n){var i=l.makeRe(e,r({capture:!0},n));return u.memoize("capture",e,n,function(){return function(e){var t=i.exec(e);return t?t.slice(1):null}})(t)},l.makeRe=function(e,t){if(e instanceof RegExp)return e;if("string"!=typeof e)throw new TypeError("expected pattern to be a string");if(e.length>65536)throw new Error("expected pattern to be less than 65536 characters");var n=u.memoize("makeRe",e,t,function(){var n=r({strictErrors:!1},t);!0===n.strictErrors&&(n.strict=!0);var i=l.create(e,n);return o(i.output,n)});if(n.source.length>65536)throw new SyntaxError("potentially malicious regex detected");return n},l.cache=u.cache,l.clearCache=function(){l.cache.__data__={}},l.Extglob=c,l.compilers=s,l.parsers=a,e.exports=l},function(e,t,n){"use strict";var r=n(88);e.exports=function(e){function t(){return"function"==typeof e.options.star?e.options.star.apply(this,arguments):"string"==typeof e.options.star?e.options.star:".*?"}e.use(r.compilers),e.compiler.set("escape",function(e){return this.emit(e.val,e)}).set("dot",function(e){return this.emit("\\"+e.val,e)}).set("qmark",function(e){var t="[^\\\\/.]",n=this.prev();if("("===e.parsed.slice(-1)){var r=e.rest.charAt(0);return"!"!==r&&"="!==r&&":"!==r?this.emit(t,e):this.emit(e.val,e)}return"text"===n.type&&n.val?this.emit(t,e):(e.val.length>1&&(t+="{"+e.val.length+"}"),this.emit(t,e))}).set("plus",function(e){var t=e.parsed.slice(-1);if("]"===t||")"===t)return this.emit(e.val,e);var n=this.output.slice(-1);return!this.output||/[?*+]/.test(n)&&"bracket"!==e.parent.type?this.emit("\\+",e):/\w/.test(n)&&!e.inside?this.emit("+\\+?",e):this.emit("+",e)}).set("star",function(e){var n=this.prev(),r="text"!==n.type&&"escape"!==n.type?"(?!\\.)":"";return this.emit(r+t.call(this,e),e)}).set("paren",function(e){return this.mapVisit(e.nodes)}).set("paren.open",function(e){var t=this.options.capture?"(":"";switch(e.parent.prefix){case"!":case"^":return this.emit(t+"(?:(?!(?:",e);case"*":case"+":case"?":case"@":return this.emit(t+"(?:",e);default:var n=e.val;return!0===this.options.bash?n="\\"+n:this.options.capture||"("!==n||"?"===e.parent.rest[0]||(n+="?:"),this.emit(n,e)}}).set("paren.close",function(e){var n=this.options.capture?")":"";switch(e.prefix){case"!":case"^":var r=/^(\)|$)/.test(e.rest)?"$":"",i=t.call(this,e);return e.parent.hasSlash&&!this.options.star&&!1!==this.options.slash&&(i=".*?"),this.emit(r+"))"+i+")"+n,e);case"*":case"+":case"?":return this.emit(")"+e.prefix+n,e);case"@":return this.emit(")"+n,e);default:var o=(!0===this.options.bash?"\\":"")+")";return this.emit(o,e)}}).set("text",function(e){var t=e.val.replace(/[\[\]]/g,"\\$&");return this.emit(t,e)})}},function(e,t,n){"use strict";var r=n(231),i=n(233),o=n(47)("expand-brackets"),s=n(8),a=n(26),c=n(13);function u(e,t){return o("initializing from <%s>",__filename),u.create(e,t).output}u.match=function(e,t,n){e=[].concat(e);for(var r=s({},n),i=u.matcher(t,r),o=e.length,a=-1,c=[];++a<o;){var l=e[a];i(l)&&c.push(l)}if(0===c.length){if(!0===r.failglob)throw new Error('no matches found for "'+t+'"');if(!0===r.nonull||!0===r.nullglob)return[t.split("\\").join("")]}return c},u.isMatch=function(e,t,n){return u.matcher(t,n)(e)},u.matcher=function(e,t){var n=u.makeRe(e,t);return function(e){return n.test(e)}},u.makeRe=function(e,t){var n=u.create(e,t),r=s({strictErrors:!1},t);return c(n.output,r)},u.create=function(e,t){var n=t&&t.snapdragon||new a(t);r(n),i(n);var o=n.parse(e,t);o.input=e;var s=n.compile(o,t);return s.input=e,s},u.compilers=r,u.parsers=i,e.exports=u},function(e,t,n){"use strict";var r=n(88),i=n(90),o="([!@*?+]?\\(|\\)|[*?.+\\\\]|\\[:?(?=.*\\])|:?\\])+",s=n(91).createRegex(o);e.exports.TEXT_REGEX=o,e.exports=function(e){e.state=e.state||{},e.use(r.parsers),e.parser.sets.paren=e.parser.sets.paren||[],e.parser.capture("paren.open",function(){var e=this.parsed,t=this.position(),n=this.match(/^([!@*?+])?\(/);if(n){var r=this.prev(),o=n[1],s=t({type:"paren.open",parsed:e,val:n[0]}),a=t({type:"paren",prefix:o,nodes:[s]});"!"===o&&"paren"===r.type&&"!"===r.prefix&&(r.prefix="@",a.prefix="@"),i(a,"rest",this.input),i(a,"parsed",e),i(a,"parent",r),i(s,"parent",a),this.push("paren",a),r.nodes.push(a)}}).capture("paren.close",function(){var e=this.parsed,t=this.position(),n=this.match(/^\)/);if(n){var r=this.pop("paren"),o=t({type:"paren.close",rest:this.input,parsed:e,val:n[0]});if(!this.isType(r,"paren")){if(this.options.strict)throw new Error('missing opening paren: "("');return o.escaped=!0,o}o.prefix=r.prefix,r.nodes.push(o),i(o,"parent",r)}}).capture("escape",function(){var e=this.position(),t=this.match(/^\\(.)/);if(t)return e({type:"escape",val:t[0],ch:t[1]})}).capture("qmark",function(){var t=this.parsed,n=this.position(),r=this.match(/^\?+(?!\()/);if(r)return e.state.metachar=!0,n({type:"qmark",rest:this.input,parsed:t,val:r[0]})}).capture("star",/^\*(?!\()/).capture("plus",/^\+(?!\()/).capture("dot",/^\./).capture("text",s)}},function(e,t,n){"use strict";
/*!
 * define-property <https://github.com/jonschlinkert/define-property>
 *
 * Copyright (c) 2015, 2017, Jon Schlinkert.
 * Released under the MIT License.
 */var r=n(17);e.exports=function(e,t,n){if("object"!=typeof e&&"function"!=typeof e)throw new TypeError("expected an object or function.");if("string"!=typeof t)throw new TypeError("expected `prop` to be a string.");return r(n)&&("set"in n||"get"in n)?Object.defineProperty(e,t,n):Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:!0,value:n})}},function(e,t,n){"use strict";var r=n(24),i=n(49),o=e.exports,s=o.cache=new i;o.arrayify=function(e){return Array.isArray(e)?e:[e]},o.memoize=function(e,t,n,r){var i=o.createKey(e+t,n);if(s.has(e,i))return s.get(e,i);var a=r(t,n);return n&&!1===n.cache?a:(s.set(e,i,a),a)},o.createKey=function(e,t){var n=e;if(void 0===t)return n;for(var r in t)n+=";"+r+"="+String(t[r]);return n},o.createRegex=function(e){return r(e,{contains:!0,strictClose:!1})}},function(e,t,n){
/*!
 * normalize-path <https://github.com/jonschlinkert/normalize-path>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */
var r=n(241);e.exports=function(e,t){if("string"!=typeof e)throw new TypeError("expected a string");return e=e.replace(/[\\\/]+/g,"/"),!1!==t&&(e=r(e)),e}},function(e,t){
/*!
 * is-extglob <https://github.com/jonschlinkert/is-extglob>
 *
 * Copyright (c) 2014-2016, Jon Schlinkert.
 * Licensed under the MIT License.
 */
e.exports=function(e){if("string"!=typeof e||""===e)return!1;for(var t;t=/(\\).|([@?!+*]\(.*\))/g.exec(e);){if(t[2])return!0;e=e.slice(t.index+t[0].length)}return!1}},function(e,t,n){"use strict";var r=n(4),i=n(0),o=n(45).isMatch,s=Object.prototype.toString;function a(e){return void 0===e}e.exports=function(e,t,c){var u,l,h,f,p,d,g=[],m={directories:[],files:[]},y=!1,b=!1;if(a(t)){var v=n(249)();u=v.stream,t=v.processEntry,c=v.done,l=v.handleError,h=v.handleFatalError,u.on("close",function(){y=!0}),u.on("pause",function(){b=!0}),u.on("resume",function(){b=!1})}else l=function(e){g.push(e)},h=function(e){l(e),p(g,null)};if(a(e))return h(new Error("Need to pass at least one argument: opts! \nhttps://github.com/paulmillr/readdirp#options")),u;e.root=e.root||".",e.fileFilter=e.fileFilter||function(){return!0},e.directoryFilter=e.directoryFilter||function(){return!0},e.depth=void 0===e.depth?999999999:e.depth,e.entryType=e.entryType||"files";var w=!0===e.lstat?r.lstat.bind(r):r.stat.bind(r);function x(e){var t;if(!a(e))return t=e,"[object Function]"===s.call(t)?e:function(e){return"[object String]"===s.call(e)}(e)?function(t){return o(t.name,e.trim())}:e&&Array.isArray(e)?(e&&(e=e.map(function(e){return e.trim()})),function(e){function t(e){return 0===e.indexOf("!")}if(e.some(t)){if(e.every(t))return!0;throw new Error("Cannot mix negated with non negated glob filters: "+e+"\nhttps://github.com/paulmillr/readdirp#filters")}return!1}(e)?function(t){return e.every(function(e){return o(t.name,e)})}:function(t){return e.some(function(e){return o(t.name,e)})}):void 0}function k(t,n,o){var s=arguments;y||(b?setImmediate(function(){k.apply(null,s)}):r.readdir(t,function(s,a){if(s)return l(s),void o();!function(e,t,n){if(!y){var o=t.length,s=0,a=[];r.realpath(e,function(e,r){if(!y){if(e)return l(e),void n(a);var c=i.relative(d,r);0===t.length?n([]):t.forEach(function(e){var t=i.join(r,e),u=i.join(c,e);w(t,function(i,h){i?l(i):a.push({name:e,path:u,fullPath:t,parentDir:c,fullParentDir:r,stat:h}),++s===o&&n(a)})})}})}}(t,a,function(t){var r=t.filter(function(t){return t.stat.isDirectory()&&e.directoryFilter(t)});r.forEach(function(t){"directories"!==e.entryType&&"both"!==e.entryType&&"all"!==e.entryType||f(t),m.directories.push(t)}),t.filter(function(t){return("all"===e.entryType?!t.stat.isDirectory():t.stat.isFile()||t.stat.isSymbolicLink())&&e.fileFilter(t)}).forEach(function(t){"files"!==e.entryType&&"both"!==e.entryType&&"all"!==e.entryType||f(t),m.files.push(t)});var i=r.length;0===i||n===e.depth?o():r.forEach(function(e){k(e.fullPath,n+1,function(){0==(i-=1)&&o()})})})}))}a(c)?(f=function(){},p=t):(f=t,p=c);try{e.fileFilter=x(e.fileFilter),e.directoryFilter=x(e.directoryFilter)}catch(e){return h(e),u}return r.realpath(e.root,function(t,n){if(t)return h(t),u;d=n,k(e.root,0,function(){g.length>0?p(g,m):p(null,m)})}),u}},function(e,t,n){"use strict";var r=n(40);e.exports=b;var i,o=n(73);b.ReadableState=y;n(22).EventEmitter;var s=function(e,t){return e.listeners(t).length},a=n(96),c=n(41).Buffer,u=global.Uint8Array||function(){};var l=n(28);l.inherits=n(16);var h=n(3),f=void 0;f=h&&h.debuglog?h.debuglog("stream"):function(){};var p,d=n(251),g=n(97);l.inherits(b,a);var m=["error","close","destroy","pause","resume"];function y(e,t){e=e||{};var r=t instanceof(i=i||n(19));this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var o=e.highWaterMark,s=e.readableHighWaterMark,a=this.objectMode?16:16384;this.highWaterMark=o||0===o?o:r&&(s||0===s)?s:a,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new d,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(p||(p=n(99).StringDecoder),this.decoder=new p(e.encoding),this.encoding=e.encoding)}function b(e){if(i=i||n(19),!(this instanceof b))return new b(e);this._readableState=new y(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),a.call(this)}function v(e,t,n,r,i){var o,s=e._readableState;null===t?(s.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,_(e)}(e,s)):(i||(o=function(e,t){var n;r=t,c.isBuffer(r)||r instanceof u||"string"==typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk"));var r;return n}(s,t)),o?e.emit("error",o):s.objectMode||t&&t.length>0?("string"==typeof t||s.objectMode||Object.getPrototypeOf(t)===c.prototype||(t=function(e){return c.from(e)}(t)),r?s.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):w(e,s,t,!0):s.ended?e.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!n?(t=s.decoder.write(t),s.objectMode||0!==t.length?w(e,s,t,!1):E(e,s)):w(e,s,t,!1))):r||(s.reading=!1));return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(s)}function w(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&_(e)),E(e,t)}Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),b.prototype.destroy=g.destroy,b.prototype._undestroy=g.undestroy,b.prototype._destroy=function(e,t){this.push(null),t(e)},b.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=c.from(e,t),t=""),n=!0),v(this,e,t,!1,n)},b.prototype.unshift=function(e){return v(this,e,null,!0,!1)},b.prototype.isPaused=function(){return!1===this._readableState.flowing},b.prototype.setEncoding=function(e){return p||(p=n(99).StringDecoder),this._readableState.decoder=new p(e),this._readableState.encoding=e,this};var x=8388608;function k(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=x?e=x:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function _(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(f("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?r.nextTick(S,e):S(e))}function S(e){f("emit readable"),e.emit("readable"),A(e)}function E(e,t){t.readingMore||(t.readingMore=!0,r.nextTick(C,e,t))}function C(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(f("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function T(e){f("readable nexttick read 0"),e.read(0)}function O(e,t){t.reading||(f("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),A(e),t.flowing&&!t.reading&&e.read(0)}function A(e){var t=e._readableState;for(f("flow",t.flowing);t.flowing&&null!==e.read(););}function j(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=function(e,t,n){var r;e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():n?function(e,t){var n=t.head,r=1,i=n.data;e-=i.length;for(;n=n.next;){var o=n.data,s=e>o.length?o.length:e;if(s===o.length?i+=o:i+=o.slice(0,e),0===(e-=s)){s===o.length?(++r,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(s));break}++r}return t.length-=r,i}(e,t):function(e,t){var n=c.allocUnsafe(e),r=t.head,i=1;r.data.copy(n),e-=r.data.length;for(;r=r.next;){var o=r.data,s=e>o.length?o.length:e;if(o.copy(n,n.length-e,0,s),0===(e-=s)){s===o.length?(++i,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(s));break}++i}return t.length-=i,n}(e,t);return r}(e,t.buffer,t.decoder),n);var n}function P(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,r.nextTick(L,t,e))}function L(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function R(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}b.prototype.read=function(e){f("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return f("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?P(this):_(this),null;if(0===(e=k(e,t))&&t.ended)return 0===t.length&&P(this),null;var r,i=t.needReadable;return f("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&f("length less than watermark",i=!0),t.ended||t.reading?f("reading or ended",i=!1):i&&(f("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=k(n,t))),null===(r=e>0?j(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&P(this)),null!==r&&this.emit("data",r),r},b.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},b.prototype.pipe=function(e,t){var n=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,f("pipe count=%d opts=%j",i.pipesCount,t);var a=(!t||!1!==t.end)&&e!==process.stdout&&e!==process.stderr?u:b;function c(t,r){f("onunpipe"),t===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,f("cleanup"),e.removeListener("close",m),e.removeListener("finish",y),e.removeListener("drain",l),e.removeListener("error",g),e.removeListener("unpipe",c),n.removeListener("end",u),n.removeListener("end",b),n.removeListener("data",d),h=!0,!i.awaitDrain||e._writableState&&!e._writableState.needDrain||l())}function u(){f("onend"),e.end()}i.endEmitted?r.nextTick(a):n.once("end",a),e.on("unpipe",c);var l=function(e){return function(){var t=e._readableState;f("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,A(e))}}(n);e.on("drain",l);var h=!1;var p=!1;function d(t){f("ondata"),p=!1,!1!==e.write(t)||p||((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==R(i.pipes,e))&&!h&&(f("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,p=!0),n.pause())}function g(t){f("onerror",t),b(),e.removeListener("error",g),0===s(e,"error")&&e.emit("error",t)}function m(){e.removeListener("finish",y),b()}function y(){f("onfinish"),e.removeListener("close",m),b()}function b(){f("unpipe"),n.unpipe(e)}return n.on("data",d),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?o(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",g),e.once("close",m),e.once("finish",y),e.emit("pipe",n),i.flowing||(f("pipe resume"),n.resume()),e},b.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n),this);if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,n);return this}var s=R(t.pipes,e);return-1===s?this:(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n),this)},b.prototype.on=function(e,t){var n=a.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var i=this._readableState;i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.emittedReadable=!1,i.reading?i.length&&_(this):r.nextTick(T,this))}return n},b.prototype.addListener=b.prototype.on,b.prototype.resume=function(){var e=this._readableState;return e.flowing||(f("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,r.nextTick(O,e,t))}(this,e)),this},b.prototype.pause=function(){return f("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(f("pause"),this._readableState.flowing=!1,this.emit("pause")),this},b.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",function(){if(f("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(i){(f("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i)||(n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause()))}),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<m.length;o++)e.on(m[o],this.emit.bind(this,m[o]));return this._read=function(t){f("wrapped _read",t),r&&(r=!1,e.resume())},this},Object.defineProperty(b.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),b._fromList=j},function(e,t,n){e.exports=n(15)},function(e,t,n){"use strict";var r=n(40);function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var n=this,o=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return o||s?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||r.nextTick(i,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?(r.nextTick(i,n,e),n._writableState&&(n._writableState.errorEmitted=!0)):t&&t(e)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,t,n){"use strict";var r=n(40);function i(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;e.entry=null;for(;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=m;var o,s=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:r.nextTick;m.WritableState=g;var a=n(28);a.inherits=n(16);var c={deprecate:n(252)},u=n(96),l=n(41).Buffer,h=global.Uint8Array||function(){};var f,p=n(97);function d(){}function g(e,t){o=o||n(19),e=e||{};var a=t instanceof o;this.objectMode=!!e.objectMode,a&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var c=e.highWaterMark,u=e.writableHighWaterMark,l=this.objectMode?16:16384;this.highWaterMark=c||0===c?c:a&&(u||0===u)?u:l,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var h=!1===e.decodeStrings;this.decodeStrings=!h,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,i=n.sync,o=n.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,i,o){--t.pendingcb,n?(r.nextTick(o,i),r.nextTick(k,e,t),e._writableState.errorEmitted=!0,e.emit("error",i)):(o(i),e._writableState.errorEmitted=!0,e.emit("error",i),k(e,t))}(e,n,i,t,o);else{var a=w(n);a||n.corked||n.bufferProcessing||!n.bufferedRequest||v(e,n),i?s(b,e,n,a,o):b(e,n,a,o)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function m(e){if(o=o||n(19),!(f.call(m,this)||this instanceof o))return new m(e);this._writableState=new g(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),u.call(this)}function y(e,t,n,r,i,o,s){t.writelen=r,t.writecb=s,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function b(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),k(e,t)}function v(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,o=new Array(r),s=t.corkedRequestsFree;s.entry=n;for(var a=0,c=!0;n;)o[a]=n,n.isBuf||(c=!1),n=n.next,a+=1;o.allBuffers=c,y(e,t,!0,t.length,o,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new i(t),t.bufferedRequestCount=0}else{for(;n;){var u=n.chunk,l=n.encoding,h=n.callback;if(y(e,t,!1,t.objectMode?1:u.length,u,l,h),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function w(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function x(e,t){e._final(function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),k(e,t)})}function k(e,t){var n=w(t);return n&&(!function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,r.nextTick(x,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}a.inherits(m,u),g.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(g.prototype,"buffer",{get:c.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(f=Function.prototype[Symbol.hasInstance],Object.defineProperty(m,Symbol.hasInstance,{value:function(e){return!!f.call(this,e)||this===m&&(e&&e._writableState instanceof g)}})):f=function(e){return e instanceof this},m.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},m.prototype.write=function(e,t,n){var i,o=this._writableState,s=!1,a=!o.objectMode&&(i=e,l.isBuffer(i)||i instanceof h);return a&&!l.isBuffer(e)&&(e=function(e){return l.from(e)}(e)),"function"==typeof t&&(n=t,t=null),a?t="buffer":t||(t=o.defaultEncoding),"function"!=typeof n&&(n=d),o.ended?function(e,t){var n=new Error("write after end");e.emit("error",n),r.nextTick(t,n)}(this,n):(a||function(e,t,n,i){var o=!0,s=!1;return null===n?s=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||t.objectMode||(s=new TypeError("Invalid non-string/buffer chunk")),s&&(e.emit("error",s),r.nextTick(i,s),o=!1),o}(this,o,e,n))&&(o.pendingcb++,s=function(e,t,n,r,i,o){if(!n){var s=function(e,t,n){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=l.from(t,n));return t}(t,r,i);r!==s&&(n=!0,i="buffer",r=s)}var a=t.objectMode?1:r.length;t.length+=a;var c=t.length<t.highWaterMark;c||(t.needDrain=!0);if(t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else y(e,t,!1,a,r,i,o);return c}(this,o,a,e,t,n)),s},m.prototype.cork=function(){this._writableState.corked++},m.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||v(this,e))},m.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(m.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),m.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},m.prototype._writev=null,m.prototype.end=function(e,t,n){var i=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||i.finished||function(e,t,n){t.ending=!0,k(e,t),n&&(t.finished?r.nextTick(n):e.once("finish",n));t.ended=!0,e.writable=!1}(this,i,n)},Object.defineProperty(m.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),m.prototype.destroy=p.destroy,m.prototype._undestroy=p.undestroy,m.prototype._destroy=function(e,t){this.end(),t(e)}},function(e,t,n){"use strict";var r=n(41).Buffer,i=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(r.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=c,this.end=u,t=4;break;case"utf8":this.fillLast=a,t=4;break;case"base64":this.text=l,this.end=h,t=3;break;default:return this.write=f,void(this.end=p)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function s(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function a(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,""}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function c(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function u(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function l(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function h(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function f(e){return e.toString(this.encoding)}function p(e){return e&&e.length?this.write(e):""}t.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t},o.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var i=s(t[r]);if(i>=0)return i>0&&(e.lastNeed=i-1),i;if(--r<n||-2===i)return 0;if((i=s(t[r]))>=0)return i>0&&(e.lastNeed=i-2),i;if(--r<n||-2===i)return 0;if((i=s(t[r]))>=0)return i>0&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,n){"use strict";e.exports=s;var r=n(19),i=n(28);function o(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function s(e){if(!(this instanceof s))return new s(e);r.call(this,e),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",a)}function a(){var e=this;"function"==typeof this._flush?this._flush(function(t,n){c(e,t,n)}):c(this,null,null)}function c(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}i.inherits=n(16),i.inherits(s,r),s.prototype.push=function(e,t){return this._transformState.needTransform=!1,r.prototype.push.call(this,e,t)},s.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},s.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},s.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},s.prototype._destroy=function(e,t){var n=this;r.prototype._destroy.call(this,e,function(e){t(e),n.emit("close")})}},function(e,t,n){e.exports=l,l.realpath=l,l.sync=h,l.realpathSync=h,l.monkeypatch=function(){r.realpath=l,r.realpathSync=h},l.unmonkeypatch=function(){r.realpath=i,r.realpathSync=o};var r=n(2),i=r.realpath,o=r.realpathSync,s=process.version,a=/^v[0-5]\./.test(s),c=n(258);function u(e){return e&&"realpath"===e.syscall&&("ELOOP"===e.code||"ENOMEM"===e.code||"ENAMETOOLONG"===e.code)}function l(e,t,n){if(a)return i(e,t,n);"function"==typeof t&&(n=t,t=null),i(e,t,function(r,i){u(r)?c.realpath(e,t,n):n(r,i)})}function h(e,t){if(a)return o(e,t);try{return o(e,t)}catch(n){if(u(n))return c.realpathSync(e,t);throw n}}},function(e,t,n){function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.alphasort=u,t.alphasorti=c,t.setopts=function(e,t,n){n||(n={});if(n.matchBase&&-1===t.indexOf("/")){if(n.noglobstar)throw new Error("base matching requires globstar");t="**/"+t}e.silent=!!n.silent,e.pattern=t,e.strict=!1!==n.strict,e.realpath=!!n.realpath,e.realpathCache=n.realpathCache||Object.create(null),e.follow=!!n.follow,e.dot=!!n.dot,e.mark=!!n.mark,e.nodir=!!n.nodir,e.nodir&&(e.mark=!0);e.sync=!!n.sync,e.nounique=!!n.nounique,e.nonull=!!n.nonull,e.nosort=!!n.nosort,e.nocase=!!n.nocase,e.stat=!!n.stat,e.noprocess=!!n.noprocess,e.absolute=!!n.absolute,e.maxLength=n.maxLength||1/0,e.cache=n.cache||Object.create(null),e.statCache=n.statCache||Object.create(null),e.symlinks=n.symlinks||Object.create(null),function(e,t){e.ignore=t.ignore||[],Array.isArray(e.ignore)||(e.ignore=[e.ignore]);e.ignore.length&&(e.ignore=e.ignore.map(l))}(e,n),e.changedCwd=!1;var o=process.cwd();r(n,"cwd")?(e.cwd=i.resolve(n.cwd),e.changedCwd=e.cwd!==o):e.cwd=o;e.root=n.root||i.resolve(e.cwd,"/"),e.root=i.resolve(e.root),"win32"===process.platform&&(e.root=e.root.replace(/\\/g,"/"));e.cwdAbs=s(e.cwd)?e.cwd:h(e,e.cwd),"win32"===process.platform&&(e.cwdAbs=e.cwdAbs.replace(/\\/g,"/"));e.nomount=!!n.nomount,n.nonegate=!0,n.nocomment=!0,e.minimatch=new a(t,n),e.options=e.minimatch.options},t.ownProp=r,t.makeAbs=h,t.finish=function(e){for(var t=e.nounique,n=t?[]:Object.create(null),r=0,i=e.matches.length;r<i;r++){var o=e.matches[r];if(o&&0!==Object.keys(o).length){var s=Object.keys(o);t?n.push.apply(n,s):s.forEach(function(e){n[e]=!0})}else if(e.nonull){var a=e.minimatch.globSet[r];t?n.push(a):n[a]=!0}}t||(n=Object.keys(n));e.nosort||(n=n.sort(e.nocase?c:u));if(e.mark){for(var r=0;r<n.length;r++)n[r]=e._mark(n[r]);e.nodir&&(n=n.filter(function(t){var n=!/\/$/.test(t),r=e.cache[t]||e.cache[h(e,t)];return n&&r&&(n="DIR"!==r&&!Array.isArray(r)),n}))}e.ignore.length&&(n=n.filter(function(t){return!f(e,t)}));e.found=n},t.mark=function(e,t){var n=h(e,t),r=e.cache[n],i=t;if(r){var o="DIR"===r||Array.isArray(r),s="/"===t.slice(-1);if(o&&!s?i+="/":!o&&s&&(i=i.slice(0,-1)),i!==t){var a=h(e,i);e.statCache[a]=e.statCache[n],e.cache[a]=e.cache[n]}}return i},t.isIgnored=f,t.childrenIgnored=function(e,t){return!!e.ignore.length&&e.ignore.some(function(e){return!(!e.gmatcher||!e.gmatcher.match(t))})};var i=n(0),o=n(51),s=n(39),a=o.Minimatch;function c(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())}function u(e,t){return e.localeCompare(t)}function l(e){var t=null;if("/**"===e.slice(-3)){var n=e.replace(/(\/\*\*)+$/,"");t=new a(n,{dot:!0})}return{matcher:new a(e,{dot:!0}),gmatcher:t}}function h(e,t){var n=t;return n="/"===t.charAt(0)?i.join(e.root,t):s(t)||""===t?t:e.changedCwd?i.resolve(e.cwd,t):i.resolve(t),"win32"===process.platform&&(n=n.replace(/\\/g,"/")),n}function f(e,t){return!!e.ignore.length&&e.ignore.some(function(e){return e.matcher.match(t)||!(!e.gmatcher||!e.gmatcher.match(t))})}},function(e,t){e.exports=function e(t,n){if(t&&n)return e(t)(n);if("function"!=typeof t)throw new TypeError("need wrapper function");Object.keys(t).forEach(function(e){r[e]=t[e]});return r;function r(){for(var e=new Array(arguments.length),n=0;n<e.length;n++)e[n]=arguments[n];var r=t.apply(this,e),i=e[e.length-1];return"function"==typeof r&&r!==i&&Object.keys(i).forEach(function(e){r[e]=i[e]}),r}}},function(e,t,n){var r=n(103);function i(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function o(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},n=e.name||"Function wrapped with `once`";return t.onceError=n+" shouldn't be called more than once",t.called=!1,t}e.exports=r(i),e.exports.strict=r(o),i.proto=i(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return i(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return o(this)},configurable:!0})})},function(e,t,n){"use strict";const r=n(22),i=n(42),o=n(270),s=n(52),a=n(76),c=n(271),u=n(48),l=n(43),h=n(274),f=n(107),p=n(29),d=n(108),g=n(110),m=["CONNECTING","OPEN","CLOSING","CLOSED"],y=p.kWebSocket,b=[8,13],v=3e4;class w extends r{constructor(e,t,n){super(),this.readyState=w.CONNECTING,this.protocol="",this._binaryType=p.BINARY_TYPES[0],this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage="",this._closeTimer=null,this._closeCode=1006,this._extensions={},this._isServer=!0,this._receiver=null,this._sender=null,this._socket=null,null!==e&&(Array.isArray(t)?t=t.join(", "):"object"==typeof t&&null!==t&&(n=t,t=void 0),function(e,t,n){if(n=Object.assign({protocolVersion:b[1],perMessageDeflate:!0},n,{createConnection:void 0,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:void 0,auth:void 0,host:void 0,path:void 0,port:void 0}),-1===b.indexOf(n.protocolVersion))throw new RangeError(`Unsupported protocol version: ${n.protocolVersion} `+`(supported versions: ${b.join(", ")})`);var r;this._isServer=!1,"object"==typeof e&&void 0!==e.href?(r=e,this.url=e.href):(r=u.parse(e),this.url=e);const a="ws+unix:"===r.protocol;if(!(r.host||a&&r.pathname))throw new Error(`Invalid URL: ${this.url}`);const c="wss:"===r.protocol||"https:"===r.protocol,h=i.randomBytes(16).toString("base64"),d=c?o:s,g=r.search?`${r.pathname||"/"}${r.search}`:r.pathname||"/";var m;n.createConnection=c?k:x,n.port=r.port||(c?443:80),n.host=r.hostname.startsWith("[")?r.hostname.slice(1,-1):r.hostname,n.headers=Object.assign({"Sec-WebSocket-Version":n.protocolVersion,"Sec-WebSocket-Key":h,Connection:"Upgrade",Upgrade:"websocket"},n.headers),n.path=g,n.perMessageDeflate&&(m=new l(!0!==n.perMessageDeflate?n.perMessageDeflate:{},!1),n.headers["Sec-WebSocket-Extensions"]=f.format({[l.extensionName]:m.offer()}));t&&(n.headers["Sec-WebSocket-Protocol"]=t);n.origin&&(n.protocolVersion<13?n.headers["Sec-WebSocket-Origin"]=n.origin:n.headers.Origin=n.origin);r.auth?n.auth=r.auth:(r.username||r.password)&&(n.auth=`${r.username}:${r.password}`);if(a){const e=g.split(":");null==n.agent&&process.versions.modules<57?n._socketPath=e[0]:n.socketPath=e[0],n.path=e[1]}var y=this._req=d.get(n);n.handshakeTimeout&&y.setTimeout(n.handshakeTimeout,()=>_(this,y,"Opening handshake has timed out"));y.on("error",e=>{this._req.aborted||(y=this._req=null,this.readyState=w.CLOSING,this.emit("error",e),this.emitClose())}),y.on("response",e=>{this.emit("unexpected-response",y,e)||_(this,y,`Unexpected server response: ${e.statusCode}`)}),y.on("upgrade",(e,n,r)=>{if(this.emit("upgrade",e),this.readyState!==w.CONNECTING)return;y=this._req=null;const o=i.createHash("sha1").update(h+p.GUID,"binary").digest("base64");if(e.headers["sec-websocket-accept"]!==o)return void _(this,n,"Invalid Sec-WebSocket-Accept header");const s=e.headers["sec-websocket-protocol"],a=(t||"").split(/, */);var c;if(!t&&s?c="Server sent a subprotocol but none was requested":t&&!s?c="Server sent no subprotocol":s&&-1===a.indexOf(s)&&(c="Server sent an invalid subprotocol"),c)_(this,n,c);else{if(s&&(this.protocol=s),m)try{const t=f.parse(e.headers["sec-websocket-extensions"]);t[l.extensionName]&&(m.accept(t[l.extensionName]),this._extensions[l.extensionName]=m)}catch(e){return void _(this,n,"Invalid Sec-WebSocket-Extensions header")}this.setSocket(n,r,0)}})}.call(this,e,t,n))}get CONNECTING(){return w.CONNECTING}get CLOSING(){return w.CLOSING}get CLOSED(){return w.CLOSED}get OPEN(){return w.OPEN}get binaryType(){return this._binaryType}set binaryType(e){p.BINARY_TYPES.indexOf(e)<0||(this._binaryType=e,this._receiver&&(this._receiver._binaryType=e))}get bufferedAmount(){return this._socket?(this._socket.bufferSize||0)+this._sender._bufferedBytes:0}get extensions(){return Object.keys(this._extensions).join()}setSocket(e,t,n){const r=new d(this._binaryType,this._extensions,n);this._sender=new g(e,this._extensions),this._receiver=r,this._socket=e,r[y]=this,e[y]=this,r.on("conclude",S),r.on("drain",E),r.on("error",C),r.on("message",O),r.on("ping",A),r.on("pong",j),e.setTimeout(0),e.setNoDelay(),t.length>0&&e.unshift(t),e.on("close",P),e.on("data",L),e.on("end",R),e.on("error",M),this.readyState=w.OPEN,this.emit("open")}emitClose(){this.readyState=w.CLOSED,this._socket?(this._extensions[l.extensionName]&&this._extensions[l.extensionName].cleanup(),this._receiver.removeAllListeners(),this.emit("close",this._closeCode,this._closeMessage)):this.emit("close",this._closeCode,this._closeMessage)}close(e,t){if(this.readyState!==w.CLOSED){if(this.readyState===w.CONNECTING){const e="WebSocket was closed before the connection was established";return _(this,this._req,e)}this.readyState!==w.CLOSING?(this.readyState=w.CLOSING,this._sender.close(e,t,!this._isServer,e=>{e||(this._closeFrameSent=!0,this._socket.writable&&(this._closeFrameReceived&&this._socket.end(),this._closeTimer=setTimeout(this._socket.destroy.bind(this._socket),v)))})):this._closeFrameSent&&this._closeFrameReceived&&this._socket.end()}}ping(e,t,n){if("function"==typeof e?(n=e,e=t=void 0):"function"==typeof t&&(n=t,t=void 0),this.readyState!==w.OPEN){const e=new Error(`WebSocket is not open: readyState ${this.readyState} `+`(${m[this.readyState]})`);if(n)return n(e);throw e}"number"==typeof e&&(e=e.toString()),void 0===t&&(t=!this._isServer),this._sender.ping(e||p.EMPTY_BUFFER,t,n)}pong(e,t,n){if("function"==typeof e?(n=e,e=t=void 0):"function"==typeof t&&(n=t,t=void 0),this.readyState!==w.OPEN){const e=new Error(`WebSocket is not open: readyState ${this.readyState} `+`(${m[this.readyState]})`);if(n)return n(e);throw e}"number"==typeof e&&(e=e.toString()),void 0===t&&(t=!this._isServer),this._sender.pong(e||p.EMPTY_BUFFER,t,n)}send(e,t,n){if("function"==typeof t&&(n=t,t={}),this.readyState!==w.OPEN){const e=new Error(`WebSocket is not open: readyState ${this.readyState} `+`(${m[this.readyState]})`);if(n)return n(e);throw e}"number"==typeof e&&(e=e.toString());const r=Object.assign({binary:"string"!=typeof e,mask:!this._isServer,compress:!0,fin:!0},t);this._extensions[l.extensionName]||(r.compress=!1),this._sender.send(e||p.EMPTY_BUFFER,r,n)}terminate(){if(this.readyState!==w.CLOSED){if(this.readyState===w.CONNECTING){const e="WebSocket was closed before the connection was established";return _(this,this._req,e)}this._socket&&(this.readyState=w.CLOSING,this._socket.destroy())}}}function x(e){return e.path=e.socketPath||e._socketPath||void 0,a.connect(e)}function k(e){return e.path=e.socketPath||e._socketPath||void 0,e.servername=e.servername||e.host,c.connect(e)}function _(e,t,n){e.readyState=w.CLOSING;const r=new Error(n);Error.captureStackTrace(r,_),t.setHeader?(t.abort(),t.once("abort",e.emitClose.bind(e)),e.emit("error",r)):(t.destroy(r),t.once("error",e.emit.bind(e,"error")),t.once("close",e.emitClose.bind(e)))}function S(e,t){const n=this[y];n._socket.removeListener("data",L),n._socket.resume(),n._closeFrameReceived=!0,n._closeMessage=t,n._closeCode=e,1005===e?n.close():n.close(e,t)}function E(){this[y]._socket.resume()}function C(e){const t=this[y];t._socket.removeListener("data",L),t.readyState=w.CLOSING,t._closeCode=e[p.kStatusCode],t.emit("error",e),t._socket.destroy()}function T(){this[y].emitClose()}function O(e){this[y].emit("message",e)}function A(e){const t=this[y];t.pong(e,!t._isServer,p.NOOP),t.emit("ping",e)}function j(e){this[y].emit("pong",e)}function P(){const e=this[y];this.removeListener("close",P),this.removeListener("end",R),e.readyState=w.CLOSING,e._socket.read(),e._receiver.end(),this.removeListener("data",L),this[y]=void 0,clearTimeout(e._closeTimer),e._receiver._writableState.finished||e._receiver._writableState.errorEmitted?e.emitClose():(e._receiver.on("error",T),e._receiver.on("finish",T))}function L(e){this[y]._receiver.write(e)||this.pause()}function R(){const e=this[y];e.readyState=w.CLOSING,e._receiver.end(),this.end()}function M(){const e=this[y];this.removeListener("error",M),this.on("error",p.NOOP),e&&(e.readyState=w.CLOSING,this.destroy())}m.forEach((e,t)=>{w[m[t]]=t}),["open","error","close","message"].forEach(e=>{Object.defineProperty(w.prototype,`on${e}`,{get(){const t=this.listeners(e);for(var n=0;n<t.length;n++)if(t[n]._listener)return t[n]._listener},set(t){const n=this.listeners(e);for(var r=0;r<n.length;r++)n[r]._listener&&this.removeListener(e,n[r]);this.addEventListener(e,t)}})}),w.prototype.addEventListener=h.addEventListener,w.prototype.removeEventListener=h.removeEventListener,e.exports=w},function(e,t){e.exports=require("zlib")},function(e,t,n){"use strict";const r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0];function i(e,t,n){Object.prototype.hasOwnProperty.call(e,t)?e[t].push(n):e[t]=[n]}e.exports={format:function(e){return Object.keys(e).map(t=>{var n=e[t];return Array.isArray(n)||(n=[n]),n.map(e=>[t].concat(Object.keys(e).map(t=>{var n=e[t];return Array.isArray(n)||(n=[n]),n.map(e=>!0===e?t:`${t}=${e}`).join("; ")})).join("; ")).join(", ")}).join(", ")},parse:function(e){const t={};if(void 0===e||""===e)return t;for(var n,o,s={},a=!1,c=!1,u=!1,l=-1,h=-1,f=0;f<e.length;f++){const d=e.charCodeAt(f);if(void 0===n)if(-1===h&&1===r[d])-1===l&&(l=f);else if(32===d||9===d)-1===h&&-1!==l&&(h=f);else{if(59!==d&&44!==d)throw new SyntaxError(`Unexpected character at index ${f}`);{if(-1===l)throw new SyntaxError(`Unexpected character at index ${f}`);-1===h&&(h=f);const r=e.slice(l,h);44===d?(i(t,r,s),s={}):n=r,l=h=-1}}else if(void 0===o)if(-1===h&&1===r[d])-1===l&&(l=f);else if(32===d||9===d)-1===h&&-1!==l&&(h=f);else if(59===d||44===d){if(-1===l)throw new SyntaxError(`Unexpected character at index ${f}`);-1===h&&(h=f),i(s,e.slice(l,h),!0),44===d&&(i(t,n,s),s={},n=void 0),l=h=-1}else{if(61!==d||-1===l||-1!==h)throw new SyntaxError(`Unexpected character at index ${f}`);o=e.slice(l,f),l=h=-1}else if(c){if(1!==r[d])throw new SyntaxError(`Unexpected character at index ${f}`);-1===l?l=f:a||(a=!0),c=!1}else if(u)if(1===r[d])-1===l&&(l=f);else if(34===d&&-1!==l)u=!1,h=f;else{if(92!==d)throw new SyntaxError(`Unexpected character at index ${f}`);c=!0}else if(34===d&&61===e.charCodeAt(f-1))u=!0;else if(-1===h&&1===r[d])-1===l&&(l=f);else if(-1===l||32!==d&&9!==d){if(59!==d&&44!==d)throw new SyntaxError(`Unexpected character at index ${f}`);if(-1===l)throw new SyntaxError(`Unexpected character at index ${f}`);-1===h&&(h=f);var p=e.slice(l,h);a&&(p=p.replace(/\\/g,""),a=!1),i(s,o,p),44===d&&(i(t,n,s),s={},n=void 0),o=void 0,l=h=-1}else-1===h&&(h=f)}if(-1===l||u)throw new SyntaxError("Unexpected end of input");-1===h&&(h=f);const d=e.slice(l,h);return void 0===n?i(t,d,{}):(void 0===o?i(s,d,!0):i(s,o,a?d.replace(/\\/g,""):d),i(t,n,s)),t}}},function(e,t,n){"use strict";const r=n(15),i=n(43),o=n(53),s=n(109),a=n(29),c=0,u=1,l=2,h=3,f=4,p=5;function d(e,t,n,r){const i=new e(n?`Invalid WebSocket frame: ${t}`:t);return Error.captureStackTrace(i,d),i[a.kStatusCode]=r,i}function g(e,t){return 1===e.length?e[0]:e.length>1?o.concat(e,t):a.EMPTY_BUFFER}e.exports=class extends r.Writable{constructor(e,t,n){super(),this._binaryType=e||a.BINARY_TYPES[0],this[a.kWebSocket]=void 0,this._extensions=t||{},this._maxPayload=0|n,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._state=c,this._loop=!1}_write(e,t,n){if(8===this._opcode)return n();this._bufferedBytes+=e.length,this._buffers.push(e),this.startLoop(n)}consume(e){if(this._bufferedBytes-=e,e===this._buffers[0].length)return this._buffers.shift();if(e<this._buffers[0].length){const t=this._buffers[0];return this._buffers[0]=t.slice(e),t.slice(0,e)}const t=Buffer.allocUnsafe(e);do{const n=this._buffers[0];e>=n.length?this._buffers.shift().copy(t,t.length-e):(n.copy(t,t.length-e,0,e),this._buffers[0]=n.slice(e)),e-=n.length}while(e>0);return t}startLoop(e){var t;this._loop=!0;do{switch(this._state){case c:t=this.getInfo();break;case u:t=this.getPayloadLength16();break;case l:t=this.getPayloadLength64();break;case h:this.getMask();break;case f:t=this.getData(e);break;default:return void(this._loop=!1)}}while(this._loop);e(t)}getInfo(){if(this._bufferedBytes<2)return void(this._loop=!1);const e=this.consume(2);if(0!=(48&e[0]))return this._loop=!1,d(RangeError,"RSV2 and RSV3 must be clear",!0,1002);const t=64==(64&e[0]);if(t&&!this._extensions[i.extensionName])return this._loop=!1,d(RangeError,"RSV1 must be clear",!0,1002);if(this._fin=128==(128&e[0]),this._opcode=15&e[0],this._payloadLength=127&e[1],0===this._opcode){if(t)return this._loop=!1,d(RangeError,"RSV1 must be clear",!0,1002);if(!this._fragmented)return this._loop=!1,d(RangeError,"invalid opcode 0",!0,1002);this._opcode=this._fragmented}else if(1===this._opcode||2===this._opcode){if(this._fragmented)return this._loop=!1,d(RangeError,`invalid opcode ${this._opcode}`,!0,1002);this._compressed=t}else{if(!(this._opcode>7&&this._opcode<11))return this._loop=!1,d(RangeError,`invalid opcode ${this._opcode}`,!0,1002);if(!this._fin)return this._loop=!1,d(RangeError,"FIN must be set",!0,1002);if(t)return this._loop=!1,d(RangeError,"RSV1 must be clear",!0,1002);if(this._payloadLength>125)return this._loop=!1,d(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002)}if(this._fin||this._fragmented||(this._fragmented=this._opcode),this._masked=128==(128&e[1]),126===this._payloadLength)this._state=u;else{if(127!==this._payloadLength)return this.haveLength();this._state=l}}getPayloadLength16(){if(!(this._bufferedBytes<2))return this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength();this._loop=!1}getPayloadLength64(){if(this._bufferedBytes<8)return void(this._loop=!1);const e=this.consume(8),t=e.readUInt32BE(0);return t>Math.pow(2,21)-1?(this._loop=!1,d(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009)):(this._payloadLength=t*Math.pow(2,32)+e.readUInt32BE(4),this.haveLength())}haveLength(){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0))return this._loop=!1,d(RangeError,"Max payload size exceeded",!1,1009);this._masked?this._state=h:this._state=f}getMask(){this._bufferedBytes<4?this._loop=!1:(this._mask=this.consume(4),this._state=f)}getData(e){var t=a.EMPTY_BUFFER;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength)return void(this._loop=!1);t=this.consume(this._payloadLength),this._masked&&o.unmask(t,this._mask)}return this._opcode>7?this.controlMessage(t):this._compressed?(this._state=p,void this.decompress(t,e)):(t.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(t)),this.dataMessage())}decompress(e,t){this._extensions[i.extensionName].decompress(e,this._fin,(e,n)=>{if(e)return t(e);if(n.length){if(this._messageLength+=n.length,this._messageLength>this._maxPayload&&this._maxPayload>0)return t(d(RangeError,"Max payload size exceeded",!1,1009));this._fragments.push(n)}const r=this.dataMessage();if(r)return t(r);this.startLoop(t)})}dataMessage(){if(this._fin){const n=this._messageLength,r=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],2===this._opcode){var e;e="nodebuffer"===this._binaryType?g(r,n):"arraybuffer"===this._binaryType?0===(t=g(r,n)).byteOffset&&t.byteLength===t.buffer.byteLength?t.buffer:t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength):r,this.emit("message",e)}else{const e=g(r,n);if(!s.isValidUTF8(e))return this._loop=!1,d(Error,"invalid UTF-8 sequence",!0,1007);this.emit("message",e.toString())}}var t;this._state=c}controlMessage(e){if(8!==this._opcode)9===this._opcode?this.emit("ping",e):this.emit("pong",e),this._state=c;else if(this._loop=!1,0===e.length)this.emit("conclude",1005,""),this.end();else{if(1===e.length)return d(RangeError,"invalid payload length 1",!0,1002);{const t=e.readUInt16BE(0);if(!s.isValidStatusCode(t))return d(RangeError,`invalid status code ${t}`,!0,1002);const n=e.slice(2);if(!s.isValidUTF8(n))return d(Error,"invalid UTF-8 sequence",!0,1007);this.emit("conclude",t,n.toString()),this.end()}}}}},function(e,t,n){"use strict";try{const e=n(275);t.isValidUTF8="object"==typeof e?e.Validation.isValidUTF8:e}catch(e){t.isValidUTF8=(()=>!0)}t.isValidStatusCode=(e=>e>=1e3&&e<=1013&&1004!==e&&1005!==e&&1006!==e||e>=3e3&&e<=4999)},function(e,t,n){"use strict";const r=n(42),i=n(43),o=n(53),s=n(109),a=n(29);class c{constructor(e,t){this._extensions=t||{},this._socket=e,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._deflating=!1,this._queue=[]}static frame(e,t){const n=e.length<1024||t.mask&&t.readOnly;var i=t.mask?6:2,s=e.length;e.length>=65536?(i+=8,s=127):e.length>125&&(i+=2,s=126);const a=Buffer.allocUnsafe(n?e.length+i:i);if(a[0]=t.fin?128|t.opcode:t.opcode,t.rsv1&&(a[0]|=64),126===s?a.writeUInt16BE(e.length,2):127===s&&(a.writeUInt32BE(0,2),a.writeUInt32BE(e.length,6)),!t.mask)return a[1]=s,n?(e.copy(a,i),[a]):[a,e];const c=r.randomBytes(4);return a[1]=128|s,a[i-4]=c[0],a[i-3]=c[1],a[i-2]=c[2],a[i-1]=c[3],n?(o.mask(e,c,a,i,e.length),[a]):(o.mask(e,c,e,0,e.length),[a,e])}close(e,t,n,r){var i;if(void 0===e)i=a.EMPTY_BUFFER;else{if("number"!=typeof e||!s.isValidStatusCode(e))throw new TypeError("First argument must be a valid error code number");void 0===t||""===t?(i=Buffer.allocUnsafe(2)).writeUInt16BE(e,0):((i=Buffer.allocUnsafe(2+Buffer.byteLength(t))).writeUInt16BE(e,0),i.write(t,2))}this._deflating?this.enqueue([this.doClose,i,n,r]):this.doClose(i,n,r)}doClose(e,t,n){this.sendFrame(c.frame(e,{fin:!0,rsv1:!1,opcode:8,mask:t,readOnly:!1}),n)}ping(e,t,n){var r=!0;Buffer.isBuffer(e)||(e instanceof ArrayBuffer?e=Buffer.from(e):ArrayBuffer.isView(e)?e=u(e):(e=Buffer.from(e),r=!1)),this._deflating?this.enqueue([this.doPing,e,t,r,n]):this.doPing(e,t,r,n)}doPing(e,t,n,r){this.sendFrame(c.frame(e,{fin:!0,rsv1:!1,opcode:9,mask:t,readOnly:n}),r)}pong(e,t,n){var r=!0;Buffer.isBuffer(e)||(e instanceof ArrayBuffer?e=Buffer.from(e):ArrayBuffer.isView(e)?e=u(e):(e=Buffer.from(e),r=!1)),this._deflating?this.enqueue([this.doPong,e,t,r,n]):this.doPong(e,t,r,n)}doPong(e,t,n,r){this.sendFrame(c.frame(e,{fin:!0,rsv1:!1,opcode:10,mask:t,readOnly:n}),r)}send(e,t,n){var r=t.binary?2:1,o=t.compress,s=!0;Buffer.isBuffer(e)||(e instanceof ArrayBuffer?e=Buffer.from(e):ArrayBuffer.isView(e)?e=u(e):(e=Buffer.from(e),s=!1));const a=this._extensions[i.extensionName];if(this._firstFragment?(this._firstFragment=!1,o&&a&&(o=e.length>=a._threshold),this._compress=o):(o=!1,r=0),t.fin&&(this._firstFragment=!0),a){const i={fin:t.fin,rsv1:o,opcode:r,mask:t.mask,readOnly:s};this._deflating?this.enqueue([this.dispatch,e,this._compress,i,n]):this.dispatch(e,this._compress,i,n)}else this.sendFrame(c.frame(e,{fin:t.fin,rsv1:!1,opcode:r,mask:t.mask,readOnly:s}),n)}dispatch(e,t,n,r){if(!t)return void this.sendFrame(c.frame(e,n),r);const o=this._extensions[i.extensionName];this._deflating=!0,o.compress(e,n.fin,(e,t)=>{n.readOnly=!1,this.sendFrame(c.frame(t,n),r),this._deflating=!1,this.dequeue()})}dequeue(){for(;!this._deflating&&this._queue.length;){const e=this._queue.shift();this._bufferedBytes-=e[1].length,e[0].apply(this,e.slice(1))}}enqueue(e){this._bufferedBytes+=e[1].length,this._queue.push(e)}sendFrame(e,t){2===e.length?(this._socket.write(e[0]),this._socket.write(e[1],t)):this._socket.write(e[0],t)}}function u(e){const t=Buffer.from(e.buffer);return e.byteLength!==e.buffer.byteLength?t.slice(e.byteOffset,e.byteOffset+e.byteLength):t}e.exports=c},function(e){e.exports=[["a140","",62],["a180","",32],["a240","",62],["a280","",32],["a2ab","",5],["a2e3",""],["a2ef",""],["a2fd",""],["a340","",62],["a380","",31,""],["a440","",62],["a480","",32],["a4f4","",10],["a540","",62],["a580","",32],["a5f7","",7],["a640","",62],["a680","",32],["a6b9","",7],["a6d9","",6],["a6ec",""],["a6f3",""],["a6f6","",8],["a740","",62],["a780","",32],["a7c2","",14],["a7f2","",12],["a896","",10],["a8bc",""],["a8bf",""],["a8c1",""],["a8ea","",20],["a958",""],["a95b",""],["a95d",""],["a989","",11],["a997","",12],["a9f0","",14],["aaa1","",93],["aba1","",93],["aca1","",93],["ada1","",93],["aea1","",93],["afa1","",93],["d7fa","",4],["f8a1","",93],["f9a1","",93],["faa1","",93],["fba1","",93],["fca1","",93],["fda1","",93],["fe50",""],["fe80","",6,"",93]]},function(e){e.exports=[["0","\0",127],["a140",""],["a1a1","",4,""],["a240","",7,""],["a2a1","",9,"",9,"",8,"",25,"",21],["a340","",16,"",6,"",16,"",6,"",10],["a3a1","",25,""],["a3e1",""],["a440",""],["a4a1",""],["a540",""],["a5a1",""],["a640",""],["a6a1",""],["a740",""],["a7a1",""],["a840",""],["a8a1",""],["a940",""],["a9a1",""],["aa40",""],["aaa1",""],["ab40",""],["aba1",""],["ac40",""],["aca1",""],["ad40",""],["ada1",""],["ae40",""],["aea1",""],["af40",""],["afa1",""],["b040",""],["b0a1",""],["b140",""],["b1a1",""],["b240",""],["b2a1",""],["b340",""],["b3a1",""],["b440",""],["b4a1",""],["b540",""],["b5a1",""],["b640",""],["b6a1",""],["b740",""],["b7a1",""],["b840",""],["b8a1",""],["b940",""],["b9a1",""],["ba40",""],["baa1",""],["bb40",""],["bba1",""],["bc40",""],["bca1",""],["bd40",""],["bda1",""],["be40",""],["bea1",""],["bf40",""],["bfa1",""],["c040",""],["c0a1",""],["c140",""],["c1a1",""],["c240",""],["c2a1",""],["c340",""],["c3a1",""],["c440",""],["c4a1",""],["c540",""],["c5a1",""],["c640",""],["c940",""],["c9a1",""],["ca40",""],["caa1",""],["cb40",""],["cba1",""],["cc40",""],["cca1",""],["cd40",""],["cda1",""],["ce40",""],["cea1",""],["cf40",""],["cfa1",""],["d040",""],["d0a1",""],["d140",""],["d1a1",""],["d240",""],["d2a1",""],["d340",""],["d3a1",""],["d440",""],["d4a1",""],["d540",""],["d5a1",""],["d640",""],["d6a1",""],["d740",""],["d7a1",""],["d840",""],["d8a1",""],["d940",""],["d9a1",""],["da40",""],["daa1",""],["db40",""],["dba1",""],["dc40",""],["dca1",""],["dd40",""],["dda1",""],["de40",""],["dea1",""],["df40",""],["dfa1",""],["e040",""],["e0a1",""],["e140",""],["e1a1",""],["e240",""],["e2a1",""],["e340",""],["e3a1",""],["e440",""],["e4a1",""],["e540",""],["e5a1",""],["e640",""],["e6a1",""],["e740",""],["e7a1",""],["e840",""],["e8a1",""],["e940",""],["e9a1",""],["ea40",""],["eaa1",""],["eb40",""],["eba1",""],["ec40",""],["eca1",""],["ed40",""],["eda1",""],["ee40",""],["eea1",""],["ef40",""],["efa1",""],["f040",""],["f0a1",""],["f140",""],["f1a1",""],["f240",""],["f2a1",""],["f340",""],["f3a1",""],["f440",""],["f4a1",""],["f540",""],["f5a1",""],["f640",""],["f6a1",""],["f740",""],["f7a1",""],["f840",""],["f8a1",""],["f940",""],["f9a1",""]]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1);function i(e){let t=e.search(/(?!\\)%/);return-1!==t?(t++,e.slice(0,t)):e}function o(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}function s(e,t){const n=[];let r=t.exec(e);for(;r;)n.push(r),r=t.exec(e);return n}t.escapeRegExp=o;t.EnvPair=class{constructor(e){this.beginLength="\\begin".length,this.endLength="\\end".length,this.extension=e}getEnvName(e,t,n){const r=e.slice(t),i=new RegExp("^"+n+"\\{([^\\{\\}]*)\\}"),o=r.match(i);return o&&2===o.length?o[1]:null}tokenizeLine(e,t){const n=i(e.lineAt(t).text),o=t.character;if(o>n.length)return null;const s=n.slice(0,o+1).lastIndexOf("\\"),a=new r.Position(t.line,s);if(s+this.beginLength>=o&&"\\begin"===n.slice(s,s+this.beginLength)){const e=this.getEnvName(n,s,"\\\\begin");if(e)return{pos:a,type:"begin",name:e}}else if(s+this.endLength>=o&&"\\end"===n.slice(s,s+this.endLength)){const e=this.getEnvName(n,s,"\\\\end");if(e)return{pos:a,type:"end",name:e}}return null}locateMatchingPair(e,t,n,o){const a=new RegExp(e,"g");let c=n.line,u=0,l=o.lineAt(c).text;for(1===t?l=l.slice(l.indexOf("}",n.character)+1):-1===t&&(l=l.slice(0,n.character));;){let e=s(l=i(l),a);-1===t&&(e=e.reverse());for(const n of e)if(("begin"===n[1]&&1===t||"end"===n[1]&&-1===t)&&(u+=1),"end"===n[1]&&1===t||"begin"===n[1]&&-1===t){if(0===u){const e=new r.Position(c,n.index+1);return{name:n[2],type:n[1],pos:e}}u-=1}if((c+=t)<0||c>=o.lineCount)break;l=o.lineAt(c).text}return null}gotoPair(){const e=r.window.activeTextEditor;if(!e||"latex"!==e.document.languageId)return;const t=e.selection.active,n=e.document,i=this.tokenizeLine(n,t);if(!i)return;const s=i.pos,a="\\\\(begin|end)\\{"+o(i.name)+"\\}",c="begin"===i.type?1:-1,u=this.locateMatchingPair(a,c,s,n);if(u){const t=u.pos;e.selection=new r.Selection(t,t),e.revealRange(new r.Range(t,t))}}selectEnvName(e){const t=r.window.activeTextEditor;if(!t||"latex"!==t.document.languageId)return;const n=t.selection.active,i=t.document,o="\\\\(begin|end)\\{([^\\{\\}]*)\\}",s=this.locateMatchingPair(o,-1,n,i);if(!s)return;const a=this.locateMatchingPair(o,1,s.pos,i);if(!a)return;const c=s.pos.translate(0,"begin{".length),u=a.pos.translate(0,"end{".length);switch(e){case"cursor":t.selections=[new r.Selection(c,c),new r.Selection(u,u)];break;case"selection":const n=s.name.length,i=c.translate(0,n),o=u.translate(0,n);t.selections=[new r.Selection(c,i),new r.Selection(u,o)];break;default:this.extension.logger.addLogMessage("Error - while selecting environment name")}}closeEnv(){const e=r.window.activeTextEditor;if(!e||"latex"!==e.document.languageId)return;const t=e.document,n=e.selection.active,i=this.locateMatchingPair("\\\\(begin|end)\\{([^\\{\\}]*)\\}",-1,n,t);if(i){const t="\\end{"+i.name+"}";return e.edit(e=>{e.insert(n,t)})}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1);t.tokenizer=function(e,t){const n=e.getText(new r.Range(new r.Position(t.line,0),t)).match(/[\\{,\s](?=[^\\{,\s]*$)/),i=e.getText(new r.Range(t,new r.Position(t.line,65535))).match(/[{}\[\],\s]/);if(null===n||null===i||void 0===n.index||void 0===i.index||n.index<0||i.index<0)return;const o="\\"===n[0]?n.index:n.index+1;return e.getText(new r.Range(new r.Position(t.line,o),new r.Position(t.line,t.character+i.index)))},t.onAPackage=function(e,t,n){const r=e.lineAt(t.line).text,i=new RegExp(`\\\\usepackage(?:\\[[^\\[\\]\\{\\}]*\\])?\\{[\\w,]*${n}[\\w,]*\\}`);return!!r.match(i)}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,a)}c((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(1),o=n(0),s=n(2),a=n(116),c=n(141),u=n(142),l=n(143),h=n(264),f=n(267),p=n(268),d=n(277),g=n(299),m=n(300),y=n(301),b=n(302),v=n(303),w=n(113),x=n(304),k=n(311),_=n(312),S=n(316),E=n(317),C=n(61),T=n(318),O=n(319),A=n(320);function j(e,t){const n=i.workspace.getConfiguration("latex-workshop");if(!n.has(e))return;const r=n.inspect(e);r&&void 0!==r.globalValue&&(n.update(t,r.globalValue,!0),n.update(e,void 0,!0)),r&&void 0!==r.workspaceValue&&(n.update(t,r.workspaceValue,!1),n.update(e,void 0,!1))}function P(){j("maxPrintLine.option.enabled","latex.option.maxPrintLine.enabled"),j("chktex.interval","chktex.delay"),j("latex.outputDir","latex.outDir")}t.activate=function(e){return r(this,void 0,void 0,function*(){const t=new L;global.latex=t,i.commands.executeCommand("setContext","latex-workshop:enabled",!0);let n=i.workspace.getConfiguration("latex-workshop");n.get("bind.altKeymap.enabled")?i.commands.executeCommand("setContext","latex-workshop:altkeymap",!0):i.commands.executeCommand("setContext","latex-workshop:altkeymap",!1),i.commands.registerCommand("latex-workshop.build",()=>t.commander.build()),i.commands.registerCommand("latex-workshop.recipes",e=>t.commander.recipes(e)),i.commands.registerCommand("latex-workshop.view",e=>t.commander.view(e)),i.commands.registerCommand("latex-workshop.refresh-viewer",()=>t.commander.refresh()),i.commands.registerCommand("latex-workshop.tab",()=>t.commander.tab()),i.commands.registerCommand("latex-workshop.kill",()=>t.commander.kill()),i.commands.registerCommand("latex-workshop.synctex",()=>t.commander.synctex()),i.commands.registerCommand("latex-workshop.texdoc",e=>t.commander.texdoc(e)),i.commands.registerCommand("latex-workshop.synctexto",(e,n)=>t.commander.synctexonref(e,n)),i.commands.registerCommand("latex-workshop.clean",()=>t.commander.clean()),i.commands.registerCommand("latex-workshop.actions",()=>t.commander.actions()),i.commands.registerCommand("latex-workshop.citation",()=>t.commander.citation()),i.commands.registerCommand("latex-workshop.addtexroot",()=>t.commander.addTexRoot()),i.commands.registerCommand("latex-workshop.wordcount",()=>t.commander.wordcount()),i.commands.registerCommand("latex-workshop.log",e=>t.commander.log(e)),i.commands.registerCommand("latex-workshop.code-action",(e,n,r,i)=>t.codeActions.runCodeAction(e,n,r,i)),i.commands.registerCommand("latex-workshop.goto-section",(e,n)=>t.commander.gotoSection(e,n)),i.commands.registerCommand("latex-workshop.navigate-envpair",()=>t.commander.navigateToEnvPair()),i.commands.registerCommand("latex-workshop.select-envname",()=>t.commander.selectEnvName()),i.commands.registerCommand("latex-workshop.multicursor-envname",()=>t.commander.multiCursorEnvName()),i.commands.registerCommand("latex-workshop.close-env",()=>t.commander.closeEnv()),i.commands.registerCommand("latex-workshop.wrap-env",()=>t.commander.insertSnippet("wrapEnv")),i.commands.registerCommand("latex-workshop.onEnterKey",()=>t.commander.onEnterKey()),i.commands.registerCommand("latex-workshop.onAltEnterKey",()=>t.commander.onEnterKey("alt")),i.commands.registerCommand("latex-workshop.revealOutputDir",()=>t.commander.revealOutputDir()),i.commands.registerCommand("latex-workshop-dev.parselog",()=>t.commander.devParseLog()),i.commands.registerCommand("latex-workshop.shortcut.item",()=>t.commander.insertSnippet("item")),i.commands.registerCommand("latex-workshop.shortcut.emph",()=>t.commander.toggleSelectedKeyword("emph")),i.commands.registerCommand("latex-workshop.shortcut.textbf",()=>t.commander.toggleSelectedKeyword("textbf")),i.commands.registerCommand("latex-workshop.shortcut.textit",()=>t.commander.toggleSelectedKeyword("textit")),i.commands.registerCommand("latex-workshop.shortcut.underline",()=>t.commander.toggleSelectedKeyword("underline")),i.commands.registerCommand("latex-workshop.shortcut.textrm",()=>t.commander.toggleSelectedKeyword("textrm")),i.commands.registerCommand("latex-workshop.shortcut.texttt",()=>t.commander.toggleSelectedKeyword("texttt")),i.commands.registerCommand("latex-workshop.shortcut.textsl",()=>t.commander.toggleSelectedKeyword("textsl")),i.commands.registerCommand("latex-workshop.shortcut.textsc",()=>t.commander.toggleSelectedKeyword("textsc")),i.commands.registerCommand("latex-workshop.shortcut.textnormal",()=>t.commander.toggleSelectedKeyword("textnormal")),i.commands.registerCommand("latex-workshop.shortcut.textsuperscript",()=>t.commander.toggleSelectedKeyword("textsuperscript")),i.commands.registerCommand("latex-workshop.shortcut.textsubscript",()=>t.commander.toggleSelectedKeyword("textsubscript")),i.commands.registerCommand("latex-workshop.shortcut.mathbf",()=>t.commander.toggleSelectedKeyword("mathbf")),i.commands.registerCommand("latex-workshop.shortcut.mathit",()=>t.commander.toggleSelectedKeyword("mathit")),i.commands.registerCommand("latex-workshop.shortcut.mathrm",()=>t.commander.toggleSelectedKeyword("mathrm")),i.commands.registerCommand("latex-workshop.shortcut.mathtt",()=>t.commander.toggleSelectedKeyword("mathtt")),i.commands.registerCommand("latex-workshop.shortcut.mathsf",()=>t.commander.toggleSelectedKeyword("mathsf")),i.commands.registerCommand("latex-workshop.shortcut.mathbb",()=>t.commander.toggleSelectedKeyword("mathbb")),i.commands.registerCommand("latex-workshop.shortcut.mathcal",()=>t.commander.toggleSelectedKeyword("mathcal")),i.commands.registerCommand("latex-workshop.surround",()=>t.completer.command.surround()),e.subscriptions.push(i.workspace.onDidSaveTextDocument(e=>{t.manager.hasTexId(e.languageId)&&(t.linter.lintRootFileIfEnabled(),t.structureProvider.refresh(),t.structureProvider.update(),(n=i.workspace.getConfiguration("latex-workshop")).get("latex.autoBuild.onSave.enabled")&&!t.builder.disableBuildAfterSave&&(t.logger.addLogMessage(`Auto-build ${e.fileName} upon save.`),t.commander.build(!0)))})),e.subscriptions.push(i.window.onDidChangeTextEditorSelection(e=>{const n=i.window.activeTextEditor;if(n&&e.kind){const r=n.document.getText(new i.Range(e.selections[0].start,e.selections[0].end));(r.length>0||t.completer.command.shouldClearSelection)&&(t.completer.command.selection=r),t.completer.command.shouldClearSelection=0===r.length}})),e.subscriptions.push(i.workspace.onDidOpenTextDocument(e=>{t.manager.hasTexId(e.languageId)&&(P(),t.manager.findRoot(),t.structureProvider.refresh(),t.structureProvider.update()),"pdf"===e.languageId&&"latex-workshop-pdf"!==e.uri.scheme&&i.commands.executeCommand("workbench.action.closeActiveEditor").then(()=>{t.commander.pdf(e.uri)})})),e.subscriptions.push(i.workspace.onDidChangeTextDocument(e=>{t.manager.hasTexId(e.document.languageId)&&t.linter.lintActiveFileIfEnabledAfterInterval()}));let r=!1;e.subscriptions.push(i.window.onDidChangeActiveTextEditor(e=>{if(n=i.workspace.getConfiguration("latex-workshop"),i.window.visibleTextEditors.filter(e=>t.manager.hasTexId(e.document.languageId)).length>0?(t.logger.status.show(),i.commands.executeCommand("setContext","latex-workshop:enabled",!0).then(()=>{const e=i.window.visibleTextEditors.filter(e=>"git"===e.document.uri.scheme);n.get("view.autoActivateLatex.enabled")&&!r&&0===e.length?i.commands.executeCommand("workbench.view.extension.latex").then(()=>i.commands.executeCommand("workbench.action.focusActiveEditorGroup")):e.length>0&&i.commands.executeCommand("workbench.view.scm").then(()=>i.commands.executeCommand("workbench.action.focusActiveEditorGroup")),r=!0})):i.window.activeTextEditor&&"log"===i.window.activeTextEditor.document.languageId.toLowerCase()?(t.logger.status.show(),i.commands.executeCommand("setContext","latex-workshop:enabled",!0)):n.get("view.autoActivateLatex.enabled")||(t.logger.status.hide(),i.commands.executeCommand("setContext","latex-workshop:enabled",!1)),e&&t.manager.hasTexId(e.document.languageId)){if(t.manager.fileWatcher&&t.manager.filesWatched.indexOf(e.document.fileName)<0){const e=t.manager.rootFile;t.manager.findRoot().then(n=>{void 0!==n&&n!==e&&(t.structureProvider.refresh(),t.structureProvider.update())})}t.linter.lintActiveFileIfEnabled()}else r=!1})),e.subscriptions.push(i.workspace.createFileSystemWatcher("**/*.tex",!0,!1,!0).onDidChange(e=>{if(i.window.activeTextEditor&&i.window.activeTextEditor.document.fileName===e.fsPath)return;if(!(n=i.workspace.getConfiguration("latex-workshop")).get("latex.autoBuild.onTexChange.enabled")||t.builder.disableBuildAfterSave)return;t.logger.addLogMessage(`${e.fsPath} changed. Auto build project.`);const r=t.manager.findRoot();void 0!==r?(t.logger.addLogMessage(`Building root file: ${r}`),t.builder.build(t.manager.rootFile)):t.logger.addLogMessage("Cannot find LaTeX root file.")})),t.manager.findRoot();const a=new O.LatexFormatterProvider(t);var u,l,h;i.languages.registerDocumentFormattingEditProvider({scheme:"file",language:"latex"},a),i.languages.registerDocumentFormattingEditProvider({scheme:"file",language:"bibtex"},a),i.languages.registerDocumentRangeFormattingEditProvider({scheme:"file",language:"latex"},a),i.languages.registerDocumentRangeFormattingEditProvider({scheme:"file",language:"bibtex"},a),e.subscriptions.push(i.window.registerTreeDataProvider("latex-commands",new c.LaTeXCommander(t))),e.subscriptions.push(i.window.registerTreeDataProvider("latex-structure",t.structureProvider)),e.subscriptions.push(i.languages.registerHoverProvider({scheme:"file",language:"latex"},new _.HoverProvider(t))),e.subscriptions.push(i.languages.registerDefinitionProvider({scheme:"file",language:"latex"},new T.DefinitionProvider(t))),e.subscriptions.push(i.languages.registerDocumentSymbolProvider({scheme:"file",language:"latex"},new S.DocSymbolProvider(t))),e.subscriptions.push(i.languages.registerWorkspaceSymbolProvider(new E.ProjectSymbolProvider(t))),e.subscriptions.push(i.languages.registerCompletionItemProvider({scheme:"file",language:"tex"},t.completer,"\\","{")),e.subscriptions.push(i.languages.registerCompletionItemProvider({scheme:"file",language:"latex"},t.completer,"\\","{",",","(","[")),e.subscriptions.push(i.languages.registerCompletionItemProvider({scheme:"file",language:"doctex"},t.completer,"\\","{",",","(","[")),e.subscriptions.push(i.languages.registerCodeActionsProvider({scheme:"file",language:"latex"},t.codeActions)),e.subscriptions.push(i.languages.registerFoldingRangeProvider({scheme:"file",language:"latex"},new A.FoldingProvider(t))),t.linter.lintRootFileIfEnabled(),P(),u="tomoki1207.pdf",l="vscode-pdf",h="Please consider disabling either extension.",void 0!==i.extensions.getExtension(u)&&i.window.showWarningMessage(`LaTeX Workshop is incompatible with extension "${l}". ${h}`),function(e){const t=i.workspace.getConfiguration("latex-workshop");if(t.get("latex.additionalBib").length>0){const t='"latex-workshop.latex.additionalBib" has been deprecated in favor of "latex-workshop.latex.bibDirs". See https://github.com/James-Yu/LaTeX-Workshop/wiki/Intellisense#Citations.',n="`latex-workshop.latex.additionalBibs` has been deprecated in favor of  `latex-workshop.latex.bibDirs`. See the [wiki](https://github.com/James-Yu/LaTeX-Workshop/wiki/Intellisense#Citations.)";e.logger.addLogMessage(t),e.logger.displayStatus("check","statusBar.foreground",n,"warning")}if(t.get("intellisense.surroundCommand.enabled")){const t='Using "\\" to surround selected text with a LaTeX command is deprecated, use ctrl+l,ctrl+w instead. See https://github.com/James-Yu/LaTeX-Workshop/wiki/Snippets#with-a-command.',n="Using `\\` to surround selected text with a LaTeX command is deprecated, use `ctrl+l`,`ctrl+w` instead. See the [wiki](https://github.com/James-Yu/LaTeX-Workshop/wiki/Snippets#with-a-command).";e.logger.addLogMessage(t),e.logger.displayStatus("check","statusBar.foreground",n,"warning")}}(t),function(e,t){s.readFile(`${e}${o.sep}package.json`,(n,r)=>{if(n)return void t.logger.addLogMessage("Cannot read package information.");if(t.packageInfo=JSON.parse(r.toString()),t.logger.addLogMessage(`LaTeX Workshop version: ${t.packageInfo.version}`),s.existsSync(`${e}${o.sep}VERSION`)&&s.readFileSync(`${e}${o.sep}VERSION`).toString()===t.packageInfo.version)return;s.writeFileSync(`${e}${o.sep}VERSION`,t.packageInfo.version);const a=i.workspace.getConfiguration("latex-workshop");a.get("message.update.show")&&i.window.showInformationMessage(`LaTeX Workshop updated to version ${t.packageInfo.version}.`,"Change log","Star the project","Disable this message").then(e=>{switch(e){case"Change log":i.commands.executeCommand("vscode.open",i.Uri.parse("https://github.com/James-Yu/LaTeX-Workshop/blob/master/CHANGELOG.md"));break;case"Star the project":i.commands.executeCommand("vscode.open",i.Uri.parse("https://github.com/James-Yu/LaTeX-Workshop"));break;case"Disable this message":a.update("message.update.show",!1,!0)}})})}(e.extensionPath,t),i.window.visibleTextEditors.forEach(e=>{const n=e.document;"pdf"===n.languageId&&"latex-workshop-pdf"!==n.uri.scheme&&i.commands.executeCommand("workbench.action.closeActiveEditor").then(()=>{t.commander.pdf(n.uri)})})})};class L{constructor(){this.extensionRoot=o.resolve(`${__dirname}/../../`),this.logger=new u.Logger(this),this.commander=new a.Commander(this),this.manager=new l.Manager(this),this.builder=new h.Builder(this),this.viewer=new f.Viewer(this),this.server=new p.Server(this),this.locator=new d.Locator(this),this.parser=new g.Parser(this),this.completer=new x.Completer(this),this.linter=new m.Linter(this),this.cleaner=new y.Cleaner(this),this.counter=new b.Counter(this),this.codeActions=new k.CodeActions(this),this.texMagician=new v.TeXMagician(this),this.envPair=new w.EnvPair(this),this.structureProvider=new C.SectionNodeProvider(this),this.logger.addLogMessage("LaTeX Workshop initialized.")}}t.Extension=L},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,a)}c((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(1),o=n(9),s=n(0),a=n(12),c=n(61);t.Commander=class{constructor(e){let t;this.snippets={},this.extension=e,o.readFile(`${this.extension.extensionRoot}/snippets/latex.json`).then(e=>{t=e.toString()}).then(()=>{const e=JSON.parse(t);Object.keys(e).forEach(t=>{this.snippets[t]=new i.SnippetString(e[t].body)}),this.extension.logger.addLogMessage("Snippet data loaded.")}).catch(e=>this.extension.logger.addLogMessage(`Error reading data: ${e}.`))}build(e=!1,t){return r(this,void 0,void 0,function*(){if(this.extension.logger.addLogMessage("BUILD command invoked."),!i.window.activeTextEditor||!this.extension.manager.hasTexId(i.window.activeTextEditor.document.languageId))return;const n=yield this.extension.manager.findRoot();if(void 0!==n)if(e)this.extension.logger.addLogMessage(`Building root file: ${n}`),this.extension.builder.build(n,t);else{const e=this.extension.manager.findSubFiles();e?i.window.showQuickPick([{label:"Default root file",description:`Path: ${n}`},{label:"Subfiles package root file",description:`Path: ${e}`}],{placeHolder:"Subfiles package detected. Which file to build?",matchOnDescription:!0}).then(r=>{if(r)switch(r.label){case"Default root file":this.extension.logger.addLogMessage(`Building root file: ${n}`),this.extension.builder.build(n,t);break;case"Subfiles package root file":this.extension.logger.addLogMessage(`Building root file: ${e}`),this.extension.builder.build(e,t)}}):(this.extension.logger.addLogMessage(`Building root file: ${n}`),this.extension.builder.build(n,t))}else this.extension.logger.addLogMessage("Cannot find LaTeX root file.")})}revealOutputDir(){return r(this,void 0,void 0,function*(){let e=this.extension.manager.getOutputDir(this.extension.manager.rootFile);s.isAbsolute(e)||(e=s.resolve(this.extension.manager.rootDir,this.extension.manager.getOutputDir(this.extension.manager.rootFile))),this.extension.logger.addLogMessage(`Reveal ${i.Uri.file(e)}`),yield i.commands.executeCommand("revealFileInOS",i.Uri.file(e))})}recipes(e){this.extension.logger.addLogMessage("RECIPES command invoked.");const t=i.workspace.getConfiguration("latex-workshop").get("latex.recipes");t&&(e?this.build(!1,e):i.window.showQuickPick(t.map(e=>e.name),{placeHolder:"Please Select a LaTeX Recipe"}).then(e=>{e&&this.build(!1,e)}))}view(e){return r(this,void 0,void 0,function*(){if(this.extension.logger.addLogMessage("VIEW command invoked."),!i.window.activeTextEditor||!this.extension.manager.hasTexId(i.window.activeTextEditor.document.languageId))return;const t=yield this.extension.manager.findRoot();if(void 0===t)return void this.extension.logger.addLogMessage("Cannot find LaTeX root PDF to view.");const n=i.workspace.getConfiguration("latex-workshop");"browser"!==e?"tab"!==e?"external"!==e?"set"!==e?("none"===n.get("view.pdf.viewer")?this.setViewer():Promise.resolve()).then(()=>{switch(n.get("view.pdf.viewer")){case"browser":this.extension.viewer.openBrowser(t);break;case"tab":default:this.extension.viewer.openTab(t);break;case"external":this.extension.viewer.openExternal(t)}}):this.setViewer():this.extension.viewer.openExternal(t):this.extension.viewer.openTab(t):this.extension.viewer.openBrowser(t)})}refresh(){this.extension.logger.addLogMessage("REFRESH command invoked."),this.extension.viewer.refreshExistingViewer()}kill(){this.extension.logger.addLogMessage("KILL command invoked."),this.extension.builder.kill()}browser(){return r(this,void 0,void 0,function*(){if(this.extension.logger.addLogMessage("BROWSER command invoked."),!i.window.activeTextEditor||!this.extension.manager.hasTexId(i.window.activeTextEditor.document.languageId))return;const e=yield this.extension.manager.findRoot();void 0!==e?this.extension.viewer.openBrowser(e):this.extension.logger.addLogMessage("Cannot find LaTeX root PDF to view.")})}tab(){return r(this,void 0,void 0,function*(){if(this.extension.logger.addLogMessage("TAB command invoked."),!i.window.activeTextEditor||!this.extension.manager.hasTexId(i.window.activeTextEditor.document.languageId))return;const e=yield this.extension.manager.findRoot();void 0!==e?this.extension.viewer.openTab(e):this.extension.logger.addLogMessage("Cannot find LaTeX root PDF to view.")})}pdf(e){this.extension.logger.addLogMessage("PDF command invoked."),void 0!==e&&e.fsPath.endsWith(".pdf")&&this.extension.viewer.openTab(e.fsPath,!1,!1)}synctex(){return r(this,void 0,void 0,function*(){this.extension.logger.addLogMessage("SYNCTEX command invoked."),yield this.extension.manager.findRoot(),i.window.activeTextEditor&&this.extension.manager.hasTexId(i.window.activeTextEditor.document.languageId)&&this.extension.locator.syncTeX()})}synctexonref(e,t){return r(this,void 0,void 0,function*(){this.extension.logger.addLogMessage("SYNCTEX command invoked."),yield this.extension.manager.findRoot(),i.window.activeTextEditor&&this.extension.manager.hasTexId(i.window.activeTextEditor.document.languageId)&&this.extension.locator.syncTeXOnRef({line:e,filePath:t})})}clean(){return r(this,void 0,void 0,function*(){return this.extension.logger.addLogMessage("CLEAN command invoked."),yield this.extension.manager.findRoot(),this.extension.cleaner.clean()})}addTexRoot(){this.extension.logger.addLogMessage("ADDTEXROOT command invoked."),i.window.activeTextEditor&&this.extension.manager.hasTexId(i.window.activeTextEditor.document.languageId)&&this.extension.texMagician.addTexRoot()}citation(){this.extension.logger.addLogMessage("CITATION command invoked."),this.extension.completer.citation.browser()}wordcount(){this.extension.logger.addLogMessage("WORDCOUNT command invoked."),i.window.activeTextEditor&&this.extension.manager.hasTexId(i.window.activeTextEditor.document.languageId)&&this.extension.manager.rootFile!==i.window.activeTextEditor.document.fileName?this.extension.counter.count(i.window.activeTextEditor.document.fileName,!1):this.extension.counter.count(this.extension.manager.rootFile)}log(e){this.extension.logger.addLogMessage("LOG command invoked."),e?this.extension.logger.showCompilerLog():this.extension.logger.showLog()}gotoSection(e,t){this.extension.logger.addLogMessage(`GOTOSECTION command invoked. Target ${e}, line ${t}`);const n=i.window.activeTextEditor;i.workspace.openTextDocument(e).then(e=>{i.window.showTextDocument(e).then(e=>{i.commands.executeCommand("revealLine",{lineNumber:t,at:"center"}),n&&(n.selection=new i.Selection(new i.Position(t,0),new i.Position(t,0)))})})}setViewer(){const e=i.workspace.getConfiguration("latex-workshop");return i.window.showQuickPick(["VSCode tab","Web browser","External viewer"],{placeHolder:"View PDF with"}).then(t=>{switch(t){case"Web browser":e.update("view.pdf.viewer","browser",!0),i.window.showInformationMessage('By default, PDF will be viewed with web browser. This setting can be changed at "latex-workshop.view.pdf.viewer".');break;case"VSCode tab":e.update("view.pdf.viewer","tab",!0),i.window.showInformationMessage('By default, PDF will be viewed with VSCode tab. This setting can be changed at "latex-workshop.view.pdf.viewer".');break;case"External viewer":e.update("view.pdf.viewer","external",!0),i.window.showInformationMessage('By default, PDF will be viewed with external viewer. This setting can be changed at "latex-workshop.view.pdf.viewer".')}})}navigateToEnvPair(){this.extension.logger.addLogMessage("JumpToEnvPair command invoked."),i.window.activeTextEditor&&this.extension.manager.hasTexId(i.window.activeTextEditor.document.languageId)&&this.extension.envPair.gotoPair()}selectEnvName(){this.extension.logger.addLogMessage("SelectEnvName command invoked."),i.window.activeTextEditor&&this.extension.manager.hasTexId(i.window.activeTextEditor.document.languageId)&&this.extension.envPair.selectEnvName("selection")}multiCursorEnvName(){this.extension.logger.addLogMessage("MutliCursorEnvName command invoked."),i.window.activeTextEditor&&this.extension.manager.hasTexId(i.window.activeTextEditor.document.languageId)&&this.extension.envPair.selectEnvName("cursor")}closeEnv(){this.extension.logger.addLogMessage("CloseEnv command invoked."),i.window.activeTextEditor&&this.extension.manager.hasTexId(i.window.activeTextEditor.document.languageId)&&this.extension.envPair.closeEnv()}actions(){this.extension.logger.addLogMessage("ACTIONS command invoked.");const e=i.workspace.getConfiguration("latex-workshop");if(!this.commandTitles){const e=this.extension.packageInfo.contributes.commands.filter(e=>e.command.indexOf("latex-workshop-dev")>-1?0:["latex-workshop.actions","latex-workshop.build","latex-workshop.recipes","latex-workshop.view","latex-workshop.compilerlog","latex-workshop.log","latex-workshop.tab"].indexOf(e.command)<0);this.commandTitles=e.map(e=>e.title),this.commands=e.map(e=>e.command)}i.window.showQuickPick(["Build LaTeX project","View LaTeX PDF","View log messages","Miscellaneous LaTeX functions","Create an issue on Github","Star the project"]).then(t=>{if(t)switch(t){case"Build LaTeX project":this.recipes();break;case"View LaTeX PDF":const n=[];"none"!==e.get("view.pdf.viewer")&&n.push("View in default viewer"),i.window.showQuickPick([...n,"Set default viewer","View in web browser","View in VS Code tab"]).then(e=>{switch(e){case"View in default viewer":this.view();break;case"Set default viewer":default:this.setViewer();break;case"View in web browser":this.browser();break;case"View in VS Code tab":this.tab()}});break;case"View log messages":i.window.showQuickPick(["View LaTeX compiler log messages","View LaTeX-Workshop extension messages","View LaTeX-Workshop extension change log"]).then(e=>{switch(e){case"View LaTeX compiler log messages":default:this.log(!0);break;case"View LaTeX-Workshop extension messages":this.log();break;case"View LaTeX-Workshop extension change log":i.commands.executeCommand("vscode.open",i.Uri.parse("https://github.com/James-Yu/LaTeX-Workshop/blob/master/CHANGELOG.md"))}});break;case"Miscellaneous LaTeX functions":i.window.showQuickPick(this.commandTitles).then(e=>{void 0!==e&&i.commands.executeCommand(this.commands[this.commandTitles.indexOf(e)])});break;case"Create an issue on Github":i.commands.executeCommand("vscode.open",i.Uri.parse("https://github.com/James-Yu/LaTeX-Workshop/issues/new"));break;case"Star the project":i.commands.executeCommand("vscode.open",i.Uri.parse("https://github.com/James-Yu/LaTeX-Workshop"));break;default:const r=this.commands[this.commandTitles.indexOf(t)];i.commands.executeCommand(r)}})}insertSnippet(e){const t=i.window.activeTextEditor;t&&e in this.snippets&&t.insertSnippet(this.snippets[e])}onEnterKey(e){const t=i.window.activeTextEditor;if(!t)return;if(!i.workspace.getConfiguration("latex-workshop").get("bind.enter.key"))return t.edit(()=>{i.commands.executeCommand("type",{source:"keyboard",text:"\n"})});if("alt"===e)return i.commands.executeCommand("editor.action.insertLineAfter");const n=t.selection.active,r=t.document.lineAt(n.line);if(r.text.substr(n.character).split(" ").length-1!=r.range.end.character-n.character)return t.edit(()=>{i.commands.executeCommand("type",{source:"keyboard",text:"\n"})});if(/^\s*\\item(\[\s*\])?\s*$/.exec(r.text)){const e=r.range.with(n.with(r.lineNumber,r.firstNonWhitespaceCharacterIndex),r.range.end);return t.edit(t=>{t.delete(e)})}const o=/^(\s*)\\item(\[[^\[\]]*\])?\s*(.*)$/.exec(r.text);if(o){let e,s="";return o[1]&&(s+=o[1]),o[2]?(s+="\\item[] ",e=n.with(r.lineNumber+1,s.length-2)):(s+="\\item ",e=n.with(r.lineNumber+1,s.length)),t.edit(e=>{e.insert(n,"\n"+s)}).then(()=>{t.selection=new i.Selection(e,e)}).then(()=>{t.revealRange(t.selection)})}return t.edit(()=>{i.commands.executeCommand("type",{source:"keyboard",text:"\n"})})}toggleSelectedKeyword(e,t){const n=i.window.activeTextEditor;if(void 0===n)return;const{selection:r,document:o}=n,s=o.getText(r),a=o.lineAt(r.anchor),u=new RegExp(`\\\\${e}{`,"g");let l=u.exec(a.text);for(;null!==l;){const e=a.range.start.translate(0,l.index),t=e.translate(0,l[0].length),s=o.getText(new i.Range(t,a.range.end)),h=c.getLongestBalancedString(s),f=new i.Range(e,t.translate(0,h.length+1));if(f.contains(r))return n.edit(e=>{e.replace(f,h)}),"removed";l=u.exec(a.text)}if(s.length>0)n.edit(n=>{!0===t?n.replace(r,`{\\${e} ${s}}`):n.replace(r,`\\${e}{${s}}`)});else{let o;o=!0===t?new i.SnippetString(`{\\${e} $1}`):new i.SnippetString(`\\${e}{$1}`),n.insertSnippet(o,r.start)}return"added"}devParseLog(){void 0!==i.window.activeTextEditor&&this.extension.parser.parse(i.window.activeTextEditor.document.getText())}texdoc(e){return r(this,void 0,void 0,function*(){const t=i.workspace.getConfiguration("latex-workshop").get("texdoc.path"),n=a.spawn(t,["--view",e]);let r="";n.stdout.on("data",e=>{r+=e});let o="";n.stderr.on("data",e=>{o+=e}),n.on("error",e=>{this.extension.logger.addLogMessage(`Cannot run texdoc: ${e.message}, ${o}`),this.extension.logger.showErrorMessage("Texdoc failed. Please refer to LaTeX Workshop Output for details.")}),n.on("exit",t=>{if(0!==t)this.extension.logger.addLogMessage(`Cannot find documentation for ${e}.`),this.extension.logger.showErrorMessage("Texdoc failed. Please refer to LaTeX Workshop Output for details.");else{const t=new RegExp(`(no documentation found)|(Documentation for ${e} could not be found)`);r.match(t)||o.match(t)?(this.extension.logger.addLogMessage(`Cannot find documentation for ${e}.`),this.extension.logger.showErrorMessage(`Cannot find documentation for ${e}.`)):this.extension.logger.addLogMessage(`Opening documentation for ${e}.`)}})})}}},function(e,t,n){"use strict";e.exports=function(){const e=[].slice.call(arguments).filter(e=>e),t=e.shift();return e.forEach(e=>{Object.keys(e).forEach(n=>{t[n]=e[n]})}),t}},function(e,t,n){var r=n(119),i=process.cwd,o=null,s=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return o||(o=i.call(process)),o};try{process.cwd()}catch(e){}var a=process.chdir;process.chdir=function(e){o=null,a.call(process,e)},e.exports=function(e){r.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&function(e){e.lchmod=function(t,n,i){e.open(t,r.O_WRONLY|r.O_SYMLINK,n,function(t,r){t?i&&i(t):e.fchmod(r,n,function(t){e.close(r,function(e){i&&i(t||e)})})})},e.lchmodSync=function(t,n){var i,o=e.openSync(t,r.O_WRONLY|r.O_SYMLINK,n),s=!0;try{i=e.fchmodSync(o,n),s=!1}finally{if(s)try{e.closeSync(o)}catch(e){}else e.closeSync(o)}return i}}(e);e.lutimes||function(e){r.hasOwnProperty("O_SYMLINK")?(e.lutimes=function(t,n,i,o){e.open(t,r.O_SYMLINK,function(t,r){t?o&&o(t):e.futimes(r,n,i,function(t){e.close(r,function(e){o&&o(t||e)})})})},e.lutimesSync=function(t,n,i){var o,s=e.openSync(t,r.O_SYMLINK),a=!0;try{o=e.futimesSync(s,n,i),a=!1}finally{if(a)try{e.closeSync(s)}catch(e){}else e.closeSync(s)}return o}):(e.lutimes=function(e,t,n,r){r&&process.nextTick(r)},e.lutimesSync=function(){})}(e);e.chown=o(e.chown),e.fchown=o(e.fchown),e.lchown=o(e.lchown),e.chmod=n(e.chmod),e.fchmod=n(e.fchmod),e.lchmod=n(e.lchmod),e.chownSync=a(e.chownSync),e.fchownSync=a(e.fchownSync),e.lchownSync=a(e.lchownSync),e.chmodSync=i(e.chmodSync),e.fchmodSync=i(e.fchmodSync),e.lchmodSync=i(e.lchmodSync),e.stat=c(e.stat),e.fstat=c(e.fstat),e.lstat=c(e.lstat),e.statSync=u(e.statSync),e.fstatSync=u(e.fstatSync),e.lstatSync=u(e.lstatSync),e.lchmod||(e.lchmod=function(e,t,n){n&&process.nextTick(n)},e.lchmodSync=function(){});e.lchown||(e.lchown=function(e,t,n,r){r&&process.nextTick(r)},e.lchownSync=function(){});"win32"===s&&(e.rename=(t=e.rename,function(n,r,i){var o=Date.now(),s=0;t(n,r,function a(c){if(c&&("EACCES"===c.code||"EPERM"===c.code)&&Date.now()-o<6e4)return setTimeout(function(){e.stat(r,function(e,o){e&&"ENOENT"===e.code?t(n,r,a):i(c)})},s),void(s<100&&(s+=10));i&&i(c)})}));var t;function n(t){return t?function(n,r,i){return t.call(e,n,r,function(e){l(e)&&(e=null),i&&i.apply(this,arguments)})}:t}function i(t){return t?function(n,r){try{return t.call(e,n,r)}catch(e){if(!l(e))throw e}}:t}function o(t){return t?function(n,r,i,o){return t.call(e,n,r,i,function(e){l(e)&&(e=null),o&&o.apply(this,arguments)})}:t}function a(t){return t?function(n,r,i){try{return t.call(e,n,r,i)}catch(e){if(!l(e))throw e}}:t}function c(t){return t?function(n,r){return t.call(e,n,function(e,t){if(!t)return r.apply(this,arguments);t.uid<0&&(t.uid+=4294967296),t.gid<0&&(t.gid+=4294967296),r&&r.apply(this,arguments)})}:t}function u(t){return t?function(n){var r=t.call(e,n);return r.uid<0&&(r.uid+=4294967296),r.gid<0&&(r.gid+=4294967296),r}:t}function l(e){if(!e)return!0;if("ENOSYS"===e.code)return!0;var t=!process.getuid||0!==process.getuid();return!(!t||"EINVAL"!==e.code&&"EPERM"!==e.code)}e.read=(f=e.read,function(t,n,r,i,o,s){var a;if(s&&"function"==typeof s){var c=0;a=function(u,l,h){if(u&&"EAGAIN"===u.code&&c<10)return c++,f.call(e,t,n,r,i,o,a);s.apply(this,arguments)}}return f.call(e,t,n,r,i,o,a)}),e.readSync=(h=e.readSync,function(t,n,r,i,o){for(var s=0;;)try{return h.call(e,t,n,r,i,o)}catch(e){if("EAGAIN"===e.code&&s<10){s++;continue}throw e}});var h;var f}},function(e,t){e.exports=require("constants")},function(e,t,n){var r=n(15).Stream;e.exports=function(e){return{ReadStream:function t(n,i){if(!(this instanceof t))return new t(n,i);r.call(this);var o=this;this.path=n;this.fd=null;this.readable=!0;this.paused=!1;this.flags="r";this.mode=438;this.bufferSize=65536;i=i||{};var s=Object.keys(i);for(var a=0,c=s.length;a<c;a++){var u=s[a];this[u]=i[u]}this.encoding&&this.setEncoding(this.encoding);if(void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(void 0===this.end)this.end=1/0;else if("number"!=typeof this.end)throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(null!==this.fd)return void process.nextTick(function(){o._read()});e.open(this.path,this.flags,this.mode,function(e,t){if(e)return o.emit("error",e),void(o.readable=!1);o.fd=t,o.emit("open",t),o._read()})},WriteStream:function t(n,i){if(!(this instanceof t))return new t(n,i);r.call(this);this.path=n;this.fd=null;this.writable=!0;this.flags="w";this.encoding="binary";this.mode=438;this.bytesWritten=0;i=i||{};var o=Object.keys(i);for(var s=0,a=o.length;s<a;s++){var c=o[s];this[c]=i[c]}if(void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1;this._queue=[];null===this.fd&&(this._open=e.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}}},function(e,t,n){"use strict";e.exports=function(e){if(null===e||"object"!=typeof e)return e;if(e instanceof Object)var t={__proto__:e.__proto__};else var t=Object.create(null);return Object.getOwnPropertyNames(e).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}),t}},function(e,t,n){const r=n(5).fromCallback;e.exports={copy:r(n(56))}},function(e,t,n){"use strict";const r=n(4),i=n(0),o=n(57).invalidWin32Path,s=parseInt("0777",8);e.exports=function e(t,n,a,c){if("function"==typeof n?(a=n,n={}):n&&"object"==typeof n||(n={mode:n}),"win32"===process.platform&&o(t)){const e=new Error(t+" contains invalid WIN32 path characters.");return e.code="EINVAL",a(e)}let u=n.mode;const l=n.fs||r;void 0===u&&(u=s&~process.umask()),c||(c=null),a=a||function(){},t=i.resolve(t),l.mkdir(t,u,r=>{if(!r)return a(null,c=c||t);switch(r.code){case"ENOENT":if(i.dirname(t)===t)return a(r);e(i.dirname(t),n,(r,i)=>{r?a(r,i):e(t,n,a,i)});break;default:l.stat(t,(e,t)=>{e||!t.isDirectory()?a(r,c):a(null,c)})}})}},function(e,t,n){"use strict";const r=n(4),i=n(0),o=n(57).invalidWin32Path,s=parseInt("0777",8);e.exports=function e(t,n,a){n&&"object"==typeof n||(n={mode:n});let c=n.mode;const u=n.fs||r;if("win32"===process.platform&&o(t)){const e=new Error(t+" contains invalid WIN32 path characters.");throw e.code="EINVAL",e}void 0===c&&(c=s&~process.umask()),a||(a=null),t=i.resolve(t);try{u.mkdirSync(t,c),a=a||t}catch(r){switch(r.code){case"ENOENT":if(i.dirname(t)===t)throw r;a=e(i.dirname(t),n,a),e(t,n,a);break;default:let o;try{o=u.statSync(t)}catch(e){throw r}if(!o.isDirectory())throw r}}return a}},function(e,t,n){"use strict";const r=n(4),i=n(0),o=n(7).mkdirsSync,s=n(58).utimesMillisSync,a=Symbol("notExist"),c=Symbol("existsReg");function u(e,t,n){if(!n.filter||n.filter(e,t))return function(e,t,n){const o=(n.dereference?r.statSync:r.lstatSync)(e);if(o.isDirectory())return function(e,t,n,i){const o=p(n);if(o===a){if(d(t,n))throw new Error(`Cannot copy '${t}' to a subdirectory of itself, '${n}'.`);return function(e,t,n,i){return r.mkdirSync(n,e.mode),r.chmodSync(n,e.mode),f(t,n,i)}(e,t,n,i)}if(o===c){if(d(t,n))throw new Error(`Cannot copy '${t}' to a subdirectory of itself, '${n}'.`);return function(e,t,n){if(!r.statSync(t).isDirectory())throw new Error(`Cannot overwrite non-directory '${t}' with directory '${e}'.`);return f(e,t,n)}(t,n,i)}if(t===o)return;return f(t,n,i)}(o,e,t,n);if(o.isFile()||o.isCharacterDevice()||o.isBlockDevice())return function(e,t,n,r){const i=p(n);if(i===a)return h(e,t,n,r);if(i===c)return l(e,t,n,r);if(t===i)return;return l(e,t,n,r)}(o,e,t,n);if(o.isSymbolicLink())return function(e,t,n){let o=r.readlinkSync(e);n.dereference&&(o=i.resolve(process.cwd(),o));let s=p(t);if(s===a||s===c)return r.symlinkSync(o,t);if(n.dereference&&(s=i.resolve(process.cwd(),s)),s===o)return;if(r.statSync(t).isDirectory()&&d(s,o))throw new Error(`Cannot overwrite '${s}' with '${o}'.`);return function(e,t){return r.unlinkSync(t),r.symlinkSync(e,t)}(o,t)}(e,t,n)}(e,t,n)}function l(e,t,n,i){if(i.overwrite)return r.unlinkSync(n),h(e,t,n,i);if(i.errorOnExist)throw new Error(`'${n}' already exists`)}function h(e,t,i,o){return"function"==typeof r.copyFileSync?(r.copyFileSync(t,i),r.chmodSync(i,e.mode),o.preserveTimestamps?s(i,e.atime,e.mtime):void 0):function(e,t,i,o){const s=n(60)(65536),a=r.openSync(t,"r"),c=r.openSync(i,"w",e.mode);let u=1,l=0;for(;u>0;)u=r.readSync(a,s,0,65536,l),r.writeSync(c,s,0,u),l+=u;o.preserveTimestamps&&r.futimesSync(c,e.atime,e.mtime);r.closeSync(a),r.closeSync(c)}(e,t,i,o)}function f(e,t,n){r.readdirSync(e).forEach(r=>{u(i.join(e,r),i.join(t,r),n)})}function p(e){let t;try{t=r.readlinkSync(e)}catch(e){if("ENOENT"===e.code)return a;if("EINVAL"===e.code||"UNKNOWN"===e.code)return c;throw e}return t}function d(e,t){const n=t.split(i.dirname(e)+i.sep)[1];if(n){const r=n.split(i.sep)[0];return!!r&&(e!==t&&t.indexOf(e)>-1&&r===i.basename(e))}return!1}e.exports=function(e,t,n){if("function"==typeof n&&(n={filter:n}),(n=n||{}).clobber=!("clobber"in n&&!n.clobber),n.overwrite="overwrite"in n?!!n.overwrite:n.clobber,n.preserveTimestamps&&"ia32"===process.arch&&console.warn("fs-extra: Using the preserveTimestamps option in 32-bit node is not recommended;\n\n    see https://github.com/jprichardson/node-fs-extra/issues/269"),(e=i.resolve(e))===(t=i.resolve(t)))throw new Error("Source and destination must not be the same.");if(n.filter&&!n.filter(e,t))return;const s=i.dirname(t);return r.existsSync(s)||o(s),u(e,t,n)}},function(e,t,n){"use strict";const r=n(4),i=n(0),o=n(30),s="win32"===process.platform;function a(e){["unlink","chmod","stat","lstat","rmdir","readdir"].forEach(t=>{e[t]=e[t]||r[t],e[t+="Sync"]=e[t]||r[t]}),e.maxBusyTries=e.maxBusyTries||3}function c(e,t,n){let r=0;"function"==typeof t&&(n=t,t={}),o(e,"rimraf: missing path"),o.equal(typeof e,"string","rimraf: path should be a string"),o.equal(typeof n,"function","rimraf: callback function required"),o(t,"rimraf: invalid options argument provided"),o.equal(typeof t,"object","rimraf: options should be object"),a(t),u(e,t,function i(o){if(o){if(("EBUSY"===o.code||"ENOTEMPTY"===o.code||"EPERM"===o.code)&&r<t.maxBusyTries){return r++,setTimeout(()=>u(e,t,i),100*r)}"ENOENT"===o.code&&(o=null)}n(o)})}function u(e,t,n){o(e),o(t),o("function"==typeof n),t.lstat(e,(r,i)=>r&&"ENOENT"===r.code?n(null):r&&"EPERM"===r.code&&s?l(e,t,r,n):i&&i.isDirectory()?f(e,t,r,n):void t.unlink(e,r=>{if(r){if("ENOENT"===r.code)return n(null);if("EPERM"===r.code)return s?l(e,t,r,n):f(e,t,r,n);if("EISDIR"===r.code)return f(e,t,r,n)}return n(r)}))}function l(e,t,n,r){o(e),o(t),o("function"==typeof r),n&&o(n instanceof Error),t.chmod(e,438,i=>{i?r("ENOENT"===i.code?null:n):t.stat(e,(i,o)=>{i?r("ENOENT"===i.code?null:n):o.isDirectory()?f(e,t,n,r):t.unlink(e,r)})})}function h(e,t,n){let r;o(e),o(t),n&&o(n instanceof Error);try{t.chmodSync(e,438)}catch(e){if("ENOENT"===e.code)return;throw n}try{r=t.statSync(e)}catch(e){if("ENOENT"===e.code)return;throw n}r.isDirectory()?d(e,t,n):t.unlinkSync(e)}function f(e,t,n,r){o(e),o(t),n&&o(n instanceof Error),o("function"==typeof r),t.rmdir(e,s=>{!s||"ENOTEMPTY"!==s.code&&"EEXIST"!==s.code&&"EPERM"!==s.code?s&&"ENOTDIR"===s.code?r(n):r(s):function(e,t,n){o(e),o(t),o("function"==typeof n),t.readdir(e,(r,o)=>{if(r)return n(r);let s,a=o.length;if(0===a)return t.rmdir(e,n);o.forEach(r=>{c(i.join(e,r),t,r=>{if(!s)return r?n(s=r):void(0==--a&&t.rmdir(e,n))})})})}(e,t,r)})}function p(e,t){let n;a(t=t||{}),o(e,"rimraf: missing path"),o.equal(typeof e,"string","rimraf: path should be a string"),o(t,"rimraf: missing options"),o.equal(typeof t,"object","rimraf: options should be object");try{n=t.lstatSync(e)}catch(n){if("ENOENT"===n.code)return;"EPERM"===n.code&&s&&h(e,t,n)}try{n&&n.isDirectory()?d(e,t,null):t.unlinkSync(e)}catch(n){if("ENOENT"===n.code)return;if("EPERM"===n.code)return s?h(e,t,n):d(e,t,n);if("EISDIR"!==n.code)throw n;d(e,t,n)}}function d(e,t,n){o(e),o(t),n&&o(n instanceof Error);try{t.rmdirSync(e)}catch(r){if("ENOTDIR"===r.code)throw n;if("ENOTEMPTY"===r.code||"EEXIST"===r.code||"EPERM"===r.code)!function(e,t){o(e),o(t),t.readdirSync(e).forEach(n=>p(i.join(e,n),t));const n=s?100:1;let r=0;for(;;){let i=!0;try{const o=t.rmdirSync(e,t);return i=!1,o}finally{if(++r<n&&i)continue}}}(e,t);else if("ENOENT"!==r.code)throw r}}e.exports=c,c.sync=p},function(e,t,n){"use strict";const r=n(5).fromCallback,i=n(44);i.outputJson=r(n(129)),i.outputJsonSync=n(130),i.outputJSON=i.outputJson,i.outputJSONSync=i.outputJsonSync,i.writeJSON=i.writeJson,i.writeJSONSync=i.writeJsonSync,i.readJSON=i.readJson,i.readJSONSync=i.readJsonSync,e.exports=i},function(e,t,n){var r;try{r=n(4)}catch(e){r=n(2)}function i(e,t){var n,r="\n";return"object"==typeof t&&null!==t&&(t.spaces&&(n=t.spaces),t.EOL&&(r=t.EOL)),JSON.stringify(e,t?t.replacer:null,n).replace(/\n/g,r)+r}function o(e){return Buffer.isBuffer(e)&&(e=e.toString("utf8")),e=e.replace(/^\uFEFF/,"")}var s={readFile:function(e,t,n){null==n&&(n=t,t={}),"string"==typeof t&&(t={encoding:t});var i=(t=t||{}).fs||r,s=!0;"throws"in t&&(s=t.throws),i.readFile(e,t,function(r,i){if(r)return n(r);var a;i=o(i);try{a=JSON.parse(i,t?t.reviver:null)}catch(t){return s?(t.message=e+": "+t.message,n(t)):n(null,null)}n(null,a)})},readFileSync:function(e,t){"string"==typeof(t=t||{})&&(t={encoding:t});var n=t.fs||r,i=!0;"throws"in t&&(i=t.throws);try{var s=n.readFileSync(e,t);return s=o(s),JSON.parse(s,t.reviver)}catch(t){if(i)throw t.message=e+": "+t.message,t;return null}},writeFile:function(e,t,n,o){null==o&&(o=n,n={});var s=(n=n||{}).fs||r,a="";try{a=i(t,n)}catch(e){return void(o&&o(e,null))}s.writeFile(e,a,n,o)},writeFileSync:function(e,t,n){var o=(n=n||{}).fs||r,s=i(t,n);return o.writeFileSync(e,s,n)}};e.exports=s},function(e,t,n){"use strict";const r=n(0),i=n(7),o=n(11).pathExists,s=n(44);e.exports=function(e,t,n,a){"function"==typeof n&&(a=n,n={});const c=r.dirname(e);o(c,(r,o)=>r?a(r):o?s.writeJson(e,t,n,a):void i.mkdirs(c,r=>{if(r)return a(r);s.writeJson(e,t,n,a)}))}},function(e,t,n){"use strict";const r=n(4),i=n(0),o=n(7),s=n(44);e.exports=function(e,t,n){const a=i.dirname(e);r.existsSync(a)||o.mkdirsSync(a),s.writeJsonSync(e,t,n)}},function(e,t,n){"use strict";const r=n(5).fromCallback,i=n(4),o=n(56),s=n(0),a=n(31).remove,c=n(7).mkdirs;function u(e,t,n,r){i.stat(e,(o,s)=>{if(o)return r(o);s.isDirectory()?l(e,t,n,r):function(e,t,n,r){const o=n?"w":"wx",s=i.createReadStream(e),a=i.createWriteStream(t,{flags:o});function c(){i.unlink(e,r)}s.on("error",o=>{s.destroy(),a.destroy(),a.removeListener("close",c),i.unlink(t,()=>{"EISDIR"===o.code||"EPERM"===o.code?l(e,t,n,r):r(o)})}),a.on("error",e=>{s.destroy(),a.destroy(),a.removeListener("close",c),r(e)}),a.once("close",c),s.pipe(a)}(e,t,n,r)})}function l(e,t,n,r){const i={overwrite:!1};function s(){o(e,t,i,t=>{if(t)return r(t);a(e,r)})}n?a(t,e=>{if(e)return r(e);s()}):s()}e.exports={move:r(function e(t,n,r,o){"function"==typeof r&&(o=r,r={});const l=r.overwrite||r.clobber||!1;!function(e,t,n){i.stat(e,(r,i)=>{if(r)return n(r);if(i.isDirectory()){const r=t.split(s.dirname(e)+s.sep)[1];if(r){const i=r.split(s.sep)[0];return n(null,!!i&&(e!==t&&t.indexOf(e)>-1&&i===s.basename(e)))}return n(null,!1)}return n(null,!1)})}(t,n,(h,f)=>h?o(h):f?o(new Error(`Cannot move '${t}' to a subdirectory of itself, '${n}'.`)):void c(s.dirname(n),c=>{if(c)return o(c);s.resolve(t)===s.resolve(n)?i.access(t,o):l?i.rename(t,n,i=>{if(!i)return o();if("ENOTEMPTY"!==i.code&&"EEXIST"!==i.code){if("EPERM"!==i.code)return"EXDEV"!==i.code?o(i):void u(t,n,l,o);setTimeout(()=>{a(n,i=>{if(i)return o(i);r.overwrite=!1,e(t,n,r,o)})},200)}else a(n,i=>{if(i)return o(i);r.overwrite=!1,e(t,n,r,o)})}):i.link(t,n,e=>e?"EXDEV"===e.code||"EISDIR"===e.code||"EPERM"===e.code||"ENOTSUP"===e.code?u(t,n,l,o):o(e):i.unlink(t,o))}))})}},function(e,t,n){"use strict";const r=n(4),i=n(0),o=n(59).copySync,s=n(31).removeSync,a=n(7).mkdirsSync,c=n(60);function u(e,t,n){return r.statSync(e).isDirectory()?function(e,t,n){const r={overwrite:!1};n?(s(t),i()):i();function i(){return o(e,t,r),s(e)}}(e,t,n):function(e,t,n){const i=c(65536),o=n?"w":"wx",s=r.openSync(e,"r"),a=r.fstatSync(s),u=r.openSync(t,o,a.mode);let l=1,h=0;for(;l>0;)l=r.readSync(s,i,0,65536,h),r.writeSync(u,i,0,l),h+=l;return r.closeSync(s),r.closeSync(u),r.unlinkSync(e)}(e,t,n)}e.exports={moveSync:function e(t,n,o){const c=(o=o||{}).overwrite||o.clobber||!1;if(t=i.resolve(t),n=i.resolve(n),t===n)return r.accessSync(t);if(function(e,t){try{return r.statSync(e).isDirectory()&&e!==t&&t.indexOf(e)>-1&&t.split(i.dirname(e)+i.sep)[1].split(i.sep)[0]===i.basename(e)}catch(e){return!1}}(t,n))throw new Error(`Cannot move '${t}' into itself '${n}'.`);a(i.dirname(n)),function(){if(c)try{r.renameSync(t,n)}catch(r){if("ENOTEMPTY"===r.code||"EEXIST"===r.code||"EPERM"===r.code)return s(n),o.overwrite=!1,e(t,n,o);if("EXDEV"!==r.code)throw r;return u(t,n,c)}else try{r.linkSync(t,n),r.unlinkSync(t)}catch(e){if("EXDEV"===e.code||"EISDIR"===e.code||"EPERM"===e.code||"ENOTSUP"===e.code)return u(t,n,c);throw e}}()}}},function(e,t,n){"use strict";const r=n(5).fromCallback,i=n(2),o=n(0),s=n(7),a=n(31),c=r(function(e,t){t=t||function(){},i.readdir(e,(n,r)=>{if(n)return s.mkdirs(e,t);r=r.map(t=>o.join(e,t)),function e(){const n=r.pop();if(!n)return t();a.remove(n,n=>{if(n)return t(n);e()})}()})});function u(e){let t;try{t=i.readdirSync(e)}catch(t){return s.mkdirsSync(e)}t.forEach(t=>{t=o.join(e,t),a.removeSync(t)})}e.exports={emptyDirSync:u,emptydirSync:u,emptyDir:c,emptydir:c}},function(e,t,n){"use strict";const r=n(135),i=n(136),o=n(137);e.exports={createFile:r.createFile,createFileSync:r.createFileSync,ensureFile:r.createFile,ensureFileSync:r.createFileSync,createLink:i.createLink,createLinkSync:i.createLinkSync,ensureLink:i.createLink,ensureLinkSync:i.createLinkSync,createSymlink:o.createSymlink,createSymlinkSync:o.createSymlinkSync,ensureSymlink:o.createSymlink,ensureSymlinkSync:o.createSymlinkSync}},function(e,t,n){"use strict";const r=n(5).fromCallback,i=n(0),o=n(4),s=n(7),a=n(11).pathExists;e.exports={createFile:r(function(e,t){function n(){o.writeFile(e,"",e=>{if(e)return t(e);t()})}o.stat(e,(r,o)=>{if(!r&&o.isFile())return t();const c=i.dirname(e);a(c,(e,r)=>e?t(e):r?n():void s.mkdirs(c,e=>{if(e)return t(e);n()}))})}),createFileSync:function(e){let t;try{t=o.statSync(e)}catch(e){}if(t&&t.isFile())return;const n=i.dirname(e);o.existsSync(n)||s.mkdirsSync(n),o.writeFileSync(e,"")}}},function(e,t,n){"use strict";const r=n(5).fromCallback,i=n(0),o=n(4),s=n(7),a=n(11).pathExists;e.exports={createLink:r(function(e,t,n){function r(e,t){o.link(e,t,e=>{if(e)return n(e);n(null)})}a(t,(c,u)=>c?n(c):u?n(null):void o.lstat(e,(o,c)=>{if(o)return o.message=o.message.replace("lstat","ensureLink"),n(o);const u=i.dirname(t);a(u,(i,o)=>i?n(i):o?r(e,t):void s.mkdirs(u,i=>{if(i)return n(i);r(e,t)}))}))}),createLinkSync:function(e,t,n){if(o.existsSync(t))return;try{o.lstatSync(e)}catch(e){throw e.message=e.message.replace("lstat","ensureLink"),e}const r=i.dirname(t);return o.existsSync(r)?o.linkSync(e,t):(s.mkdirsSync(r),o.linkSync(e,t))}}},function(e,t,n){"use strict";const r=n(5).fromCallback,i=n(0),o=n(4),s=n(7),a=s.mkdirs,c=s.mkdirsSync,u=n(138),l=u.symlinkPaths,h=u.symlinkPathsSync,f=n(139),p=f.symlinkType,d=f.symlinkTypeSync,g=n(11).pathExists;e.exports={createSymlink:r(function(e,t,n,r){r="function"==typeof n?n:r,n="function"!=typeof n&&n,g(t,(s,c)=>s?r(s):c?r(null):void l(e,t,(s,c)=>{if(s)return r(s);e=c.toDst,p(c.toCwd,n,(n,s)=>{if(n)return r(n);const c=i.dirname(t);g(c,(n,i)=>n?r(n):i?o.symlink(e,t,s,r):void a(c,n=>{if(n)return r(n);o.symlink(e,t,s,r)}))})}))}),createSymlinkSync:function(e,t,n,r){if(r="function"==typeof n?n:r,n="function"!=typeof n&&n,o.existsSync(t))return;const s=h(e,t);e=s.toDst,n=d(s.toCwd,n);const a=i.dirname(t);return o.existsSync(a)?o.symlinkSync(e,t,n):(c(a),o.symlinkSync(e,t,n))}}},function(e,t,n){"use strict";const r=n(0),i=n(4),o=n(11).pathExists;e.exports={symlinkPaths:function(e,t,n){if(r.isAbsolute(e))return i.lstat(e,(t,r)=>t?(t.message=t.message.replace("lstat","ensureSymlink"),n(t)):n(null,{toCwd:e,toDst:e}));{const s=r.dirname(t),a=r.join(s,e);return o(a,(t,o)=>t?n(t):o?n(null,{toCwd:a,toDst:e}):i.lstat(e,(t,i)=>t?(t.message=t.message.replace("lstat","ensureSymlink"),n(t)):n(null,{toCwd:e,toDst:r.relative(s,e)})))}},symlinkPathsSync:function(e,t){let n;if(r.isAbsolute(e)){if(!(n=i.existsSync(e)))throw new Error("absolute srcpath does not exist");return{toCwd:e,toDst:e}}{const o=r.dirname(t),s=r.join(o,e);if(n=i.existsSync(s))return{toCwd:s,toDst:e};if(!(n=i.existsSync(e)))throw new Error("relative srcpath does not exist");return{toCwd:e,toDst:r.relative(o,e)}}}}},function(e,t,n){"use strict";const r=n(4);e.exports={symlinkType:function(e,t,n){if(n="function"==typeof t?t:n,t="function"!=typeof t&&t)return n(null,t);r.lstat(e,(e,r)=>{if(e)return n(null,"file");t=r&&r.isDirectory()?"dir":"file",n(null,t)})},symlinkTypeSync:function(e,t){let n;if(t)return t;try{n=r.lstatSync(e)}catch(e){return"file"}return n&&n.isDirectory()?"dir":"file"}}},function(e,t,n){"use strict";const r=n(5).fromCallback,i=n(4),o=n(0),s=n(7),a=n(11).pathExists;e.exports={outputFile:r(function(e,t,n,r){"function"==typeof n&&(r=n,n="utf8");const c=o.dirname(e);a(c,(o,a)=>o?r(o):a?i.writeFile(e,t,n,r):void s.mkdirs(c,o=>{if(o)return r(o);i.writeFile(e,t,n,r)}))}),outputFileSync:function(e,t,n){const r=o.dirname(e);if(i.existsSync(r))return i.writeFileSync.apply(i,arguments);s.mkdirsSync(r),i.writeFileSync.apply(i,arguments)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1);t.LaTeXCommander=class{constructor(e){this.commands=[],this.extension=e,this.buildCommander()}buildCommander(){const e=r.workspace.getConfiguration("latex-workshop"),t=new i("Build LaTeX project",r.TreeItemCollapsibleState.Collapsed,{command:"latex-workshop.build",title:""});this.commands.push(t);const n=e.get("latex.recipes");t.children.push(new i("Clean up auxiliary files",r.TreeItemCollapsibleState.None,{command:"latex-workshop.clean",title:""})),t.children.push(new i("Terminate current compilation",r.TreeItemCollapsibleState.None,{command:"latex-workshop.kill",title:""})),n&&n.forEach(e=>{t.children.push(new i(`Recipe: ${e.name}`,r.TreeItemCollapsibleState.None,{command:"latex-workshop.recipes",title:"",arguments:[e.name]}))});const o=new i("View LaTeX PDF",r.TreeItemCollapsibleState.Collapsed,{command:"latex-workshop.view",title:""});this.commands.push(o),o.children.push(new i("View in VSCode tab",r.TreeItemCollapsibleState.None,{command:"latex-workshop.view",title:"",arguments:["tab"]})),o.children.push(new i("View in web browser",r.TreeItemCollapsibleState.None,{command:"latex-workshop.view",title:"",arguments:["browser"]})),o.children.push(new i("View in external viewer",r.TreeItemCollapsibleState.None,{command:"latex-workshop.view",title:"",arguments:["external"]})),o.children.push(new i("Set default viewer",r.TreeItemCollapsibleState.None,{command:"latex-workshop.view",title:"",arguments:["set"]})),o.children.push(new i("Refresh all viewers",r.TreeItemCollapsibleState.None,{command:"latex-workshop.refresh-viewer",title:""}));const s=new i("View Log messages",r.TreeItemCollapsibleState.Collapsed,{command:"latex-workshop.log",title:""});this.commands.push(s),s.children.push(new i("View LaTeX Workshop extension log",r.TreeItemCollapsibleState.None,{command:"latex-workshop.log",title:""})),s.children.push(new i("View LaTeX compiler log",r.TreeItemCollapsibleState.None,{command:"latex-workshop.log",title:"",arguments:["compiler"]}));const a=new i("Navigate, select, and edit",r.TreeItemCollapsibleState.Collapsed);this.commands.push(a),a.children.push(new i("SyncTeX from cursor",r.TreeItemCollapsibleState.None,{command:"latex-workshop.synctex",title:""})),a.children.push(new i("Navigate to matching begin/end",r.TreeItemCollapsibleState.None,{command:"latex-workshop.navigate-envpair",title:""})),a.children.push(new i("Select current environment name",r.TreeItemCollapsibleState.None,{command:"latex-workshop.select-envname",title:""})),a.children.push(new i("Close current environment",r.TreeItemCollapsibleState.None,{command:"latex-workshop.close-env",title:""})),a.children.push(new i("Surround with begin{}...\\end{}",r.TreeItemCollapsibleState.None,{command:"latex-workshop.wrap-env",title:""})),a.children.push(new i("Insert %!TeX root magic comment",r.TreeItemCollapsibleState.None,{command:"latex-workshop.addtexroot",title:""}));const c=new i("Miscellaneous",r.TreeItemCollapsibleState.Collapsed);this.commands.push(c),c.children.push(new i("Open citation browser",r.TreeItemCollapsibleState.None,{command:"latex-workshop.citation",title:""})),c.children.push(new i("Count words in LaTeX project",r.TreeItemCollapsibleState.None,{command:"latex-workshop.wordcount",title:""})),c.children.push(new i("Reveal output folder in OS",r.TreeItemCollapsibleState.None,{command:"latex-workshop.revealOutputDir",title:""}))}getTreeItem(e){const t=new r.TreeItem(e.label,e.collapsibleState);return t.command=e.command,t}getChildren(e){return e?Promise.resolve(e.children):Promise.resolve(this.commands)}};class i extends r.TreeItem{constructor(e,t,n){super(e,t),this.label=e,this.collapsibleState=t,this.command=n,this.children=[]}}t.LaTeXCommand=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1);t.Logger=class{constructor(e){this.extension=e,this.logPanel=r.window.createOutputChannel("LaTeX Workshop"),this.compilerLogPanel=r.window.createOutputChannel("LaTeX Compiler"),this.compilerLogPanel.append("Ready"),this.addLogMessage("Initializing LaTeX Workshop."),this.status=r.window.createStatusBarItem(r.StatusBarAlignment.Left,-1e4),this.status.command="latex-workshop.actions",this.status.show(),this.displayStatus("check","statusBar.foreground")}addLogMessage(e){r.workspace.getConfiguration("latex-workshop").get("message.log.show")&&this.logPanel.append(`[${(new Date).toLocaleTimeString("en-US",{hour12:!1})}] ${e}\n`)}addCompilerMessage(e){this.compilerLogPanel.append(e)}clearCompilerMessage(){this.compilerLogPanel.clear()}displayStatus(e,t,n,i="info",o=""){if(this.status.text=`$(${e})${o}`,this.status.tooltip=n,this.status.color=new r.ThemeColor(t),void 0===n)return;const s=r.workspace.getConfiguration("latex-workshop");switch(i){case"info":s.get("message.information.show")&&r.window.showInformationMessage(n);break;case"warning":s.get("message.warning.show")&&r.window.showWarningMessage(n);break;case"error":default:s.get("message.error.show")&&r.window.showErrorMessage(n)}}showErrorMessage(e,...t){return r.workspace.getConfiguration("latex-workshop").get("message.error.show")?r.window.showErrorMessage(e,...t):void 0}showLog(){this.logPanel.show()}showCompilerLog(){this.compilerLogPanel.show()}}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,a)}c((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(1),o=n(0),s=n(2),a=n(144),c=n(50);t.Manager=class{constructor(e){this.texFileTree={},this.extension=e,this.filesWatched=[],this.bibsWatched=[],this.rootFiles={},this.workspace=""}getOutputDir(e){const t=e.replace(/\.tex$/,"").split(o.sep).join("/"),n=o.basename(e,".tex").split(o.sep).join("/"),r=i.workspace.getConfiguration("latex-workshop"),s=r.get("docker.enabled");let a=r.get("latex.outDir");return a=a.replace("%DOC%",s?n:t).replace("%DOCFILE%",n).replace("%DIR%",o.dirname(e).split(o.sep).join("/")).replace("%TMPDIR%",this.extension.builder.tmpDir)}get rootDir(){return o.dirname(this.rootFile)}get rootFile(){return this.rootFiles[this.workspace]}set rootFile(e){this.rootFiles[this.workspace]=e}tex2pdf(e,t=!0){let n="./";return t&&(n=this.getOutputDir(e)),o.resolve(o.dirname(e),n,o.basename(`${e.substr(0,e.lastIndexOf("."))}.pdf`))}hasTexId(e){return"tex"===e||"latex"===e||"doctex"===e}stripComments(e,t){const n=RegExp("([^\\\\]|^)"+t+".*$","gm");return e.replace(n,"$1")}resolveFile(e,t,n=".tex"){t.startsWith("/")&&e.unshift("");for(const r of e){let e=o.resolve(r,t);if(""===o.extname(e)&&(e+=n),!s.existsSync(e)&&s.existsSync(e+n)&&(e+=n),s.existsSync(e))return e}return null}updateWorkspace(){let e=i.workspace.rootPath;const t=i.window.activeTextEditor;if(t){const n=i.workspace.getWorkspaceFolder(t.document.uri);n&&(e=n.uri.fsPath)}e?e!==this.workspace&&(this.workspace=e):this.workspace=""}findRoot(){return r(this,void 0,void 0,function*(){this.updateWorkspace();const e=[()=>this.findRootMagic(),()=>this.findRootSelf(),()=>this.findRootDir()];for(const t of e){const e=yield t();if(void 0!==e)return this.rootFile!==e?(this.extension.logger.addLogMessage(`Root file changed from: ${this.rootFile}. Find all dependencies.`),this.rootFile=e,this.findAllDependentFiles(e)):this.extension.logger.addLogMessage(`Root file remains unchanged from: ${this.rootFile}.`),e}})}findRootMagic(){if(!i.window.activeTextEditor)return;const e=/^(?:%\s*!\s*T[Ee]X\sroot\s*=\s*(.*\.tex)$)/m;let t=i.window.activeTextEditor.document.getText(),n=t.match(e);const r=[];if(n){let a=o.resolve(o.dirname(i.window.activeTextEditor.document.fileName),n[1]);for(r.push(a),this.extension.logger.addLogMessage(`Found root file by magic comment: ${a}`),n=(t=s.readFileSync(a).toString()).match(e);n;){if(a=o.resolve(o.dirname(a),n[1]),r.indexOf(a)>-1)return this.extension.logger.addLogMessage(`Looped root file by magic comment found: ${a}, stop here.`),a;r.push(a),this.extension.logger.addLogMessage(`Recursively found root file by magic comment: ${a}`),n=(t=s.readFileSync(a).toString()).match(e)}return a}}findRootSelf(){if(i.window.activeTextEditor&&this.stripComments(i.window.activeTextEditor.document.getText(),"%").match(/\\begin{document}/m)){const e=i.window.activeTextEditor.document.fileName;return this.extension.logger.addLogMessage(`Found root file from active editor: ${e}`),e}}findSubFiles(){if(!i.window.activeTextEditor)return;const e=this.stripComments(i.window.activeTextEditor.document.getText(),"%").match(/(?:\\documentclass\[(.*(?:\.tex))\]{subfiles})/);if(e){const t=o.resolve(o.dirname(i.window.activeTextEditor.document.fileName),e[1]);return this.extension.logger.addLogMessage(`Found root file of this subfile from active editor: ${t}`),t}}findRootDir(){return r(this,void 0,void 0,function*(){const e=/\\begin{document}/m;if(this.workspace)try{const t=yield i.workspace.findFiles("**/*.tex",void 0);for(const n of t)if(this.stripComments(s.readFileSync(n.fsPath).toString(),"%").match(e)){const e=n.fsPath;this.extension.logger.addLogMessage(`Try root file in root directory: ${e}`);const t=i.window;if(t&&t.activeTextEditor&&this.isRoot(n.fsPath,t.activeTextEditor.document.fileName,!0))return this.extension.logger.addLogMessage(`Found root file in root directory: ${e}`),e}}catch(e){}})}isRoot(e,t,n=!1){if(!s.existsSync(e))return!1;if(e===t)return!0;if(n&&this.findDependentFiles(e,void 0,!0),!this.texFileTree.hasOwnProperty(e)||!this.texFileTree.hasOwnProperty(t))return!1;for(const n of this.texFileTree[e])if(this.isRoot(n,t))return!0;return!1}findAllDependentFiles(e){let t=!1;if(void 0!==this.fileWatcher&&this.filesWatched.indexOf(e)<0&&(this.extension.logger.addLogMessage("Root file changed -> cleaning up old file watcher."),this.fileWatcher.close(),this.filesWatched=[],t=!0,this.extension.completer.reference.reset(),this.extension.completer.command.reset(),this.extension.completer.citation.reset()),t||void 0===this.fileWatcher){this.extension.logger.addLogMessage(`Instatiating new file watcher for ${e}`),this.fileWatcher=a.watch(e),this.filesWatched.push(e),this.fileWatcher.on("change",e=>{this.extension.logger.addLogMessage(`File watcher: responding to change in ${e}`),this.findDependentFiles(e)}),this.fileWatcher.on("unlink",t=>r(this,void 0,void 0,function*(){this.extension.logger.addLogMessage(`File watcher: ${t} deleted.`),this.fileWatcher.unwatch(t),this.filesWatched.splice(this.filesWatched.indexOf(t),1),t===e&&(this.extension.logger.addLogMessage(`Deleted ${t} was root - triggering root search`),yield this.findRoot())})),this.findDependentFiles(e);const t=i.workspace.getConfiguration("latex-workshop").get("latex.additionalBib");for(const e of t)c(e,{cwd:this.extension.manager.rootDir},(t,n)=>{if(t)this.extension.logger.addLogMessage(`Error identifying additional bibfile with glob ${e}: ${n}.`);else for(const e of n)this.extension.logger.addLogMessage(`Try to watch global bibliography file ${e}.`),this.addBibToWatcher(e,this.extension.manager.rootDir)})}}findDependentFiles(e,t,n=!1){t||(t=o.dirname(e)),this.extension.logger.addLogMessage(`Parsing ${e}`);const r=this.stripComments(s.readFileSync(e,"utf-8"),"%"),i=/(?:\\(?:input|InputIfFileExists|include|subfile|(?:(?:sub)?import\*?{([^}]*)}))(?:\[[^\[\]\{\}]*\])?){([^}]*)}/g;for(this.texFileTree[e]=new Set;;){const a=i.exec(r);if(!a)break;let c;(c=a[0].startsWith("\\subimport")?this.resolveFile([o.dirname(e)],o.resolve(a[1],a[2])):a[0].startsWith("\\import")?this.extension.manager.resolveFile([a[1]],a[2]):this.resolveFile([o.dirname(e),t],a[2]))&&s.existsSync(c)&&(this.texFileTree[e].add(c),!n&&this.fileWatcher&&this.filesWatched.indexOf(c)<0&&(this.extension.logger.addLogMessage(`Adding ${c} to file watcher.`),this.fileWatcher.add(c),this.filesWatched.push(c)),this.findDependentFiles(c,t))}if(n)return;const a=/(?:\\(?:bibliography|addbibresource)(?:\[[^\[\]\{\}]*\])?){(.+?)}|(?:\\putbib)\[(.+?)\]/g;for(;;){const e=a.exec(r);if(!e)break;const n=(e[1]?e[1]:e[2]).split(",").map(e=>e.trim());for(const e of n)this.addBibToWatcher(e,t,this.extension.manager.rootFile)}this.onFileChange(e)}onFileChange(e){this.extension.completer.command.getCommandsTeX(e),this.extension.completer.command.getPackage(e),this.extension.completer.reference.getReferencesTeX(e),this.extension.completer.citation.getTheBibliographyTeX(e)}addBibToWatcher(e,t,n){const r=i.workspace.getConfiguration("latex-workshop").get("latex.bibDirs"),o=this.resolveFile([t,...r],e,".bib");if(o)if(this.extension.logger.addLogMessage(`Found .bib file ${o}`),void 0===this.bibWatcher&&(this.extension.logger.addLogMessage("Creating file watcher for .bib files."),this.bibWatcher=a.watch(""),this.bibWatcher.on("change",e=>{this.extension.logger.addLogMessage(`Bib file watcher - responding to change in ${e}`),this.extension.completer.citation.parseBibFile(e)}),this.bibWatcher.on("unlink",e=>{this.extension.logger.addLogMessage(`Bib file watcher: ${e} deleted.`),this.extension.completer.citation.forgetParsedBibItems(e),this.bibWatcher.unwatch(e),this.bibsWatched.splice(this.bibsWatched.indexOf(e),1)})),this.bibsWatched.indexOf(o)<0)this.extension.logger.addLogMessage(`Adding .bib file ${o} to bib file watcher.`),this.bibWatcher.add(o),this.bibsWatched.push(o),this.extension.completer.citation.parseBibFile(o,n);else{const e=this.extension.completer.citation.citationInBib[o].rootFiles;n&&e.indexOf(n)<0&&e.push(n),this.extension.logger.addLogMessage(`.bib file ${o} is already being watched.`)}else this.extension.logger.addLogMessage(`Cannot find .bib file ${e}`)}setEnvVar(){const e=i.workspace.getConfiguration("latex-workshop");process.env.LATEXWORKSHOP_DOCKER_LATEX=e.get("docker.image.latex")}}},function(e,t,n){"use strict";var r=n(22).EventEmitter,i=n(2),o=n(0),s=n(145),a=n(146),c=n(242),u=n(245),l=n(39),h=n(16),f=n(62),p=n(92),d=n(247),g=n(248),m=n(256),y=function(e){return null==e?[]:Array.isArray(e)?e:[e]},b=function(e,t){return null==t&&(t=[]),e.forEach(function(e){Array.isArray(e)?b(e,t):t.push(e)}),t},v=function(e){return"string"==typeof e};function w(e){r.call(this);var t={};if(e)for(var n in e)t[n]=e[n];function i(e){return void 0===t[e]}this._watched=Object.create(null),this._closers=Object.create(null),this._ignoredPaths=Object.create(null),Object.defineProperty(this,"_globIgnored",{get:function(){return Object.keys(this._ignoredPaths)}}),this.closed=!1,this._throttled=Object.create(null),this._symlinkPaths=Object.create(null),i("persistent")&&(t.persistent=!0),i("ignoreInitial")&&(t.ignoreInitial=!1),i("ignorePermissionErrors")&&(t.ignorePermissionErrors=!1),i("interval")&&(t.interval=100),i("binaryInterval")&&(t.binaryInterval=300),i("disableGlobbing")&&(t.disableGlobbing=!1),this.enableBinaryInterval=t.binaryInterval!==t.interval,i("useFsEvents")&&(t.useFsEvents=!t.usePolling),m.canUse()||(t.useFsEvents=!1),i("usePolling")&&!t.useFsEvents&&(t.usePolling="darwin"===process.platform);var o=process.env.CHOKIDAR_USEPOLLING;if(void 0!==o){var s=o.toLowerCase();t.usePolling="false"!==s&&"0"!==s&&("true"===s||"1"===s||!!s)}var a=process.env.CHOKIDAR_INTERVAL;a&&(t.interval=parseInt(a)),i("atomic")&&(t.atomic=!t.usePolling&&!t.useFsEvents),t.atomic&&(this._pendingUnlinks=Object.create(null)),i("followSymlinks")&&(t.followSymlinks=!0),i("awaitWriteFinish")&&(t.awaitWriteFinish=!1),!0===t.awaitWriteFinish&&(t.awaitWriteFinish={});var c=t.awaitWriteFinish;c&&(c.stabilityThreshold||(c.stabilityThreshold=2e3),c.pollInterval||(c.pollInterval=100),this._pendingWrites=Object.create(null)),t.ignored&&(t.ignored=y(t.ignored)),this._isntIgnored=function(e,t){return!this._isIgnored(e,t)}.bind(this);var u=0;this._emitReady=function(){++u>=this._readyCount&&(this._emitReady=Function.prototype,this._readyEmitted=!0,process.nextTick(this.emit.bind(this,"ready")))}.bind(this),this.options=t,Object.freeze(t)}h(w,r),w.prototype._emit=function(e,t,n,r,s){this.options.cwd&&(t=o.relative(this.options.cwd,t));var a=[e,t];void 0!==s?a.push(n,r,s):void 0!==r?a.push(n,r):void 0!==n&&a.push(n);var c=this.options.awaitWriteFinish;if(c&&this._pendingWrites[t])return this._pendingWrites[t].lastChange=new Date,this;if(this.options.atomic){if("unlink"===e)return this._pendingUnlinks[t]=a,setTimeout(function(){Object.keys(this._pendingUnlinks).forEach(function(e){this.emit.apply(this,this._pendingUnlinks[e]),this.emit.apply(this,["all"].concat(this._pendingUnlinks[e])),delete this._pendingUnlinks[e]}.bind(this))}.bind(this),"number"==typeof this.options.atomic?this.options.atomic:100),this;"add"===e&&this._pendingUnlinks[t]&&(e=a[0]="change",delete this._pendingUnlinks[t])}var u=function(){this.emit.apply(this,a),"error"!==e&&this.emit.apply(this,["all"].concat(a))}.bind(this);if(c&&("add"===e||"change"===e)&&this._readyEmitted){return this._awaitWriteFinish(t,c.stabilityThreshold,e,function(t,n){t?(e=a[0]="error",a[1]=t,u()):n&&(a.length>2?a[2]=n:a.push(n),u())}),this}if("change"===e&&!this._throttle("change",t,50))return this;if(!this.options.alwaysStat||void 0!==n||"add"!==e&&"addDir"!==e&&"change"!==e)u();else{var l=this.options.cwd?o.join(this.options.cwd,t):t;i.stat(l,function(e,t){!e&&t&&(a.push(t),u())})}return this},w.prototype._handleError=function(e){var t=e&&e.code,n=this.options.ignorePermissionErrors;return e&&"ENOENT"!==t&&"ENOTDIR"!==t&&(!n||"EPERM"!==t&&"EACCES"!==t)&&this.emit("error",e),e||this.closed},w.prototype._throttle=function(e,t,n){e in this._throttled||(this._throttled[e]=Object.create(null));var r=this._throttled[e];if(t in r)return r[t].count++,!1;function i(){var e=r[t]?r[t].count:0;return delete r[t],clearTimeout(o),e}var o=setTimeout(i,n);return r[t]={timeoutObject:o,clear:i,count:0},r[t]},w.prototype._awaitWriteFinish=function(e,t,n,r){var s,a=e;this.options.cwd&&!l(e)&&(a=o.join(this.options.cwd,e));var c=new Date,u=function(n){i.stat(a,function(i,o){if(!i&&e in this._pendingWrites){var a=new Date;n&&o.size!=n.size&&(this._pendingWrites[e].lastChange=a),a-this._pendingWrites[e].lastChange>=t?(delete this._pendingWrites[e],r(null,o)):s=setTimeout(u.bind(this,o),this.options.awaitWriteFinish.pollInterval)}else i&&"ENOENT"!==i.code&&r(i)}.bind(this))}.bind(this);e in this._pendingWrites||(this._pendingWrites[e]={lastChange:c,cancelWait:function(){return delete this._pendingWrites[e],clearTimeout(s),n}.bind(this)},s=setTimeout(u.bind(this),this.options.awaitWriteFinish.pollInterval))};var x=/\..*\.(sw[px])$|\~$|\.subl.*\.tmp/;w.prototype._isIgnored=function(e,t){if(this.options.atomic&&x.test(e))return!0;if(!this._userIgnored){var n=this.options.cwd,r=this.options.ignored;n&&r&&(r=r.map(function(e){return"string"!=typeof e?e:d.normalize(l(e)?e:o.join(n,e))}));var i=y(r).filter(function(e){return"string"==typeof e&&!u(e)}).map(function(e){return e+"/**"});this._userIgnored=a(this._globIgnored.concat(r).concat(i))}return this._userIgnored([e,t])};var k=/^\.[\/\\]/;function _(e){Object.keys(e.prototype).forEach(function(t){w.prototype[t]=e.prototype[t]})}w.prototype._getWatchHelpers=function(e,t){e=e.replace(k,"");var n,r=t||this.options.disableGlobbing||!u(e)?e:c(e),i=o.resolve(r),s=r!==e,l=!!s&&a(e),h=this.options.followSymlinks,p=!(!s||!h)&&null,d=function(e){return null==p&&(p=e.fullParentDir!==i&&{realPath:e.fullParentDir,linkPath:i}),p?e.fullPath.replace(p.realPath,p.linkPath):e.fullPath},g=function(e){return o.join(r,o.relative(r,d(e)))},m=function(e){if(e.stat&&e.stat.isSymbolicLink())return v(e);var t=g(e);return(!s||l(t))&&this._isntIgnored(t,e.stat)&&(this.options.ignorePermissionErrors||this._hasReadPermissions(e.stat))}.bind(this),y=function(e){if(!s)return!1;var t=[];return f.expand(e).forEach(function(e){t.push(o.relative(r,e).split(/[\/\\]/))}),t},b=y(e);b&&b.forEach(function(e){e.length>1&&e.pop()});var v=function(e){if(s){var t=y(d(e)),r=!1;n=!b.some(function(e){return e.every(function(e,n){return"**"===e&&(r=!0),r||!t[0][n]||a(e,t[0][n])})})}return!n&&this._isntIgnored(g(e),e.stat)}.bind(this);return{followSymlinks:h,statMethod:h?"stat":"lstat",path:e,watchPath:r,entryPath:g,hasGlob:s,globFilter:l,filterPath:m,filterDir:v}},w.prototype._getWatchedDir=function(e){var t=o.resolve(e),n=this._remove.bind(this);return t in this._watched||(this._watched[t]={_items:Object.create(null),add:function(e){"."!==e&&".."!==e&&(this._items[e]=!0)},remove:function(e){delete this._items[e],this.children().length||i.readdir(t,function(e){e&&n(o.dirname(t),o.basename(t))})},has:function(e){return e in this._items},children:function(){return Object.keys(this._items)}}),this._watched[t]},w.prototype._hasReadPermissions=function(e){return Boolean(4&parseInt((511&(e&&e.mode)).toString(8)[0],10))},w.prototype._remove=function(e,t){var n=o.join(e,t),r=o.resolve(n),i=this._watched[n]||this._watched[r];if(this._throttle("remove",n,100)){var s=Object.keys(this._watched);i||this.options.useFsEvents||1!==s.length||this.add(e,t,!0),this._getWatchedDir(n).children().forEach(function(e){this._remove(n,e)},this);var a=this._getWatchedDir(e),c=a.has(t);a.remove(t);var u=n;if(this.options.cwd&&(u=o.relative(this.options.cwd,n)),this.options.awaitWriteFinish&&this._pendingWrites[u])if("add"===this._pendingWrites[u].cancelWait())return;delete this._watched[n],delete this._watched[r];var l=i?"unlinkDir":"unlink";c&&!this._isIgnored(n)&&this._emit(l,n),this.options.useFsEvents||this._closePath(n)}},w.prototype._closePath=function(e){this._closers[e]&&(this._closers[e](),delete this._closers[e],this._getWatchedDir(o.dirname(e)).remove(o.basename(e)))},w.prototype.add=function(e,t,n){var r=this.options.disableGlobbing,i=this.options.cwd;if(this.closed=!1,!(e=b(y(e))).every(v))throw new TypeError("Non-string provided as watch path: "+e);return i&&(e=e.map(function(e){var t;return t=l(e)?e:"!"===e[0]?"!"+o.join(i,e.substring(1)):o.join(i,e),r||!u(e)?t:p(t)})),e=e.filter(function(e){if("!"!==e[0])return delete this._ignoredPaths[e],delete this._ignoredPaths[e+"/**"],this._userIgnored=null,!0;this._ignoredPaths[e.substring(1)]=!0},this),this.options.useFsEvents&&m.canUse()?(this._readyCount||(this._readyCount=e.length),this.options.persistent&&(this._readyCount*=2),e.forEach(this._addToFsEvents,this)):(this._readyCount||(this._readyCount=0),this._readyCount+=e.length,s(e,function(e,r){this._addToNodeFs(e,!n,0,0,t,function(e,t){t&&this._emitReady(),r(e,t)}.bind(this))}.bind(this),function(e,n){n.forEach(function(e){e&&!this.closed&&this.add(o.dirname(e),o.basename(t||e))},this)}.bind(this))),this},w.prototype.unwatch=function(e){return this.closed?this:((e=b(y(e))).forEach(function(e){l(e)||this._closers[e]||(this.options.cwd&&(e=o.join(this.options.cwd,e)),e=o.resolve(e)),this._closePath(e),this._ignoredPaths[e]=!0,e in this._watched&&(this._ignoredPaths[e+"/**"]=!0),this._userIgnored=null},this),this)},w.prototype.close=function(){return this.closed?this:(this.closed=!0,Object.keys(this._closers).forEach(function(e){this._closers[e](),delete this._closers[e]},this),this._watched=Object.create(null),this.removeAllListeners(),this)},w.prototype.getWatched=function(){var e={};return Object.keys(this._watched).forEach(function(t){var n=this.options.cwd?o.relative(this.options.cwd,t):t;e[n||"."]=Object.keys(this._watched[t]._items).sort()}.bind(this)),e},_(g),m.canUse()&&_(m),t.FSWatcher=w,t.watch=function(e,t){return new w(t).add(e)}},function(e,t,n){var r;!function(n){"use strict";var i=function(e,t,n){if(!Array.isArray(e))throw new TypeError("each() expects array as first argument");if("function"!=typeof t)throw new TypeError("each() expects function as second argument");if("function"!=typeof n&&(n=Function.prototype),0===e.length)return n(void 0,e);var r=new Array(e.length),i=0,o=!1;e.forEach(function(s,a){t(s,function(t,s){if(!o)return t?(o=!0,n(t)):(r[a]=s,(i+=1)===e.length?n(void 0,r):void 0)})})};void 0===(r=function(){return i}.apply(t,[]))||(e.exports=r)}()},function(e,t,n){"use strict";var r=n(45),i=n(92),o=n(0),s=function(e){return null==e?[]:Array.isArray(e)?e:[e]},a=function(e,t,n,c,u){if(e=s(e),t=s(t),1===arguments.length)return a.bind(null,e.map(function(e){return"string"==typeof e&&"!"!==e[0]?r.matcher(e):e}));c=c||0;var l,h,f=t[0],p=!1,d=-1;var g=e,m=g.reduce(function(t,n,r){return"string"==typeof n&&"!"===n[0]&&(g===e&&(g=g.slice()),g[r]=null,t.push(n.substr(1))),t},[]);return m.length&&r.any(f,m)||("\\"===o.sep&&"string"==typeof f&&(l=(l=i(f))===f?null:l)&&(h=[l].concat(t.slice(1))),p=g.slice(c,u).some(function(e,n){var i;switch(Object.prototype.toString.call(e)){case"[object String]":i=(i=f===e||l&&l===e)||r.isMatch(f,e);break;case"[object RegExp]":i=e.test(f)||l&&e.test(l);break;case"[object Function]":i=(i=e.apply(null,t))||h&&e.apply(null,h);break;default:i=!1}return i&&(d=n+c),i})),!0===n?d:p};e.exports=a},function(e,t,n){var r=n(148),i=n(32),o=n(64),s=n(149);e.exports=function(e){var t,n,a=0,c={type:i.ROOT,stack:[]},u=c,l=c.stack,h=[],f=function(t){r.error(e,"Nothing to repeat at column "+(t-1))},p=r.strToChars(e);for(t=p.length;a<t;)switch(n=p[a++]){case"\\":switch(n=p[a++]){case"b":l.push(s.wordBoundary());break;case"B":l.push(s.nonWordBoundary());break;case"w":l.push(o.words());break;case"W":l.push(o.notWords());break;case"d":l.push(o.ints());break;case"D":l.push(o.notInts());break;case"s":l.push(o.whitespace());break;case"S":l.push(o.notWhitespace());break;default:/\d/.test(n)?l.push({type:i.REFERENCE,value:parseInt(n,10)}):l.push({type:i.CHAR,value:n.charCodeAt(0)})}break;case"^":l.push(s.begin());break;case"$":l.push(s.end());break;case"[":var d;"^"===p[a]?(d=!0,a++):d=!1;var g=r.tokenizeClass(p.slice(a),e);a+=g[1],l.push({type:i.SET,set:g[0],not:d});break;case".":l.push(o.anyChar());break;case"(":var m={type:i.GROUP,stack:[],remember:!0};"?"===(n=p[a])&&(n=p[a+1],a+=2,"="===n?m.followedBy=!0:"!"===n?m.notFollowedBy=!0:":"!==n&&r.error(e,"Invalid group, character '"+n+"' after '?' at column "+(a-1)),m.remember=!1),l.push(m),h.push(u),u=m,l=m.stack;break;case")":0===h.length&&r.error(e,"Unmatched ) at column "+(a-1)),l=(u=h.pop()).options?u.options[u.options.length-1]:u.stack;break;case"|":u.options||(u.options=[u.stack],delete u.stack);var y=[];u.options.push(y),l=y;break;case"{":var b,v,w=/^(\d+)(,(\d+)?)?\}/.exec(p.slice(a));null!==w?(0===l.length&&f(a),b=parseInt(w[1],10),v=w[2]?w[3]?parseInt(w[3],10):1/0:b,a+=w[0].length,l.push({type:i.REPETITION,min:b,max:v,value:l.pop()})):l.push({type:i.CHAR,value:123});break;case"?":0===l.length&&f(a),l.push({type:i.REPETITION,min:0,max:1,value:l.pop()});break;case"+":0===l.length&&f(a),l.push({type:i.REPETITION,min:1,max:1/0,value:l.pop()});break;case"*":0===l.length&&f(a),l.push({type:i.REPETITION,min:0,max:1/0,value:l.pop()});break;default:l.push({type:i.CHAR,value:n.charCodeAt(0)})}return 0!==h.length&&r.error(e,"Unterminated group"),c},e.exports.types=i},function(e,t,n){var r=n(32),i=n(64),o={0:0,t:9,n:10,v:11,f:12,r:13};t.strToChars=function(e){return e=e.replace(/(\[\\b\])|(\\)?\\(?:u([A-F0-9]{4})|x([A-F0-9]{2})|(0?[0-7]{2})|c([@A-Z\[\\\]\^?])|([0tnvfr]))/g,function(e,t,n,r,i,s,a,c){if(n)return e;var u=t?8:r?parseInt(r,16):i?parseInt(i,16):s?parseInt(s,8):a?"@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^ ?".indexOf(a):o[c],l=String.fromCharCode(u);return/[\[\]{}\^$.|?*+()]/.test(l)&&(l="\\"+l),l})},t.tokenizeClass=function(e,n){for(var o,s,a=[],c=/\\(?:(w)|(d)|(s)|(W)|(D)|(S))|((?:(?:\\)(.)|([^\]\\]))-(?:\\)?([^\]]))|(\])|(?:\\)?(.)/g;null!=(o=c.exec(e));)if(o[1])a.push(i.words());else if(o[2])a.push(i.ints());else if(o[3])a.push(i.whitespace());else if(o[4])a.push(i.notWords());else if(o[5])a.push(i.notInts());else if(o[6])a.push(i.notWhitespace());else if(o[7])a.push({type:r.RANGE,from:(o[8]||o[9]).charCodeAt(0),to:o[10].charCodeAt(0)});else{if(!(s=o[12]))return[a,c.lastIndex];a.push({type:r.CHAR,value:s.charCodeAt(0)})}t.error(n,"Unterminated character class")},t.error=function(e,t){throw new SyntaxError("Invalid regular expression: /"+e+"/: "+t)}},function(e,t,n){var r=n(32);t.wordBoundary=function(){return{type:r.POSITION,value:"b"}},t.nonWordBoundary=function(){return{type:r.POSITION,value:"B"}},t.begin=function(){return{type:r.POSITION,value:"^"}},t.end=function(){return{type:r.POSITION,value:"$"}}},function(e,t,n){"use strict";
/*!
 * define-property <https://github.com/jonschlinkert/define-property>
 *
 * Copyright (c) 2015-2018, Jon Schlinkert.
 * Released under the MIT License.
 */var r=n(6),i=n(17),o="undefined"!=typeof Reflect&&Reflect.defineProperty?Reflect.defineProperty:Object.defineProperty;e.exports=function(e,t,n){if(!r(e)&&"function"!=typeof e&&!Array.isArray(e))throw new TypeError("expected an object, function, or array");if("string"!=typeof t)throw new TypeError('expected "key" to be a string');return i(n)?(o(e,t,n),e):(o(e,t,{configurable:!0,enumerable:!1,writable:!0,value:n}),e)}},function(e,t){var n=Object.prototype.toString;function r(e){return e.constructor?e.constructor.name:null}e.exports=function(e){if(void 0===e)return"undefined";if(null===e)return"null";var t=typeof e;if("boolean"===t)return"boolean";if("string"===t)return"string";if("number"===t)return"number";if("symbol"===t)return"symbol";if("function"===t)return"GeneratorFunction"===r(e)?"generatorfunction":"function";if(function(e){return Array.isArray?Array.isArray(e):e instanceof Array}(e))return"array";if(function(e){if(e.constructor&&"function"==typeof e.constructor.isBuffer)return e.constructor.isBuffer(e);return!1}(e))return"buffer";if(function(e){try{if("number"==typeof e.length&&"function"==typeof e.callee)return!0}catch(e){if(-1!==e.message.indexOf("callee"))return!0}return!1}(e))return"arguments";if(function(e){return e instanceof Date||"function"==typeof e.toDateString&&"function"==typeof e.getDate&&"function"==typeof e.setDate}(e))return"date";if(function(e){return e instanceof Error||"string"==typeof e.message&&e.constructor&&"number"==typeof e.constructor.stackTraceLimit}(e))return"error";if(function(e){return e instanceof RegExp||"string"==typeof e.flags&&"boolean"==typeof e.ignoreCase&&"boolean"==typeof e.multiline&&"boolean"==typeof e.global}(e))return"regexp";switch(r(e)){case"Symbol":return"symbol";case"Promise":return"promise";case"WeakMap":return"weakmap";case"WeakSet":return"weakset";case"Map":return"map";case"Set":return"set";case"Int8Array":return"int8array";case"Uint8Array":return"uint8array";case"Uint8ClampedArray":return"uint8clampedarray";case"Int16Array":return"int16array";case"Uint16Array":return"uint16array";case"Int32Array":return"int32array";case"Uint32Array":return"uint32array";case"Float32Array":return"float32array";case"Float64Array":return"float64array"}if(function(e){return"function"==typeof e.throw&&"function"==typeof e.return&&"function"==typeof e.next}(e))return"generator";switch(t=n.call(e)){case"[object Object]":return"object";case"[object Map Iterator]":return"mapiterator";case"[object Set Iterator]":return"setiterator";case"[object String Iterator]":return"stringiterator";case"[object Array Iterator]":return"arrayiterator"}return t.slice(8,-1).toLowerCase().replace(/\s/g,"")}},function(e,t,n){"use strict";
/*!
 * is-accessor-descriptor <https://github.com/jonschlinkert/is-accessor-descriptor>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var r=n(153),i={get:"function",set:"function",configurable:"boolean",enumerable:"boolean"};function o(e,t){return{}.hasOwnProperty.call(e,t)}e.exports=function(e,t){if("string"==typeof t)return void 0!==Object.getOwnPropertyDescriptor(e,t);if("object"!==r(e))return!1;if(o(e,"value")||o(e,"writable"))return!1;if(!o(e,"get")||"function"!=typeof e.get)return!1;if(o(e,"set")&&"function"!=typeof e[n]&&void 0!==e[n])return!1;for(var n in e)if(i.hasOwnProperty(n)&&r(e[n])!==i[n]&&void 0!==e[n])return!1;return!0}},function(e,t){var n=Object.prototype.toString;function r(e){return e.constructor?e.constructor.name:null}e.exports=function(e){if(void 0===e)return"undefined";if(null===e)return"null";var t=typeof e;if("boolean"===t)return"boolean";if("string"===t)return"string";if("number"===t)return"number";if("symbol"===t)return"symbol";if("function"===t)return"GeneratorFunction"===r(e)?"generatorfunction":"function";if(function(e){return Array.isArray?Array.isArray(e):e instanceof Array}(e))return"array";if(function(e){if(e.constructor&&"function"==typeof e.constructor.isBuffer)return e.constructor.isBuffer(e);return!1}(e))return"buffer";if(function(e){try{if("number"==typeof e.length&&"function"==typeof e.callee)return!0}catch(e){if(-1!==e.message.indexOf("callee"))return!0}return!1}(e))return"arguments";if(function(e){return e instanceof Date||"function"==typeof e.toDateString&&"function"==typeof e.getDate&&"function"==typeof e.setDate}(e))return"date";if(function(e){return e instanceof Error||"string"==typeof e.message&&e.constructor&&"number"==typeof e.constructor.stackTraceLimit}(e))return"error";if(function(e){return e instanceof RegExp||"string"==typeof e.flags&&"boolean"==typeof e.ignoreCase&&"boolean"==typeof e.multiline&&"boolean"==typeof e.global}(e))return"regexp";switch(r(e)){case"Symbol":return"symbol";case"Promise":return"promise";case"WeakMap":return"weakmap";case"WeakSet":return"weakset";case"Map":return"map";case"Set":return"set";case"Int8Array":return"int8array";case"Uint8Array":return"uint8array";case"Uint8ClampedArray":return"uint8clampedarray";case"Int16Array":return"int16array";case"Uint16Array":return"uint16array";case"Int32Array":return"int32array";case"Uint32Array":return"uint32array";case"Float32Array":return"float32array";case"Float64Array":return"float64array"}if(function(e){return"function"==typeof e.throw&&"function"==typeof e.return&&"function"==typeof e.next}(e))return"generator";switch(t=n.call(e)){case"[object Object]":return"object";case"[object Map Iterator]":return"mapiterator";case"[object Set Iterator]":return"setiterator";case"[object String Iterator]":return"stringiterator";case"[object Array Iterator]":return"arrayiterator"}return t.slice(8,-1).toLowerCase().replace(/\s/g,"")}},function(e,t,n){"use strict";
/*!
 * is-data-descriptor <https://github.com/jonschlinkert/is-data-descriptor>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var r=n(155);e.exports=function(e,t){var n={configurable:"boolean",enumerable:"boolean",writable:"boolean"};if("object"!==r(e))return!1;if("string"==typeof t)return void 0!==Object.getOwnPropertyDescriptor(e,t);if(!("value"in e||"writable"in e))return!1;for(var i in e)if("value"!==i&&n.hasOwnProperty(i)&&r(e[i])!==n[i]&&void 0!==e[i])return!1;return!0}},function(e,t){var n=Object.prototype.toString;function r(e){return e.constructor?e.constructor.name:null}e.exports=function(e){if(void 0===e)return"undefined";if(null===e)return"null";var t=typeof e;if("boolean"===t)return"boolean";if("string"===t)return"string";if("number"===t)return"number";if("symbol"===t)return"symbol";if("function"===t)return"GeneratorFunction"===r(e)?"generatorfunction":"function";if(function(e){return Array.isArray?Array.isArray(e):e instanceof Array}(e))return"array";if(function(e){if(e.constructor&&"function"==typeof e.constructor.isBuffer)return e.constructor.isBuffer(e);return!1}(e))return"buffer";if(function(e){try{if("number"==typeof e.length&&"function"==typeof e.callee)return!0}catch(e){if(-1!==e.message.indexOf("callee"))return!0}return!1}(e))return"arguments";if(function(e){return e instanceof Date||"function"==typeof e.toDateString&&"function"==typeof e.getDate&&"function"==typeof e.setDate}(e))return"date";if(function(e){return e instanceof Error||"string"==typeof e.message&&e.constructor&&"number"==typeof e.constructor.stackTraceLimit}(e))return"error";if(function(e){return e instanceof RegExp||"string"==typeof e.flags&&"boolean"==typeof e.ignoreCase&&"boolean"==typeof e.multiline&&"boolean"==typeof e.global}(e))return"regexp";switch(r(e)){case"Symbol":return"symbol";case"Promise":return"promise";case"WeakMap":return"weakmap";case"WeakSet":return"weakset";case"Map":return"map";case"Set":return"set";case"Int8Array":return"int8array";case"Uint8Array":return"uint8array";case"Uint8ClampedArray":return"uint8clampedarray";case"Int16Array":return"int16array";case"Uint16Array":return"uint16array";case"Int32Array":return"int32array";case"Uint32Array":return"uint32array";case"Float32Array":return"float32array";case"Float64Array":return"float64array"}if(function(e){return"function"==typeof e.throw&&"function"==typeof e.return&&"function"==typeof e.next}(e))return"generator";switch(t=n.call(e)){case"[object Object]":return"object";case"[object Map Iterator]":return"mapiterator";case"[object Set Iterator]":return"setiterator";case"[object String Iterator]":return"stringiterator";case"[object Array Iterator]":return"arrayiterator"}return t.slice(8,-1).toLowerCase().replace(/\s/g,"")}},function(e,t,n){"use strict";var r=n(157),i=n(23);function o(e,t){for(var n in t)u(t,n)&&(e[n]=t[n])}function s(e){return e&&"string"==typeof e}function a(e){var t={};for(var n in e)t[n]=e[n];return t}function c(e){return e&&"object"==typeof e||r(e)}function u(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=Object.assign||function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");c(e)||(e={});for(var t=1;t<arguments.length;t++){var n=arguments[t];s(n)&&(n=a(n)),c(n)&&(o(e,n),i(e,n))}return e}},function(e,t,n){"use strict";
/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var r=n(14);e.exports=function(e){return r(e)||"function"==typeof e||Array.isArray(e)}},function(e,t,n){"use strict";var r=n(159),i=n(23);function o(e,t){for(var n in t)u(t,n)&&(e[n]=t[n])}function s(e){return e&&"string"==typeof e}function a(e){var t={};for(var n in e)t[n]=e[n];return t}function c(e){return e&&"object"==typeof e||r(e)}function u(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=Object.assign||function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");c(e)||(e={});for(var t=1;t<arguments.length;t++){var n=arguments[t];s(n)&&(n=a(n)),c(n)&&(o(e,n),i(e,n))}return e}},function(e,t,n){"use strict";
/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var r=n(14);e.exports=function(e){return r(e)||"function"==typeof e||Array.isArray(e)}},function(e,t,n){"use strict";var r=n(161),i=n(23);function o(e,t){for(var n in t)u(t,n)&&(e[n]=t[n])}function s(e){return e&&"string"==typeof e}function a(e){var t={};for(var n in e)t[n]=e[n];return t}function c(e){return e&&"object"==typeof e||r(e)}function u(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=Object.assign||function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");c(e)||(e={});for(var t=1;t<arguments.length;t++){var n=arguments[t];s(n)&&(n=a(n)),c(n)&&(o(e,n),i(e,n))}return e}},function(e,t,n){"use strict";
/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var r=n(14);e.exports=function(e){return r(e)||"function"==typeof e||Array.isArray(e)}},function(e,t,n){"use strict";
/*!
 * arr-flatten <https://github.com/jonschlinkert/arr-flatten>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */e.exports=function(e){return function e(t,n){var r,i=0;var o=t.length;for(;i<o;i++)r=t[i],Array.isArray(r)?e(r,n):n.push(r);return n}(e,[])}},function(e,t,n){"use strict";
/*!
 * fill-range <https://github.com/jonschlinkert/fill-range>
 *
 * Copyright (c) 2014-2015, 2017, Jon Schlinkert.
 * Released under the MIT License.
 */var r=n(3),i=n(46),o=n(8),s=n(67),a=n(164);function c(e,t){if(t.isPadded){var n=String(e),r=n.length,i="";"-"===n.charAt(0)&&(i="-",n=n.slice(1));var o=t.maxLength-r;e=i+s("0",o)+n}return t.stringify?String(e):e}function u(e){return Number(e)||0}function l(e){return/^-?0\d/.test(e)}function h(e){return"string"==typeof e&&1===e.length&&/^\w+$/.test(e)}function f(e){return i(e)&&!/\./.test(e)}e.exports=function(e,t,n,s){if(void 0===e)return[];if(void 0===t||e===t){var p="string"==typeof e;return i(e)&&!u(e)?[p?"0":0]:[e]}"number"!=typeof n&&"string"!=typeof n&&(s=n,n=void 0),"function"==typeof s&&(s={transform:s});var d,g,m=o({step:n},s);if(m.step&&!f(m.step)){if(!0===m.strictRanges)throw new TypeError("expected options.step to be a number");return[]}if(m.isNumber=f(e)&&f(t),!m.isNumber&&(g=t,!f(d=e)&&!h(d)||!f(g)&&!h(g))){if(!0===m.strictRanges)throw new RangeError("invalid range arguments: "+r.inspect([e,t]));return[]}return m.isPadded=l(e)||l(t),m.toString=m.stringify||"string"==typeof m.step||"string"==typeof e||"string"==typeof t||!m.isNumber,m.isPadded&&(m.maxLength=Math.max(String(e).length,String(t).length)),"boolean"==typeof m.optimize&&(m.toRegex=m.optimize),"boolean"==typeof m.makeRe&&(m.toRegex=m.makeRe),function(e,t,n){var r=n.isNumber?u(e):e.charCodeAt(0),i=n.isNumber?u(t):t.charCodeAt(0),o=Math.abs(u(n.step))||1;if(n.toRegex&&1===o)return function(e,t,n,r,i){if(i.isPadded)return a(n,r,i);if(i.isNumber)return a(Math.min(e,t),Math.max(e,t),i);var n=String.fromCharCode(Math.min(e,t)),r=String.fromCharCode(Math.max(e,t));return"["+n+"-"+r+"]"}(r,i,e,t,n);for(var s={greater:[],lesser:[]},l=r<i,h=new Array(Math.round((l?i-r:r-i)/o)),f=0;l?r<=i:r>=i;){var p=n.isNumber?r:String.fromCharCode(r);n.toRegex&&(p>=0||!n.isNumber)?s.greater.push(p):s.lesser.push(Math.abs(p)),n.isPadded&&(p=c(p,n)),n.toString&&(p=String(p)),"function"==typeof n.transform?h[f++]=n.transform(p,r,i,o,f,h,n):h[f++]=p,l?r+=o:r-=o}return!0===n.toRegex?function(e,t,n){var r="",i="";t.greater.length&&(r=t.greater.join("|")),t.lesser.length&&(i="-("+t.lesser.join("|")+")");var o=r&&i?r+"|"+i:r||i;return n.capture?"("+o+")":o}(0,s,n):h}(e,t,m)}},function(e,t,n){"use strict";
/*!
 * to-regex-range <https://github.com/jonschlinkert/to-regex-range>
 *
 * Copyright (c) 2015, 2017, Jon Schlinkert.
 * Released under the MIT License.
 */var r=n(67),i=n(46),o={};function s(e,t,n){if(e===t)return{pattern:String(e),digits:[]};for(var r,i,o=function(e,t){var n=[];for(var r in e)n.push([e[r],t[r]]);return n}(String(e),String(t)),s=o.length,a=-1,c="",u=0;++a<s;){var l=o[a],h=l[0],f=l[1];h===f?c+=h:"0"!==h||"9"!==f?c+="["+(r=h)+((i=f)-r==1?"":"-")+i+"]":u+=1}return u&&(c+=n.shorthand?"\\d":"[0-9]"),{pattern:c,digits:[u]}}function a(e,t,n,r){for(var i,o=function(e,t){e=Number(e);for(var n=1,r=[t=Number(t)],i=+f(e,n);e<=i&&i<=t;)r=l(r,i),i=+f(e,n+=1);var o=1;for(i=p(t+1,o)-1;e<i&&i<=t;)r=l(r,i),i=p(t+1,o+=1)-1;return r.sort(u),r}(e,t),a=o.length,c=-1,h=[],g=e;++c<a;){var y=o[c],b=s(g,y,r),v="";n.isPadded||!i||i.pattern!==b.pattern?(n.isPadded&&(v=m(y,n)),b.string=v+b.pattern+d(b.digits),h.push(b),g=y+1,i=b):(i.digits.length>1&&i.digits.pop(),i.digits.push(b.digits[0]),i.string=i.pattern+d(i.digits),g=y+1)}return h}function c(e,t,n,r,i){for(var o=[],s=0;s<e.length;s++){var a=e[s].string;!1!==i.relaxZeros&&"-"===n&&"0"===a.charAt(0)&&(a="{"===a.charAt(1)?"0*"+a.replace(/^0\{\d+\}/,""):"0*"+a.slice(1)),r||h(t,"string",a)||o.push(n+a),r&&h(t,"string",a)&&o.push(n+a)}return o}function u(e,t){return e>t?1:t>e?-1:0}function l(e,t){return-1===e.indexOf(t)&&e.push(t),e}function h(e,t,n){for(var r=0;r<e.length;r++)if(e[r][t]===n)return!0;return!1}function f(e,t){return String(e).slice(0,-t)+r("9",t)}function p(e,t){return e-e%Math.pow(10,t)}function d(e){var t=e[0],n=e[1]?","+e[1]:"";return n||t&&1!==t?"{"+t+n+"}":""}function g(e){return/^-?(0+)\d/.exec(e)}function m(e,t){if(t.isPadded){var n=Math.abs(t.maxLen-String(e).length);switch(n){case 0:return"";case 1:return"0";default:return"0{"+n+"}"}}return e}e.exports=function(e,t,n){if(!1===i(e))throw new RangeError("toRegexRange: first argument is invalid.");if(void 0===t||e===t)return String(e);if(!1===i(t))throw new RangeError("toRegexRange: second argument is invalid.");n=n||{};var r=e+":"+t+"="+String(n.relaxZeros)+String(n.shorthand)+String(n.capture);if(o.hasOwnProperty(r))return o[r].result;var s=Math.min(e,t),u=Math.max(e,t);if(1===Math.abs(s-u)){var l=e+"|"+t;return n.capture?"("+l+")":l}var h=g(e)||g(t),f=[],p=[],d={min:e,max:t,a:s,b:u};return h&&(d.isPadded=h,d.maxLen=String(d.max).length),s<0&&(p=a(u<0?Math.abs(u):1,Math.abs(s),d,n),s=d.a=0),u>=0&&(f=a(s,u,d,n)),d.negatives=p,d.positives=f,d.result=function(e,t,n){var r=c(e,t,"-",!1,n)||[],i=c(t,e,"",!1,n)||[],o=c(e,t,"-?",!0,n)||[];return r.concat(o).concat(i).join("|")}(p,f,n),n.capture&&f.length+p.length>1&&(d.result="("+d.result+")"),o[r]=d,d.result}},function(e,t,n){"use strict";
/*!
 * repeat-element <https://github.com/jonschlinkert/repeat-element>
 *
 * Copyright (c) 2015-present, Jon Schlinkert.
 * Licensed under the MIT license.
 */e.exports=function(e,t){for(var n=new Array(t),r=0;r<t;r++)n[r]=e;return n}},function(e,t,n){"use strict";var r,i=n(6),o=n(167),s=n(168);function a(e,t,n){if("string"!=typeof t&&(n=t,t=null),o(this,"parent",n),o(this,"isNode",!0),o(this,"expect",null),"string"!=typeof t&&i(e)){r||(r=Object.getOwnPropertyNames(a.prototype));for(var s=Object.keys(e),c=0;c<s.length;c++){var u=s[c];-1===r.indexOf(u)&&(this[u]=e[u])}}else this.type=t,this.val=e}function c(e,t){if(!e)throw new Error(t)}a.isNode=function(e){return s.isNode(e)},a.prototype.define=function(e,t){return o(this,e,t),this},a.prototype.isEmpty=function(e){return s.isEmpty(this,e)},a.prototype.push=function(e){return c(a.isNode(e),"expected node to be an instance of Node"),o(e,"parent",this),this.nodes=this.nodes||[],this.nodes.push(e)},a.prototype.unshift=function(e){return c(a.isNode(e),"expected node to be an instance of Node"),o(e,"parent",this),this.nodes=this.nodes||[],this.nodes.unshift(e)},a.prototype.pop=function(){return this.nodes&&this.nodes.pop()},a.prototype.shift=function(){return this.nodes&&this.nodes.shift()},a.prototype.remove=function(e){c(a.isNode(e),"expected node to be an instance of Node"),this.nodes=this.nodes||[];var t=e.index;return-1!==t?(e.index=-1,this.nodes.splice(t,1)):null},a.prototype.find=function(e){return s.findNode(this.nodes,e)},a.prototype.isType=function(e){return s.isType(this,e)},a.prototype.hasType=function(e){return s.hasType(this,e)},Object.defineProperty(a.prototype,"siblings",{set:function(){throw new Error("node.siblings is a getter and cannot be defined")},get:function(){return this.parent?this.parent.nodes:null}}),Object.defineProperty(a.prototype,"index",{set:function(e){o(this,"idx",e)},get:function(){return Array.isArray(this.siblings)?((-1!==this.idx?this.siblings[this.idx]:null)!==this&&(this.idx=this.siblings.indexOf(this)),this.idx):-1}}),Object.defineProperty(a.prototype,"prev",{set:function(){throw new Error("node.prev is a getter and cannot be defined")},get:function(){return Array.isArray(this.siblings)?this.siblings[this.index-1]||this.parent.prev:null}}),Object.defineProperty(a.prototype,"next",{set:function(){throw new Error("node.next is a getter and cannot be defined")},get:function(){return Array.isArray(this.siblings)?this.siblings[this.index+1]||this.parent.next:null}}),Object.defineProperty(a.prototype,"first",{get:function(){return this.nodes?this.nodes[0]:null}}),Object.defineProperty(a.prototype,"last",{get:function(){return this.nodes?s.last(this.nodes):null}}),Object.defineProperty(a.prototype,"scope",{get:function(){return!0!==this.isScope&&this.parent?this.parent.scope:this}}),e.exports=a},function(e,t,n){"use strict";
/*!
 * define-property <https://github.com/jonschlinkert/define-property>
 *
 * Copyright (c) 2015, 2017, Jon Schlinkert.
 * Released under the MIT License.
 */var r=n(17);e.exports=function(e,t,n){if("object"!=typeof e&&"function"!=typeof e)throw new TypeError("expected an object or function.");if("string"!=typeof t)throw new TypeError("expected `prop` to be a string.");return r(n)&&("set"in n||"get"in n)?Object.defineProperty(e,t,n):Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:!0,value:n})}},function(e,t,n){"use strict";var r=n(35),i=e.exports;function o(e){return"object"===r(e)}function s(e){return"function"==typeof e}function a(e,t,n){return"function"!=typeof e.append?e.emit(t,n):e.append(t,n)}function c(e,t){if(!e)throw new Error(t)}i.isNode=function(e){return"object"===r(e)&&!0===e.isNode},i.noop=function(e){a(this,"",e)},i.identity=function(e){a(this,e.val,e)},i.append=function(e){return function(t){a(this,e,t)}},i.toNoop=function(e,t){t?e.nodes=t:(delete e.nodes,e.type="text",e.val="")},i.visit=function(e,t){return c(i.isNode(e),"expected node to be an instance of Node"),c(s(t),"expected a visitor function"),t(e),e.nodes?i.mapVisit(e,t):e},i.mapVisit=function(e,t){var n;c(i.isNode(e),"expected node to be an instance of Node"),c((n=e.nodes,Array.isArray(n)),"expected node.nodes to be an array"),c(s(t),"expected a visitor function");for(var r=0;r<e.nodes.length;r++)i.visit(e.nodes[r],t);return e},i.addOpen=function(e,t,n,r){if(c(i.isNode(e),"expected node to be an instance of Node"),c(s(t),"expected Node to be a constructor function"),"function"==typeof n&&(r=n,n=""),"function"!=typeof r||r(e)){var o=new t({type:e.type+".open",val:n}),a=e.unshift||e.unshiftNode;return"function"==typeof a?a.call(e,o):i.unshiftNode(e,o),o}},i.addClose=function(e,t,n,r){if(c(i.isNode(e),"expected node to be an instance of Node"),c(s(t),"expected Node to be a constructor function"),"function"==typeof n&&(r=n,n=""),"function"!=typeof r||r(e)){var o=new t({type:e.type+".close",val:n}),a=e.push||e.pushNode;return"function"==typeof a?a.call(e,o):i.pushNode(e,o),o}},i.wrapNodes=function(e,t,n){return c(i.isNode(e),"expected node to be an instance of Node"),c(s(t),"expected Node to be a constructor function"),i.addOpen(e,t,n),i.addClose(e,t,n),e},i.pushNode=function(e,t){return c(i.isNode(e),"expected parent node to be an instance of Node"),c(i.isNode(t),"expected node to be an instance of Node"),t.define("parent",e),e.nodes=e.nodes||[],e.nodes.push(t),t},i.unshiftNode=function(e,t){c(i.isNode(e),"expected parent node to be an instance of Node"),c(i.isNode(t),"expected node to be an instance of Node"),t.define("parent",e),e.nodes=e.nodes||[],e.nodes.unshift(t)},i.popNode=function(e){return c(i.isNode(e),"expected node to be an instance of Node"),"function"==typeof e.pop?e.pop():e.nodes&&e.nodes.pop()},i.shiftNode=function(e){return c(i.isNode(e),"expected node to be an instance of Node"),"function"==typeof e.shift?e.shift():e.nodes&&e.nodes.shift()},i.removeNode=function(e,t){if(c(i.isNode(e),"expected parent.node to be an instance of Node"),c(i.isNode(t),"expected node to be an instance of Node"),!e.nodes)return null;if("function"==typeof e.remove)return e.remove(t);var n=e.nodes.indexOf(t);return-1!==n?e.nodes.splice(n,1):void 0},i.isType=function(e,t){switch(c(i.isNode(e),"expected node to be an instance of Node"),r(t)){case"array":for(var n=t.slice(),o=0;o<n.length;o++)if(i.isType(e,n[o]))return!0;return!1;case"string":return e.type===t;case"regexp":return t.test(e.type);default:throw new TypeError('expected "type" to be an array, string or regexp')}},i.hasType=function(e,t){if(c(i.isNode(e),"expected node to be an instance of Node"),!Array.isArray(e.nodes))return!1;for(var n=0;n<e.nodes.length;n++)if(i.isType(e.nodes[n],t))return!0;return!1},i.firstOfType=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(i.isType(r,t))return r}},i.findNode=function(e,t){return Array.isArray(e)?"number"==typeof t?e[t]:i.firstOfType(e,t):null},i.isOpen=function(e){return c(i.isNode(e),"expected node to be an instance of Node"),".open"===e.type.slice(-5)},i.isClose=function(e){return c(i.isNode(e),"expected node to be an instance of Node"),".close"===e.type.slice(-6)},i.hasOpen=function(e){c(i.isNode(e),"expected node to be an instance of Node");var t=e.first||e.nodes?e.nodes[0]:null;return!!i.isNode(t)&&t.type===e.type+".open"},i.hasClose=function(e){c(i.isNode(e),"expected node to be an instance of Node");var t=e.last||e.nodes?e.nodes[e.nodes.length-1]:null;return!!i.isNode(t)&&t.type===e.type+".close"},i.hasOpenAndClose=function(e){return i.hasOpen(e)&&i.hasClose(e)},i.addType=function(e,t){c(i.isNode(t),"expected node to be an instance of Node"),c(o(e),"expected state to be an object");var n=t.parent?t.parent.type:t.type.replace(/\.open$/,"");e.hasOwnProperty("inside")||(e.inside={}),e.inside.hasOwnProperty(n)||(e.inside[n]=[]);var r=e.inside[n];return r.push(t),r},i.removeType=function(e,t){c(i.isNode(t),"expected node to be an instance of Node"),c(o(e),"expected state to be an object");var n=t.parent?t.parent.type:t.type.replace(/\.close$/,"");if(e.inside.hasOwnProperty(n))return e.inside[n].pop()},i.isEmpty=function(e,t){if(c(i.isNode(e),"expected node to be an instance of Node"),!Array.isArray(e.nodes))return"text"!==e.type||("function"==typeof t?t(e,e.parent):!i.trim(e.val));for(var n=0;n<e.nodes.length;n++){var r=e.nodes[n];if(!i.isOpen(r)&&!i.isClose(r)&&!i.isEmpty(r,t))return!1}return!0},i.isInsideType=function(e,t){return c(o(e),"expected state to be an object"),c("string"==typeof t,"expected type to be a string"),!!e.hasOwnProperty("inside")&&(!!e.inside.hasOwnProperty(t)&&e.inside[t].length>0)},i.isInside=function(e,t,n){if(c(i.isNode(t),"expected node to be an instance of Node"),c(o(e),"expected state to be an object"),Array.isArray(n)){for(var s=0;s<n.length;s++)if(i.isInside(e,t,n[s]))return!0;return!1}var a=t.parent;if("string"==typeof n)return a&&a.type===n||i.isInsideType(e,n);if("regexp"===r(n)){if(a&&a.type&&n.test(a.type))return!0;for(var u=Object.keys(e.inside),l=u.length,h=-1;++h<l;){var f=u[h],p=e.inside[f];if(Array.isArray(p)&&0!==p.length&&n.test(f))return!0}}return!1},i.last=function(e,t){return e[e.length-(t||1)]},i.arrayify=function(e){return"string"==typeof e&&""!==e?[e]:Array.isArray(e)?e:[]},i.stringify=function(e){return i.arrayify(e).join(",")},i.trim=function(e){return"string"==typeof e?e.trim():""}},function(e,t,n){"use strict";var r=n(8),i=n(26),o=n(65),s=n(68),a=n(34);function c(e){this.options=r({},e)}c.prototype.init=function(e){if(!this.isInitialized){this.isInitialized=!0;var t=a.createOptions({},this.options,e);this.snapdragon=this.options.snapdragon||new i(t),this.compiler=this.snapdragon.compiler,this.parser=this.snapdragon.parser,o(this.snapdragon,t),s(this.snapdragon,t),a.define(this.snapdragon,"parse",function(e,t){var n=i.prototype.parse.apply(this,arguments);this.parser.ast.input=e;for(var r=this.parser.stack;r.length;)o({type:"brace.close",val:""},r.pop());function o(e,t){a.define(e,"parent",t),t.nodes.push(e)}return a.define(n,"parser",this.parser),n})}},c.prototype.parse=function(e,t){return e&&"object"==typeof e&&e.nodes?e:(this.init(t),this.snapdragon.parse(e,t))},c.prototype.compile=function(e,t){return"string"==typeof e?e=this.parse(e,t):this.init(t),this.snapdragon.compile(e,t)},c.prototype.expand=function(e){var t=this.parse(e,{expand:!0});return this.compile(t,{expand:!0})},c.prototype.optimize=function(e){var t=this.parse(e,{optimize:!0});return this.compile(t,{optimize:!0})},e.exports=c},function(e,t,n){"use strict";var r=n(3),i=n(171),o=n(172),s=n(69),a=n(6),c=n(185),u=n(188),l=n(189);function h(e){var t=e?o.namespace(e):o,n=[];function h(e,n){if(!(this instanceof h))return new h(e,n);t.call(this,e),this.is("base"),this.initBase(e,n)}return r.inherits(h,t),s(h),h.prototype.initBase=function(t,r){this.options=c({},this.options,r),this.cache=this.cache||{},this.define("registered",{}),e&&(this[e]={}),this.define("_callbacks",this._callbacks),a(t)&&this.visit("set",t),h.run(this,"use",n)},h.prototype.is=function(e){if("string"!=typeof e)throw new TypeError("expected name to be a string");return this.define("is"+u(e),!0),this.define("_name",e),this.define("_appname",e),this},h.prototype.isRegistered=function(e,t){return!!this.registered.hasOwnProperty(e)||(!1!==t&&(this.registered[e]=!0,this.emit("plugin",e)),!1)},h.prototype.use=function(e){return e.call(this,this),this},h.prototype.define=function(e,t){return a(e)?this.visit("define",e):(i(this,e,t),this)},h.prototype.mixin=function(e,t){return h.prototype[e]=t,this},h.prototype.mixins=h.prototype.mixins||[],Object.defineProperty(h.prototype,"base",{configurable:!0,get:function(){return this.parent?this.parent.base:this}}),i(h,"use",function(e){return n.push(e),h}),i(h,"run",function(e,t,n){for(var r=n.length,i=0;r--;)e[t](n[i++]);return h}),i(h,"extend",l.extend(h,function(e,t){return e.prototype.mixins=e.prototype.mixins||[],i(e,"mixin",function(t){var n=t(e.prototype,e);return"function"==typeof n&&e.prototype.mixins.push(n),e}),i(e,"mixins",function(t){return h.run(t,"mixin",e.prototype.mixins),e}),e.prototype.mixin=function(t,n){return e.prototype[t]=n,this},h})),i(h,"mixin",function(e){var t=e(h.prototype,h);return"function"==typeof t&&h.prototype.mixins.push(t),h}),i(h,"mixins",function(e){return h.run(e,"mixin",h.prototype.mixins),h}),i(h,"inherit",l.inherit),i(h,"bubble",l.bubble),h}e.exports=h(),e.exports.namespace=h},function(e,t,n){"use strict";
/*!
 * define-property <https://github.com/jonschlinkert/define-property>
 *
 * Copyright (c) 2015, 2017, Jon Schlinkert.
 * Released under the MIT License.
 */var r=n(17);e.exports=function(e,t,n){if("object"!=typeof e&&"function"!=typeof e)throw new TypeError("expected an object or function.");if("string"!=typeof t)throw new TypeError("expected `prop` to be a string.");return r(n)&&("set"in n||"get"in n)?Object.defineProperty(e,t,n):Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:!0,value:n})}},function(e,t,n){"use strict";var r=n(6),i=n(69),o=n(173),s=n(71),a=n(175),c=n(177),u=n(37),l=(n(181),n(184));function h(e){function t(t){e&&(this[e]={}),t&&this.set(t)}return i(t.prototype),t.prototype.set=function(t,n){return Array.isArray(t)&&2===arguments.length&&(t=s(t)),r(t)||Array.isArray(t)?this.visit("set",t):(l(e?this[e]:this,t,n),this.emit("set",t,n)),this},t.prototype.union=function(t,n){Array.isArray(t)&&2===arguments.length&&(t=s(t));var r=e?this[e]:this;return a(r,t,function(e){return e?Array.isArray(e)?e:[e]:[]}(n)),this.emit("union",n),this},t.prototype.get=function(t){t=s(arguments);var n=e?this[e]:this,r=u(n,t);return this.emit("get",t,r),r},t.prototype.has=function(t){t=s(arguments);var n=e?this[e]:this,r=void 0!==u(n,t);return this.emit("has",t,r),r},t.prototype.del=function(t){return Array.isArray(t)?this.visit("del",t):(c(e?this[e]:this,t),this.emit("del",t)),this},t.prototype.clear=function(){e&&(this[e]={})},t.prototype.visit=function(e,t){return o(this,e,t),this},t}e.exports=h(),e.exports.namespace=h},function(e,t,n){"use strict";
/*!
 * collection-visit <https://github.com/jonschlinkert/collection-visit>
 *
 * Copyright (c) 2015, 2017, Jon Schlinkert.
 * Released under the MIT License.
 */var r=n(70),i=n(174);e.exports=function(e,t,n){var o;if("string"==typeof n&&t in e){var s=[].slice.call(arguments,2);o=e[t].apply(e,s)}else o=Array.isArray(n)?i.apply(null,arguments):r.apply(null,arguments);return void 0!==o?o:e}},function(e,t,n){"use strict";var r=n(3),i=n(70);function o(e){return e&&("function"==typeof e||!Array.isArray(e)&&"object"==typeof e)}e.exports=function(e,t,n){if(o(n))return i.apply(null,arguments);if(!Array.isArray(n))throw new TypeError("expected an array: "+r.inspect(n));for(var s=[].slice.call(arguments,3),a=0;a<n.length;a++){var c=n[a];o(c)?i.apply(null,[e,t,c].concat(s)):e[t].apply(e,[c].concat(s))}}},function(e,t,n){"use strict";var r=n(33),i=n(72),o=n(37),s=n(176);function a(e){return null==e?[]:Array.isArray(e)?e:[e]}e.exports=function(e,t,n){if(!r(e))throw new TypeError("union-value expects the first argument to be an object.");if("string"!=typeof t)throw new TypeError("union-value expects `prop` to be a string.");var c=a(o(e,t));return s(e,t,i(c,a(n))),e}},function(e,t,n){"use strict";
/*!
 * set-value <https://github.com/jonschlinkert/set-value>
 *
 * Copyright (c) 2014-2015, 2017, Jon Schlinkert.
 * Released under the MIT License.
 */var r=n(71),i=n(8),o=n(14),s=n(33);e.exports=function(e,t,n){if(!s(e))return e;if(Array.isArray(t)&&(t=r(t)),"string"!=typeof t)return e;for(var a,c=t.split("."),u=c.length,l=-1,h=e;++l<u;){for(var f=c[l];"\\"===f[f.length-1];)f=f.slice(0,-1)+"."+c[++l];if(l===u-1){a=f;break}s(e[f])||(e[f]={}),e=e[f]}return e.hasOwnProperty(a)&&s(e[a])&&o(n)?i(e[a],n):e[a]=n,h}},function(e,t,n){"use strict";
/*!
 * unset-value <https://github.com/jonschlinkert/unset-value>
 *
 * Copyright (c) 2015, 2017, Jon Schlinkert.
 * Released under the MIT License.
 */var r=n(6),i=n(178);e.exports=function(e,t){if(!r(e))throw new TypeError("expected an object.");if(e.hasOwnProperty(t))return delete e[t],!0;if(i(e,t)){for(var n=t.split("."),o=n.pop();n.length&&"\\"===n[n.length-1].slice(-1);)o=n.pop().slice(0,-1)+"."+o;for(;n.length;)e=e[t=n.shift()];return delete e[o]}return!0}},function(e,t,n){"use strict";
/*!
 * has-value <https://github.com/jonschlinkert/has-value>
 *
 * Copyright (c) 2014-2016, Jon Schlinkert.
 * Licensed under the MIT License.
 */var r=n(179),i=n(180),o=n(37);e.exports=function(e,t,n){return r(e)?i(o(e,t),n):i(e,t)}},function(e,t,n){"use strict";
/*!
 * isobject <https://github.com/jonschlinkert/isobject>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var r=n(73);e.exports=function(e){return null!=e&&"object"==typeof e&&!1===r(e)}},function(e,t,n){"use strict";
/*!
 * has-values <https://github.com/jonschlinkert/has-values>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */e.exports=function(e,t){if(null==e)return!1;if("boolean"==typeof e)return!0;if("number"==typeof e)return 0!==e||!0!==t;if(void 0!==e.length)return 0!==e.length;for(var n in e)if(e.hasOwnProperty(n))return!0;return!1}},function(e,t,n){"use strict";
/*!
 * has-value <https://github.com/jonschlinkert/has-value>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Licensed under the MIT License.
 */var r=n(6),i=n(182),o=n(37);e.exports=function(e,t){return i(r(e)&&t?o(e,t):e)}},function(e,t,n){"use strict";
/*!
 * has-values <https://github.com/jonschlinkert/has-values>
 *
 * Copyright (c) 2014-2015, 2017, Jon Schlinkert.
 * Released under the MIT License.
 */var r=n(183),i=n(46);e.exports=function e(t){if(i(t))return!0;switch(r(t)){case"null":case"boolean":case"function":return!0;case"string":case"arguments":return 0!==t.length;case"error":return""!==t.message;case"array":var n=t.length;if(0===n)return!1;for(var o=0;o<n;o++)if(e(t[o]))return!0;return!1;case"file":case"map":case"set":return 0!==t.size;case"object":var s=Object.keys(t);if(0===s.length)return!1;for(o=0;o<s.length;o++){if(e(t[s[o]]))return!0}return!1;default:return!1}}},function(e,t,n){var r=n(36),i=Object.prototype.toString;e.exports=function(e){if(void 0===e)return"undefined";if(null===e)return"null";if(!0===e||!1===e||e instanceof Boolean)return"boolean";if("string"==typeof e||e instanceof String)return"string";if("number"==typeof e||e instanceof Number)return"number";if("function"==typeof e||e instanceof Function)return"function";if(void 0!==Array.isArray&&Array.isArray(e))return"array";if(e instanceof RegExp)return"regexp";if(e instanceof Date)return"date";var t=i.call(e);return"[object RegExp]"===t?"regexp":"[object Date]"===t?"date":"[object Arguments]"===t?"arguments":"[object Error]"===t?"error":"[object Promise]"===t?"promise":r(e)?"buffer":"[object Set]"===t?"set":"[object WeakSet]"===t?"weakset":"[object Map]"===t?"map":"[object WeakMap]"===t?"weakmap":"[object Symbol]"===t?"symbol":"[object Int8Array]"===t?"int8array":"[object Uint8Array]"===t?"uint8array":"[object Uint8ClampedArray]"===t?"uint8clampedarray":"[object Int16Array]"===t?"int16array":"[object Uint16Array]"===t?"uint16array":"[object Int32Array]"===t?"int32array":"[object Uint32Array]"===t?"uint32array":"[object Float32Array]"===t?"float32array":"[object Float64Array]"===t?"float64array":"object"}},function(e,t,n){"use strict";
/*!
 * set-value <https://github.com/jonschlinkert/set-value>
 *
 * Copyright (c) 2014-2015, 2017, Jon Schlinkert.
 * Released under the MIT License.
 */var r=n(66),i=n(8),o=n(14),s=n(33);e.exports=function(e,t,n){if(!s(e))return e;if(Array.isArray(t)&&(t=[].concat.apply([],t).join(".")),"string"!=typeof t)return e;for(var a=r(t,{sep:".",brackets:!0}),c=a.length,u=-1,l=e;++u<c;){var h=a[u];u===c-1?o(l[h])&&o(n)?l[h]=i({},l[h],n):l[h]=n:(s(l[h])||(l[h]={}),l=l[h])}return e}},function(e,t,n){"use strict";var r=n(186),i=n(187);function o(e,t){for(var n=arguments.length,r=0;++r<n;){var o=arguments[r];a(o)&&i(o,s,e)}return e}function s(e,t){if("__proto__"!==t){var n=this[t];a(e)&&a(n)?o(n,e):this[t]=e}}function a(e){return r(e)&&!Array.isArray(e)}e.exports=o},function(e,t,n){"use strict";
/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var r=n(14);e.exports=function(e){return r(e)||"function"==typeof e||Array.isArray(e)}},function(e,t,n){"use strict";
/*!
 * for-in <https://github.com/jonschlinkert/for-in>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */e.exports=function(e,t,n){for(var r in e)if(!1===t.call(n,e[r],r,e))break}},function(e,t){e.exports=
/*!
 * pascalcase <https://github.com/jonschlinkert/pascalcase>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */
function(e){if("string"!=typeof e)throw new TypeError("expected a string.");return 1===(e=e.replace(/([A-Z])/g," $1")).length?e.toUpperCase():(e=(e=e.replace(/^[\W_]+|[\W_]+$/g,"").toLowerCase()).charAt(0).toUpperCase()+e.slice(1)).replace(/[\W_]+(\w|$)/g,function(e,t){return t.toUpperCase()})}},function(e,t,n){"use strict";n(3);var r=n(72),i=n(10),o=n(196),s=n(6),a=e.exports;a.isObject=function(e){return s(e)||"function"==typeof e},a.has=function(e,t){var n=(t=a.arrayify(t)).length;if(a.isObject(e)){for(var r in e)if(t.indexOf(r)>-1)return!0;var i=a.nativeKeys(e);return a.has(i,t)}if(Array.isArray(e)){for(var o=e;n--;)if(o.indexOf(t[n])>-1)return!0;return!1}throw new TypeError("expected an array or object.")},a.hasAll=function(e,t){for(var n=(t=a.arrayify(t)).length;n--;)if(!a.has(e,t[n]))return!1;return!0},a.arrayify=function(e){return e?Array.isArray(e)?e:[e]:[]},a.noop=function(){},a.identity=function(e){return e},a.hasConstructor=function(e){return a.isObject(e)&&void 0!==e.constructor},a.nativeKeys=function(e){if(!a.hasConstructor(e))return[];var t=Object.getOwnPropertyNames(e);return"caller"in e&&t.push("caller"),t},a.getDescriptor=function(e,t){if(!a.isObject(e))throw new TypeError("expected an object.");if("string"!=typeof t)throw new TypeError("expected key to be a string.");return Object.getOwnPropertyDescriptor(e,t)},a.copyDescriptor=function(e,t,n){if(!a.isObject(e))throw new TypeError("expected receiving object to be an object.");if(!a.isObject(t))throw new TypeError("expected providing object to be an object.");if("string"!=typeof n)throw new TypeError("expected name to be a string.");var r=a.getDescriptor(t,n);r&&Object.defineProperty(e,n,r)},a.copy=function(e,t,n){if(!a.isObject(e))throw new TypeError("expected receiving object to be an object.");if(!a.isObject(t))throw new TypeError("expected providing object to be an object.");var r,o=Object.getOwnPropertyNames(t),s=Object.keys(t),c=o.length;for(n=a.arrayify(n);c--;)r=o[c],a.has(s,r)?i(e,r,t[r]):r in e||a.has(n,r)||a.copyDescriptor(e,t,r)},a.inherit=function(e,t,n){if(!a.isObject(e))throw new TypeError("expected receiving object to be an object.");if(!a.isObject(t))throw new TypeError("expected providing object to be an object.");var r=[];for(var i in t)r.push(i),e[i]=t[i];r=r.concat(a.arrayify(n));var o=t.prototype||t,s=e.prototype||e;a.copy(s,o,r)},a.extend=function(){return o.apply(null,arguments)},a.bubble=function(e,t){t=t||[],e.bubble=function(n,i){Array.isArray(i)&&(t=r([],t,i));for(var o=t.length,s=-1;++s<o;){var c=t[s];e.on(c,n.emit.bind(n,c))}a.bubble(n,t)}}},function(e,t,n){"use strict";
/*!
 * is-descriptor <https://github.com/jonschlinkert/is-descriptor>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var r=n(191),i=n(192),o=n(194);e.exports=function(e,t){return"object"===r(e)&&("get"in e?i(e,t):o(e,t))}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){var t=typeof e;return"undefined"===t?"undefined":null===e?"null":!0===e||!1===e||e instanceof Boolean?"boolean":"string"===t||e instanceof String?"string":"number"===t||e instanceof Number?"number":"function"===t||e instanceof Function?void 0!==e.constructor.name&&"Generator"===e.constructor.name.slice(0,9)?"generatorfunction":"function":void 0!==Array.isArray&&Array.isArray(e)?"array":e instanceof RegExp?"regexp":e instanceof Date?"date":"[object RegExp]"===(t=n.call(e))?"regexp":"[object Date]"===t?"date":"[object Arguments]"===t?"arguments":"[object Error]"===t?"error":"[object Promise]"===t?"promise":function(e){return e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}(e)?"buffer":"[object Set]"===t?"set":"[object WeakSet]"===t?"weakset":"[object Map]"===t?"map":"[object WeakMap]"===t?"weakmap":"[object Symbol]"===t?"symbol":"[object Map Iterator]"===t?"mapiterator":"[object Set Iterator]"===t?"setiterator":"[object String Iterator]"===t?"stringiterator":"[object Array Iterator]"===t?"arrayiterator":"[object Int8Array]"===t?"int8array":"[object Uint8Array]"===t?"uint8array":"[object Uint8ClampedArray]"===t?"uint8clampedarray":"[object Int16Array]"===t?"int16array":"[object Uint16Array]"===t?"uint16array":"[object Int32Array]"===t?"int32array":"[object Uint32Array]"===t?"uint32array":"[object Float32Array]"===t?"float32array":"[object Float64Array]"===t?"float64array":"object"}},function(e,t,n){"use strict";
/*!
 * is-accessor-descriptor <https://github.com/jonschlinkert/is-accessor-descriptor>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var r=n(193),i={get:"function",set:"function",configurable:"boolean",enumerable:"boolean"};function o(e,t){return{}.hasOwnProperty.call(e,t)}e.exports=function(e,t){if("string"==typeof t)return void 0!==Object.getOwnPropertyDescriptor(e,t);if("object"!==r(e))return!1;if(o(e,"value")||o(e,"writable"))return!1;if(!o(e,"get")||"function"!=typeof e.get)return!1;if(o(e,"set")&&"function"!=typeof e[n]&&void 0!==e[n])return!1;for(var n in e)if(i.hasOwnProperty(n)&&r(e[n])!==i[n]&&void 0!==e[n])return!1;return!0}},function(e,t,n){var r=n(36),i=Object.prototype.toString;e.exports=function(e){if(void 0===e)return"undefined";if(null===e)return"null";if(!0===e||!1===e||e instanceof Boolean)return"boolean";if("string"==typeof e||e instanceof String)return"string";if("number"==typeof e||e instanceof Number)return"number";if("function"==typeof e||e instanceof Function)return"function";if(void 0!==Array.isArray&&Array.isArray(e))return"array";if(e instanceof RegExp)return"regexp";if(e instanceof Date)return"date";var t=i.call(e);return"[object RegExp]"===t?"regexp":"[object Date]"===t?"date":"[object Arguments]"===t?"arguments":"[object Error]"===t?"error":r(e)?"buffer":"[object Set]"===t?"set":"[object WeakSet]"===t?"weakset":"[object Map]"===t?"map":"[object WeakMap]"===t?"weakmap":"[object Symbol]"===t?"symbol":"[object Int8Array]"===t?"int8array":"[object Uint8Array]"===t?"uint8array":"[object Uint8ClampedArray]"===t?"uint8clampedarray":"[object Int16Array]"===t?"int16array":"[object Uint16Array]"===t?"uint16array":"[object Int32Array]"===t?"int32array":"[object Uint32Array]"===t?"uint32array":"[object Float32Array]"===t?"float32array":"[object Float64Array]"===t?"float64array":"object"}},function(e,t,n){"use strict";
/*!
 * is-data-descriptor <https://github.com/jonschlinkert/is-data-descriptor>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var r=n(195),i={configurable:"boolean",enumerable:"boolean",writable:"boolean"};e.exports=function(e,t){if("object"!==r(e))return!1;if("string"==typeof t)return void 0!==Object.getOwnPropertyDescriptor(e,t);if(!("value"in e||"writable"in e))return!1;for(var n in e)if("value"!==n&&i.hasOwnProperty(n)&&r(e[n])!==i[n]&&void 0!==e[n])return!1;return!0}},function(e,t,n){var r=n(36),i=Object.prototype.toString;e.exports=function(e){if(void 0===e)return"undefined";if(null===e)return"null";if(!0===e||!1===e||e instanceof Boolean)return"boolean";if("string"==typeof e||e instanceof String)return"string";if("number"==typeof e||e instanceof Number)return"number";if("function"==typeof e||e instanceof Function)return"function";if(void 0!==Array.isArray&&Array.isArray(e))return"array";if(e instanceof RegExp)return"regexp";if(e instanceof Date)return"date";var t=i.call(e);return"[object RegExp]"===t?"regexp":"[object Date]"===t?"date":"[object Arguments]"===t?"arguments":"[object Error]"===t?"error":r(e)?"buffer":"[object Set]"===t?"set":"[object WeakSet]"===t?"weakset":"[object Map]"===t?"map":"[object WeakMap]"===t?"weakmap":"[object Symbol]"===t?"symbol":"[object Int8Array]"===t?"int8array":"[object Uint8Array]"===t?"uint8array":"[object Uint8ClampedArray]"===t?"uint8clampedarray":"[object Int16Array]"===t?"int16array":"[object Uint16Array]"===t?"uint16array":"[object Int32Array]"===t?"int32array":"[object Uint32Array]"===t?"uint32array":"[object Float32Array]"===t?"float32array":"[object Float64Array]"===t?"float64array":"object"}},function(e,t,n){"use strict";
/*!
 * static-extend <https://github.com/jonschlinkert/static-extend>
 *
 * Copyright (c) 2016, Jon Schlinkert.
 * Licensed under the MIT License.
 */var r=n(197),i=n(10),o=n(3);e.exports=function e(t,n){if("function"!=typeof t)throw new TypeError("expected Parent to be a function.");return function(s,a){if("function"!=typeof s)throw new TypeError("expected Ctor to be a function.");if(o.inherits(s,t),r(s,t),"object"==typeof a){var c=Object.create(a);for(var u in c)s.prototype[u]=c[u]}i(s.prototype,"_parent_",{configurable:!0,set:function(){},get:function(){return t.prototype}}),"function"==typeof n&&n(s,t),s.extend=e(s,n)}}},function(e,t,n){"use strict";var r=n(35),i=n(198),o=n(10);function s(e){return"object"===r(e)||"function"==typeof e}function a(e,t){var n=(t=c(t)).length;if(s(e)){for(var r in e)if(t.indexOf(r)>-1)return!0;return a(u(e),t)}if(Array.isArray(e)){for(var i=e;n--;)if(i.indexOf(t[n])>-1)return!0;return!1}throw new TypeError("expected an array or object.")}function c(e){return e?Array.isArray(e)?e:[e]:[]}function u(e){return function(e){return s(e)&&void 0!==e.constructor}(e)?Object.getOwnPropertyNames(e):[]}e.exports=function(e,t,n){if(!s(e))throw new TypeError("expected receiving object to be an object.");if(!s(t))throw new TypeError("expected providing object to be an object.");var r=u(t),l=Object.keys(t),h=r.length;for(n=c(n);h--;){var f=r[h];a(l,f)?o(e,f,t[f]):f in e||a(n,f)||i(e,t,f)}},e.exports.has=a},function(e,t,n){"use strict";
/*!
 * copy-descriptor <https://github.com/jonschlinkert/copy-descriptor>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */function r(e){return"[object Object]"==={}.toString.call(e)}e.exports=function(e,t,n,i){if(r(t)||"function"==typeof t||(i=n,n=t,t=e),!r(e)&&"function"!=typeof e)throw new TypeError("expected the first argument to be an object");if(!r(t)&&"function"!=typeof t)throw new TypeError("expected provider to be an object");if("string"!=typeof i&&(i=n),"string"!=typeof n)throw new TypeError("expected key to be a string");if(!(n in t))throw new Error('property "'+n+'" does not exist');var o=Object.getOwnPropertyDescriptor(t,n);o&&Object.defineProperty(e,i,o)}},function(e,t,n){"use strict";var r=n(74),i=n(10),o=n(47)("snapdragon:compiler"),s=n(38);function a(e,t){o("initializing",__filename),this.options=s.extend({source:"string"},e),this.state=t||{},this.compilers={},this.output="",this.set("eos",function(e){return this.emit(e.val,e)}),this.set("noop",function(e){return this.emit(e.val,e)}),this.set("bos",function(e){return this.emit(e.val,e)}),r(this)}a.prototype={error:function(e,t){var n=t.position||{start:{column:0}},r=this.options.source+" column:"+n.start.column+": "+e,i=new Error(r);if(i.reason=e,i.column=n.start.column,i.source=this.pattern,!this.options.silent)throw i;this.errors.push(i)},define:function(e,t){return i(this,e,t),this},emit:function(e,t){return this.output+=e,e},set:function(e,t){return this.compilers[e]=t,this},get:function(e){return this.compilers[e]},prev:function(e){return this.ast.nodes[this.idx-(e||1)]||{type:"bos",val:""}},next:function(e){return this.ast.nodes[this.idx+(e||1)]||{type:"eos",val:""}},visit:function(e,t,n){var r=this.compilers[e.type];if(this.idx=n,"function"!=typeof r)throw this.error('compiler "'+e.type+'" is not registered',e);return r.call(this,e,t,n)},mapVisit:function(e){if(!Array.isArray(e))throw new TypeError("expected an array");for(var t=e.length,n=-1;++n<t;)this.visit(e[n],e,n);return this},compile:function(e,t){var r=s.extend({},this.options,t);return this.ast=e,this.parsingErrors=this.ast.errors,this.output="",r.sourcemap?(n(218)(this),this.mapVisit(this.ast.nodes),this.applySourceMaps(),this.map="generator"===r.sourcemap?this.map:this.map.toJSON(),this):(this.mapVisit(this.ast.nodes),this)}},e.exports=a},function(e,t,n){function r(){var e;try{e=t.storage.debug}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e}(t=e.exports=n(75)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),!n)return;var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var i=0,o=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(i++,"%c"===e&&(o=i))}),e.splice(o,0,r)},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}},t.load=r,t.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(r())},function(e,t){var n=1e3,r=60*n,i=60*r,o=24*i,s=365.25*o;function a(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}e.exports=function(e,t){t=t||{};var c,u=typeof e;if("string"===u&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!t)return;var a=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return a*s;case"days":case"day":case"d":return a*o;case"hours":case"hour":case"hrs":case"hr":case"h":return a*i;case"minutes":case"minute":case"mins":case"min":case"m":return a*r;case"seconds":case"second":case"secs":case"sec":case"s":return a*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}(e);if("number"===u&&!1===isNaN(e))return t.long?a(c=e,o,"day")||a(c,i,"hour")||a(c,r,"minute")||a(c,n,"second")||c+" ms":function(e){if(e>=o)return Math.round(e/o)+"d";if(e>=i)return Math.round(e/i)+"h";if(e>=r)return Math.round(e/r)+"m";if(e>=n)return Math.round(e/n)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){var r=n(203),i=n(3);(t=e.exports=n(75)).init=function(e){e.inspectOpts={};for(var n=Object.keys(t.inspectOpts),r=0;r<n.length;r++)e.inspectOpts[n[r]]=t.inspectOpts[n[r]]},t.log=function(){return s.write(i.format.apply(i,arguments)+"\n")},t.formatArgs=function(e){var n=this.namespace;if(this.useColors){var r=this.color,i="  [3"+r+";1m"+n+" [0m";e[0]=i+e[0].split("\n").join("\n"+i),e.push("[3"+r+"m+"+t.humanize(this.diff)+"[0m")}else e[0]=(new Date).toUTCString()+" "+n+" "+e[0]},t.save=function(e){null==e?delete process.env.DEBUG:process.env.DEBUG=e},t.load=a,t.useColors=function(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):r.isatty(o)},t.colors=[6,2,3,4,5,1],t.inspectOpts=Object.keys(process.env).filter(function(e){return/^debug_/i.test(e)}).reduce(function(e,t){var n=t.substring(6).toLowerCase().replace(/_([a-z])/g,function(e,t){return t.toUpperCase()}),r=process.env[t];return r=!!/^(yes|on|true|enabled)$/i.test(r)||!/^(no|off|false|disabled)$/i.test(r)&&("null"===r?null:Number(r)),e[n]=r,e},{});var o=parseInt(process.env.DEBUG_FD,10)||2;1!==o&&2!==o&&i.deprecate(function(){},"except for stderr(2) and stdout(1), any other usage of DEBUG_FD is deprecated. Override debug.log if you want to use a different log function (https://git.io/debug_fd)")();var s=1===o?process.stdout:2===o?process.stderr:function(e){var t;switch(process.binding("tty_wrap").guessHandleType(e)){case"TTY":(t=new r.WriteStream(e))._type="tty",t._handle&&t._handle.unref&&t._handle.unref();break;case"FILE":var i=n(2);(t=new i.SyncWriteStream(e,{autoClose:!1}))._type="fs";break;case"PIPE":case"TCP":var o=n(76);(t=new o.Socket({fd:e,readable:!1,writable:!0})).readable=!1,t.read=null,t._type="pipe",t._handle&&t._handle.unref&&t._handle.unref();break;default:throw new Error("Implement me. Unknown stream file type!")}return t.fd=e,t._isStdio=!0,t}(o);function a(){return process.env.DEBUG}t.formatters.o=function(e){return this.inspectOpts.colors=this.useColors,i.inspect(e,this.inspectOpts).split("\n").map(function(e){return e.trim()}).join(" ")},t.formatters.O=function(e){return this.inspectOpts.colors=this.useColors,i.inspect(e,this.inspectOpts)},t.enable(a())},function(e,t){e.exports=require("tty")},function(e,t,n){t.SourceMapGenerator=n(77).SourceMapGenerator,t.SourceMapConsumer=n(207).SourceMapConsumer,t.SourceNode=n(210).SourceNode},function(e,t){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");t.encode=function(e){if(0<=e&&e<n.length)return n[e];throw new TypeError("Must be between 0 and 63: "+e)},t.decode=function(e){return 65<=e&&e<=90?e-65:97<=e&&e<=122?e-97+26:48<=e&&e<=57?e-48+52:43==e?62:47==e?63:-1}},function(e,t,n){var r=n(27);function i(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}i.prototype.unsortedForEach=function(e,t){this._array.forEach(e,t)},i.prototype.add=function(e){var t,n,i,o,s,a;t=this._last,n=e,i=t.generatedLine,o=n.generatedLine,s=t.generatedColumn,a=n.generatedColumn,o>i||o==i&&a>=s||r.compareByGeneratedPositionsInflated(t,n)<=0?(this._last=e,this._array.push(e)):(this._sorted=!1,this._array.push(e))},i.prototype.toArray=function(){return this._sorted||(this._array.sort(r.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},t.MappingList=i},function(e,t,n){var r=n(27),i=n(208),o=n(79).ArraySet,s=n(78),a=n(209).quickSort;function c(e){var t=e;return"string"==typeof e&&(t=JSON.parse(e.replace(/^\)\]\}'/,""))),null!=t.sections?new h(t):new u(t)}function u(e){var t=e;"string"==typeof e&&(t=JSON.parse(e.replace(/^\)\]\}'/,"")));var n=r.getArg(t,"version"),i=r.getArg(t,"sources"),s=r.getArg(t,"names",[]),a=r.getArg(t,"sourceRoot",null),c=r.getArg(t,"sourcesContent",null),u=r.getArg(t,"mappings"),l=r.getArg(t,"file",null);if(n!=this._version)throw new Error("Unsupported version: "+n);i=i.map(String).map(r.normalize).map(function(e){return a&&r.isAbsolute(a)&&r.isAbsolute(e)?r.relative(a,e):e}),this._names=o.fromArray(s.map(String),!0),this._sources=o.fromArray(i,!0),this.sourceRoot=a,this.sourcesContent=c,this._mappings=u,this.file=l}function l(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}function h(e){var t=e;"string"==typeof e&&(t=JSON.parse(e.replace(/^\)\]\}'/,"")));var n=r.getArg(t,"version"),i=r.getArg(t,"sections");if(n!=this._version)throw new Error("Unsupported version: "+n);this._sources=new o,this._names=new o;var s={line:-1,column:0};this._sections=i.map(function(e){if(e.url)throw new Error("Support for url field in sections not implemented.");var t=r.getArg(e,"offset"),n=r.getArg(t,"line"),i=r.getArg(t,"column");if(n<s.line||n===s.line&&i<s.column)throw new Error("Section offsets must be ordered and non-overlapping.");return s=t,{generatedOffset:{generatedLine:n+1,generatedColumn:i+1},consumer:new c(r.getArg(e,"map"))}})}c.fromSourceMap=function(e){return u.fromSourceMap(e)},c.prototype._version=3,c.prototype.__generatedMappings=null,Object.defineProperty(c.prototype,"_generatedMappings",{get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),c.prototype.__originalMappings=null,Object.defineProperty(c.prototype,"_originalMappings",{get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),c.prototype._charIsMappingSeparator=function(e,t){var n=e.charAt(t);return";"===n||","===n},c.prototype._parseMappings=function(e,t){throw new Error("Subclasses must implement _parseMappings")},c.GENERATED_ORDER=1,c.ORIGINAL_ORDER=2,c.GREATEST_LOWER_BOUND=1,c.LEAST_UPPER_BOUND=2,c.prototype.eachMapping=function(e,t,n){var i,o=t||null;switch(n||c.GENERATED_ORDER){case c.GENERATED_ORDER:i=this._generatedMappings;break;case c.ORIGINAL_ORDER:i=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var s=this.sourceRoot;i.map(function(e){var t=null===e.source?null:this._sources.at(e.source);return null!=t&&null!=s&&(t=r.join(s,t)),{source:t,generatedLine:e.generatedLine,generatedColumn:e.generatedColumn,originalLine:e.originalLine,originalColumn:e.originalColumn,name:null===e.name?null:this._names.at(e.name)}},this).forEach(e,o)},c.prototype.allGeneratedPositionsFor=function(e){var t=r.getArg(e,"line"),n={source:r.getArg(e,"source"),originalLine:t,originalColumn:r.getArg(e,"column",0)};if(null!=this.sourceRoot&&(n.source=r.relative(this.sourceRoot,n.source)),!this._sources.has(n.source))return[];n.source=this._sources.indexOf(n.source);var o=[],s=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",r.compareByOriginalPositions,i.LEAST_UPPER_BOUND);if(s>=0){var a=this._originalMappings[s];if(void 0===e.column)for(var c=a.originalLine;a&&a.originalLine===c;)o.push({line:r.getArg(a,"generatedLine",null),column:r.getArg(a,"generatedColumn",null),lastColumn:r.getArg(a,"lastGeneratedColumn",null)}),a=this._originalMappings[++s];else for(var u=a.originalColumn;a&&a.originalLine===t&&a.originalColumn==u;)o.push({line:r.getArg(a,"generatedLine",null),column:r.getArg(a,"generatedColumn",null),lastColumn:r.getArg(a,"lastGeneratedColumn",null)}),a=this._originalMappings[++s]}return o},t.SourceMapConsumer=c,u.prototype=Object.create(c.prototype),u.prototype.consumer=c,u.fromSourceMap=function(e){var t=Object.create(u.prototype),n=t._names=o.fromArray(e._names.toArray(),!0),i=t._sources=o.fromArray(e._sources.toArray(),!0);t.sourceRoot=e._sourceRoot,t.sourcesContent=e._generateSourcesContent(t._sources.toArray(),t.sourceRoot),t.file=e._file;for(var s=e._mappings.toArray().slice(),c=t.__generatedMappings=[],h=t.__originalMappings=[],f=0,p=s.length;f<p;f++){var d=s[f],g=new l;g.generatedLine=d.generatedLine,g.generatedColumn=d.generatedColumn,d.source&&(g.source=i.indexOf(d.source),g.originalLine=d.originalLine,g.originalColumn=d.originalColumn,d.name&&(g.name=n.indexOf(d.name)),h.push(g)),c.push(g)}return a(t.__originalMappings,r.compareByOriginalPositions),t},u.prototype._version=3,Object.defineProperty(u.prototype,"sources",{get:function(){return this._sources.toArray().map(function(e){return null!=this.sourceRoot?r.join(this.sourceRoot,e):e},this)}}),u.prototype._parseMappings=function(e,t){for(var n,i,o,c,u,h=1,f=0,p=0,d=0,g=0,m=0,y=e.length,b=0,v={},w={},x=[],k=[];b<y;)if(";"===e.charAt(b))h++,b++,f=0;else if(","===e.charAt(b))b++;else{for((n=new l).generatedLine=h,c=b;c<y&&!this._charIsMappingSeparator(e,c);c++);if(o=v[i=e.slice(b,c)])b+=i.length;else{for(o=[];b<c;)s.decode(e,b,w),u=w.value,b=w.rest,o.push(u);if(2===o.length)throw new Error("Found a source, but no line and column");if(3===o.length)throw new Error("Found a source and line, but no column");v[i]=o}n.generatedColumn=f+o[0],f=n.generatedColumn,o.length>1&&(n.source=g+o[1],g+=o[1],n.originalLine=p+o[2],p=n.originalLine,n.originalLine+=1,n.originalColumn=d+o[3],d=n.originalColumn,o.length>4&&(n.name=m+o[4],m+=o[4])),k.push(n),"number"==typeof n.originalLine&&x.push(n)}a(k,r.compareByGeneratedPositionsDeflated),this.__generatedMappings=k,a(x,r.compareByOriginalPositions),this.__originalMappings=x},u.prototype._findMapping=function(e,t,n,r,o,s){if(e[n]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+e[n]);if(e[r]<0)throw new TypeError("Column must be greater than or equal to 0, got "+e[r]);return i.search(e,t,o,s)},u.prototype.computeColumnSpans=function(){for(var e=0;e<this._generatedMappings.length;++e){var t=this._generatedMappings[e];if(e+1<this._generatedMappings.length){var n=this._generatedMappings[e+1];if(t.generatedLine===n.generatedLine){t.lastGeneratedColumn=n.generatedColumn-1;continue}}t.lastGeneratedColumn=1/0}},u.prototype.originalPositionFor=function(e){var t={generatedLine:r.getArg(e,"line"),generatedColumn:r.getArg(e,"column")},n=this._findMapping(t,this._generatedMappings,"generatedLine","generatedColumn",r.compareByGeneratedPositionsDeflated,r.getArg(e,"bias",c.GREATEST_LOWER_BOUND));if(n>=0){var i=this._generatedMappings[n];if(i.generatedLine===t.generatedLine){var o=r.getArg(i,"source",null);null!==o&&(o=this._sources.at(o),null!=this.sourceRoot&&(o=r.join(this.sourceRoot,o)));var s=r.getArg(i,"name",null);return null!==s&&(s=this._names.at(s)),{source:o,line:r.getArg(i,"originalLine",null),column:r.getArg(i,"originalColumn",null),name:s}}}return{source:null,line:null,column:null,name:null}},u.prototype.hasContentsOfAllSources=function(){return!!this.sourcesContent&&(this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(e){return null==e}))},u.prototype.sourceContentFor=function(e,t){if(!this.sourcesContent)return null;if(null!=this.sourceRoot&&(e=r.relative(this.sourceRoot,e)),this._sources.has(e))return this.sourcesContent[this._sources.indexOf(e)];var n;if(null!=this.sourceRoot&&(n=r.urlParse(this.sourceRoot))){var i=e.replace(/^file:\/\//,"");if("file"==n.scheme&&this._sources.has(i))return this.sourcesContent[this._sources.indexOf(i)];if((!n.path||"/"==n.path)&&this._sources.has("/"+e))return this.sourcesContent[this._sources.indexOf("/"+e)]}if(t)return null;throw new Error('"'+e+'" is not in the SourceMap.')},u.prototype.generatedPositionFor=function(e){var t=r.getArg(e,"source");if(null!=this.sourceRoot&&(t=r.relative(this.sourceRoot,t)),!this._sources.has(t))return{line:null,column:null,lastColumn:null};var n={source:t=this._sources.indexOf(t),originalLine:r.getArg(e,"line"),originalColumn:r.getArg(e,"column")},i=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",r.compareByOriginalPositions,r.getArg(e,"bias",c.GREATEST_LOWER_BOUND));if(i>=0){var o=this._originalMappings[i];if(o.source===n.source)return{line:r.getArg(o,"generatedLine",null),column:r.getArg(o,"generatedColumn",null),lastColumn:r.getArg(o,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},t.BasicSourceMapConsumer=u,h.prototype=Object.create(c.prototype),h.prototype.constructor=c,h.prototype._version=3,Object.defineProperty(h.prototype,"sources",{get:function(){for(var e=[],t=0;t<this._sections.length;t++)for(var n=0;n<this._sections[t].consumer.sources.length;n++)e.push(this._sections[t].consumer.sources[n]);return e}}),h.prototype.originalPositionFor=function(e){var t={generatedLine:r.getArg(e,"line"),generatedColumn:r.getArg(e,"column")},n=i.search(t,this._sections,function(e,t){var n=e.generatedLine-t.generatedOffset.generatedLine;return n||e.generatedColumn-t.generatedOffset.generatedColumn}),o=this._sections[n];return o?o.consumer.originalPositionFor({line:t.generatedLine-(o.generatedOffset.generatedLine-1),column:t.generatedColumn-(o.generatedOffset.generatedLine===t.generatedLine?o.generatedOffset.generatedColumn-1:0),bias:e.bias}):{source:null,line:null,column:null,name:null}},h.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(e){return e.consumer.hasContentsOfAllSources()})},h.prototype.sourceContentFor=function(e,t){for(var n=0;n<this._sections.length;n++){var r=this._sections[n].consumer.sourceContentFor(e,!0);if(r)return r}if(t)return null;throw new Error('"'+e+'" is not in the SourceMap.')},h.prototype.generatedPositionFor=function(e){for(var t=0;t<this._sections.length;t++){var n=this._sections[t];if(-1!==n.consumer.sources.indexOf(r.getArg(e,"source"))){var i=n.consumer.generatedPositionFor(e);if(i)return{line:i.line+(n.generatedOffset.generatedLine-1),column:i.column+(n.generatedOffset.generatedLine===i.line?n.generatedOffset.generatedColumn-1:0)}}}return{line:null,column:null}},h.prototype._parseMappings=function(e,t){this.__generatedMappings=[],this.__originalMappings=[];for(var n=0;n<this._sections.length;n++)for(var i=this._sections[n],o=i.consumer._generatedMappings,s=0;s<o.length;s++){var c=o[s],u=i.consumer._sources.at(c.source);null!==i.consumer.sourceRoot&&(u=r.join(i.consumer.sourceRoot,u)),this._sources.add(u),u=this._sources.indexOf(u);var l=i.consumer._names.at(c.name);this._names.add(l),l=this._names.indexOf(l);var h={source:u,generatedLine:c.generatedLine+(i.generatedOffset.generatedLine-1),generatedColumn:c.generatedColumn+(i.generatedOffset.generatedLine===c.generatedLine?i.generatedOffset.generatedColumn-1:0),originalLine:c.originalLine,originalColumn:c.originalColumn,name:l};this.__generatedMappings.push(h),"number"==typeof h.originalLine&&this.__originalMappings.push(h)}a(this.__generatedMappings,r.compareByGeneratedPositionsDeflated),a(this.__originalMappings,r.compareByOriginalPositions)},t.IndexedSourceMapConsumer=h},function(e,t){t.GREATEST_LOWER_BOUND=1,t.LEAST_UPPER_BOUND=2,t.search=function(e,n,r,i){if(0===n.length)return-1;var o=function e(n,r,i,o,s,a){var c=Math.floor((r-n)/2)+n,u=s(i,o[c],!0);return 0===u?c:u>0?r-c>1?e(c,r,i,o,s,a):a==t.LEAST_UPPER_BOUND?r<o.length?r:-1:c:c-n>1?e(n,c,i,o,s,a):a==t.LEAST_UPPER_BOUND?c:n<0?-1:n}(-1,n.length,e,n,r,i||t.GREATEST_LOWER_BOUND);if(o<0)return-1;for(;o-1>=0&&0===r(n[o],n[o-1],!0);)--o;return o}},function(e,t){function n(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function r(e,t,i,o){if(i<o){var s=i-1;n(e,(l=i,h=o,Math.round(l+Math.random()*(h-l))),o);for(var a=e[o],c=i;c<o;c++)t(e[c],a)<=0&&n(e,s+=1,c);n(e,s+1,c);var u=s+1;r(e,t,i,u-1),r(e,t,u+1,o)}var l,h}t.quickSort=function(e,t){r(e,t,0,e.length-1)}},function(e,t,n){var r=n(77).SourceMapGenerator,i=n(27),o=/(\r?\n)/,s="$$$isSourceNode$$$";function a(e,t,n,r,i){this.children=[],this.sourceContents={},this.line=null==e?null:e,this.column=null==t?null:t,this.source=null==n?null:n,this.name=null==i?null:i,this[s]=!0,null!=r&&this.add(r)}a.fromStringWithSourceMap=function(e,t,n){var r=new a,s=e.split(o),c=0,u=function(){return e()+(e()||"");function e(){return c<s.length?s[c++]:void 0}},l=1,h=0,f=null;return t.eachMapping(function(e){if(null!==f){if(!(l<e.generatedLine)){var t=(n=s[c]).substr(0,e.generatedColumn-h);return s[c]=n.substr(e.generatedColumn-h),h=e.generatedColumn,p(f,t),void(f=e)}p(f,u()),l++,h=0}for(;l<e.generatedLine;)r.add(u()),l++;if(h<e.generatedColumn){var n=s[c];r.add(n.substr(0,e.generatedColumn)),s[c]=n.substr(e.generatedColumn),h=e.generatedColumn}f=e},this),c<s.length&&(f&&p(f,u()),r.add(s.splice(c).join(""))),t.sources.forEach(function(e){var o=t.sourceContentFor(e);null!=o&&(null!=n&&(e=i.join(n,e)),r.setSourceContent(e,o))}),r;function p(e,t){if(null===e||void 0===e.source)r.add(t);else{var o=n?i.join(n,e.source):e.source;r.add(new a(e.originalLine,e.originalColumn,o,t,e.name))}}},a.prototype.add=function(e){if(Array.isArray(e))e.forEach(function(e){this.add(e)},this);else{if(!e[s]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);e&&this.children.push(e)}return this},a.prototype.prepend=function(e){if(Array.isArray(e))for(var t=e.length-1;t>=0;t--)this.prepend(e[t]);else{if(!e[s]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);this.children.unshift(e)}return this},a.prototype.walk=function(e){for(var t,n=0,r=this.children.length;n<r;n++)(t=this.children[n])[s]?t.walk(e):""!==t&&e(t,{source:this.source,line:this.line,column:this.column,name:this.name})},a.prototype.join=function(e){var t,n,r=this.children.length;if(r>0){for(t=[],n=0;n<r-1;n++)t.push(this.children[n]),t.push(e);t.push(this.children[n]),this.children=t}return this},a.prototype.replaceRight=function(e,t){var n=this.children[this.children.length-1];return n[s]?n.replaceRight(e,t):"string"==typeof n?this.children[this.children.length-1]=n.replace(e,t):this.children.push("".replace(e,t)),this},a.prototype.setSourceContent=function(e,t){this.sourceContents[i.toSetString(e)]=t},a.prototype.walkSourceContents=function(e){for(var t=0,n=this.children.length;t<n;t++)this.children[t][s]&&this.children[t].walkSourceContents(e);var r=Object.keys(this.sourceContents);for(t=0,n=r.length;t<n;t++)e(i.fromSetString(r[t]),this.sourceContents[r[t]])},a.prototype.toString=function(){var e="";return this.walk(function(t){e+=t}),e},a.prototype.toStringWithSourceMap=function(e){var t={code:"",line:1,column:0},n=new r(e),i=!1,o=null,s=null,a=null,c=null;return this.walk(function(e,r){t.code+=e,null!==r.source&&null!==r.line&&null!==r.column?(o===r.source&&s===r.line&&a===r.column&&c===r.name||n.addMapping({source:r.source,original:{line:r.line,column:r.column},generated:{line:t.line,column:t.column},name:r.name}),o=r.source,s=r.line,a=r.column,c=r.name,i=!0):i&&(n.addMapping({generated:{line:t.line,column:t.column}}),o=null,i=!1);for(var u=0,l=e.length;u<l;u++)10===e.charCodeAt(u)?(t.line++,t.column=0,u+1===l?(o=null,i=!1):i&&n.addMapping({source:r.source,original:{line:r.line,column:r.column},generated:{line:t.line,column:t.column},name:r.name})):t.column++}),this.walkSourceContents(function(e,t){n.setSourceContent(e,t)}),{code:t.code,map:n}},t.SourceNode=a},function(e,t,n){var r=n(212),i=n(213),o=n(214),s=n(216),a=n(217);function c(e,t,n){setImmediate(function(){e(t,n)})}function u(e,t){try{return JSON.parse(e.replace(/^\)\]\}'/,""))}catch(e){throw e.sourceMapData=t,e}}function l(e,t,n){var r=o(t);try{return String(e(r))}catch(e){throw e.sourceMapData=n,e}}function h(e,t,n,r){var i;try{i=g(e,t)}catch(e){return c(r,e)}if(!i||i.map)return c(r,null,i);n(o(i.url),function(e,t){if(e)return e.sourceMapData=i,r(e);i.map=String(t);try{i.map=u(i.map,i)}catch(e){return r(e)}r(null,i)})}function f(e,t,n){var r=g(e,t);return!r||r.map?r:(r.map=l(n,r.url,r),r.map=u(r.map,r),r)}var p=/^data:([^,;]*)(;[^,;]*)*(?:,(.*))?$/,d=/^(?:application|text)\/json$/;function g(e,t){t=s(t);var n=r.getFrom(e);if(!n)return null;var o=n.match(p);if(o){var c=o[1],l=o[2]||"",h=o[3]||"",f={sourceMappingURL:n,url:null,sourcesRelativeTo:t,map:h};if(!d.test(c)){var g=new Error("Unuseful data uri mime type: "+(c||"text/plain"));throw g.sourceMapData=f,g}return f.map=u(";base64"===l?a(h):decodeURIComponent(h),f),f}var m=i(t,n);return{sourceMappingURL:n,url:m,sourcesRelativeTo:m,map:null}}function m(e,t,n,r,i){"function"==typeof r&&(i=r,r={});var s=e.sources?e.sources.length:0,a={sourcesResolved:[],sourcesContent:[]};if(0!==s){var u=function(){0===--s&&i(null,a)};v(e,t,r,function(e,t,r){if(a.sourcesResolved[r]=e,"string"==typeof t)a.sourcesContent[r]=t,c(u,null);else{var i=o(e);n(i,function(e,t){a.sourcesContent[r]=e||String(t),u()})}})}else c(i,null,a)}function y(e,t,n,r){var i={sourcesResolved:[],sourcesContent:[]};return e.sources&&0!==e.sources.length?(v(e,t,r,function(e,t,r){if(i.sourcesResolved[r]=e,null!==n)if("string"==typeof t)i.sourcesContent[r]=t;else{var s=o(e);try{i.sourcesContent[r]=String(n(s))}catch(e){i.sourcesContent[r]=e}}}),i):i}var b=/\/?$/;function v(e,t,n,r){var o;n=n||{},t=s(t);for(var a=0,c=e.sources.length;a<c;a++)o=null,"string"==typeof n.sourceRoot?o=n.sourceRoot:"string"==typeof e.sourceRoot&&!1!==n.sourceRoot&&(o=e.sourceRoot),r(null===o||""===o?i(t,e.sources[a]):i(t,o.replace(b,"/"),e.sources[a]),(e.sourcesContent||[])[a],a)}e.exports={resolveSourceMap:h,resolveSourceMapSync:f,resolveSources:m,resolveSourcesSync:y,resolve:function(e,t,n,r,i){if("function"==typeof r&&(i=r,r={}),null===e){var s={sourceMappingURL:null,url:t,sourcesRelativeTo:t,map:null},a=o(t);n(a,function(e,t){if(e)return e.sourceMapData=s,i(e);s.map=String(t);try{s.map=u(s.map,s)}catch(e){return i(e)}c(s)})}else h(e,t,n,function(e,t){return e?i(e):t?void c(t):i(null,null)});function c(e){m(e.map,e.sourcesRelativeTo,n,r,function(t,n){if(t)return i(t);e.sourcesResolved=n.sourcesResolved,e.sourcesContent=n.sourcesContent,i(null,e)})}},resolveSync:function(e,t,n,r){var i;if(null===e)(i={sourceMappingURL:null,url:t,sourcesRelativeTo:t,map:null}).map=l(n,t,i),i.map=u(i.map,i);else if(!(i=f(e,t,n)))return null;var o=y(i.map,i.sourcesRelativeTo,n,r);return i.sourcesResolved=o.sourcesResolved,i.sourcesContent=o.sourcesContent,i},parseMapToJSON:u}},function(e,t,n){var r,i;void 0===(i="function"==typeof(r=function(){var e=/[#@] sourceMappingURL=([^\s'"]*)/,t=RegExp("(?:/\\*(?:\\s*\r?\n(?://)?)?(?:"+e.source+")\\s*\\*/|//(?:"+e.source+"))\\s*");return{regex:t,_innerRegex:e,getFrom:function(e){var n=e.match(t);return n?n[1]||n[2]||"":null},existsIn:function(e){return t.test(e)},removeFrom:function(e){return e.replace(t,"")},insertBefore:function(e,n){var r=e.match(t);return r?e.slice(0,r.index)+n+e.slice(r.index):e+n}}})?r.call(t,n,t,e):r)||(e.exports=i)},function(e,t,n){var r=n(48);e.exports=function(){return Array.prototype.reduce.call(arguments,function(e,t){return r.resolve(e,t)})}},function(e,t,n){var r=n(215);e.exports=function(e){return r(e.replace(/\+/g,"%2B"))}},function(e,t,n){"use strict";var r=new RegExp("%[a-f0-9]{2}","gi"),i=new RegExp("(%[a-f0-9]{2})+","gi");function o(e,t){try{return decodeURIComponent(e.join(""))}catch(e){}if(1===e.length)return e;t=t||1;var n=e.slice(0,t),r=e.slice(t);return Array.prototype.concat.call([],o(n),o(r))}function s(e){try{return decodeURIComponent(e)}catch(i){for(var t=e.match(r),n=1;n<t.length;n++)t=(e=o(t,n).join("")).match(r);return e}}e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"","%FF%FE":""},n=i.exec(e);n;){try{t[n[0]]=decodeURIComponent(n[0])}catch(e){var r=s(n[0]);r!==n[0]&&(t[n[0]]=r)}n=i.exec(e)}t["%C2"]="";for(var o=Object.keys(t),a=0;a<o.length;a++){var c=o[a];e=e.replace(new RegExp(c,"g"),t[c])}return e}(e)}}},function(e,t,n){var r=n(0);e.exports=function(e){return"\\"===r.sep?e.replace(/\\/g,"/").replace(/^[a-z]:\/?/i,"/"):e}},function(e,t,n){"use strict";function r(e){return Buffer.from(e,"base64").toString("binary")}e.exports=r.atob=r},function(e,t,n){"use strict";var r=n(2),i=n(0),o=n(10),s=n(38);e.exports=function(e){for(var n in o(e,"_comment",e.comment),e.map=new s.SourceMap.SourceMapGenerator,e.position={line:1,column:1},e.content={},e.files={},t)o(e,n,t[n])},t.updatePosition=function(e){var t=e.match(/\n/g);t&&(this.position.line+=t.length);var n=e.lastIndexOf("\n");this.position.column=~n?e.length-n:this.position.column+e.length},t.emit=function(e,t){var n=t.position||{},r=n.source;return r&&(n.filepath&&(r=s.unixify(n.filepath)),this.map.addMapping({source:r,generated:{line:this.position.line,column:Math.max(this.position.column-1,0)},original:{line:n.start.line,column:n.start.column-1}}),n.content&&this.addContent(r,n),n.filepath&&this.addFile(r,n),this.updatePosition(e),this.output+=e),e},t.addFile=function(e,t){"string"==typeof t.content&&(Object.prototype.hasOwnProperty.call(this.files,e)||(this.files[e]=t.content))},t.addContent=function(e,t){"string"==typeof t.content&&(Object.prototype.hasOwnProperty.call(this.content,e)||this.map.setSourceContent(e,t.content))},t.applySourceMaps=function(){Object.keys(this.files).forEach(function(e){var t=this.files[e];if(this.map.setSourceContent(e,t),!0===this.options.inputSourcemaps){var n=s.sourceMapResolve.resolveSync(t,e,r.readFileSync);if(n){var o=new s.SourceMap.SourceMapConsumer(n.map),a=n.sourcesRelativeTo;this.map.applySourceMap(o,e,s.unixify(i.dirname(a)))}}},this)},t.comment=function(e){return/^# sourceMappingURL=/.test(e.comment)?this.emit("",e.position):this._comment(e)}},function(e,t,n){"use strict";var r=n(74),i=n(3),o=n(80),s=n(10),a=n(47)("snapdragon:parser"),c=n(220),u=n(38);function l(e){a("initializing",__filename),this.options=u.extend({source:"string"},e),this.init(this.options),r(this)}function h(e,t){return e.visited?e:(s(e,"visited",!0),e.nodes?function(e,t){var n=e.length,r=-1;for(;++r<n;)h(e[r],t)}(e.nodes,t):t(e))}function f(e){return function(e){return e.nodes&&e.nodes[0].type===e.type+".open"}(e)&&function(e){return e.nodes&&u.last(e.nodes).type===e.type+".close"}(e)}l.prototype={constructor:l,init:function(e){this.orig="",this.input="",this.parsed="",this.column=1,this.line=1,this.regex=new o,this.errors=this.errors||[],this.parsers=this.parsers||{},this.types=this.types||[],this.sets=this.sets||{},this.fns=this.fns||[],this.currentType="root";var t=this.position();this.bos=t({type:"bos",val:""}),this.ast={type:"root",errors:this.errors,nodes:[this.bos]},s(this.bos,"parent",this.ast),this.nodes=[this.ast],this.count=0,this.setCount=0,this.stack=[]},error:function(e,t){var n=t.position||{start:{column:0,line:0}},r=n.start.line,i=n.start.column,o=this.options.source,s=new Error(o+" <line:"+r+" column:"+i+">: "+e);if(s.source=o,s.reason=e,s.pos=n,!this.options.silent)throw s;this.errors.push(s)},define:function(e,t){return s(this,e,t),this},position:function(){var e={line:this.line,column:this.column},t=this;return function(n){return s(n,"position",new c(e,t)),n}},set:function(e,t){return-1===this.types.indexOf(e)&&this.types.push(e),this.parsers[e]=t.bind(this),this},get:function(e){return this.parsers[e]},push:function(e,t){return this.sets[e]=this.sets[e]||[],this.count++,this.stack.push(t),this.sets[e].push(t)},pop:function(e){return this.sets[e]=this.sets[e]||[],this.count--,this.stack.pop(),this.sets[e].pop()},isInside:function(e){return this.sets[e]=this.sets[e]||[],this.sets[e].length>0},isType:function(e,t){return e&&e.type===t},prev:function(e){return this.stack.length>0?u.last(this.stack,e):u.last(this.nodes,e)},consume:function(e){this.input=this.input.substr(e)},updatePosition:function(e,t){var n=e.match(/\n/g);n&&(this.line+=n.length);var r=e.lastIndexOf("\n");this.column=~r?t-r:this.column+t,this.parsed+=e,this.consume(t)},match:function(e){var t=e.exec(this.input);if(t)return this.updatePosition(t[0],t[0].length),t},capture:function(e,t){return"function"==typeof t?this.set.apply(this,arguments):(this.regex.set(e,t),this.set(e,function(){var n=this.parsed,r=this.position(),i=this.match(t);if(i&&i[0]){var o=this.prev(),a=r({type:e,val:i[0],parsed:n,rest:this.input});i[1]&&(a.inner=i[1]),s(a,"inside",this.stack.length>0),s(a,"parent",o),o.nodes.push(a)}}.bind(this)),this)},capturePair:function(e,t,n,r){return this.sets[e]=this.sets[e]||[],this.set(e+".open",function(){var n=this.parsed,i=this.position(),o=this.match(t);if(o&&o[0]){var a=o[0];this.setCount++,this.specialChars=!0;var c=i({type:e+".open",val:a,rest:this.input});void 0!==o[1]&&(c.inner=o[1]);var u=this.prev(),l=i({type:e,nodes:[c]});s(l,"rest",this.input),s(l,"parsed",n),s(l,"prefix",o[1]),s(l,"parent",u),s(c,"parent",l),"function"==typeof r&&r.call(this,c,l),this.push(e,l),u.nodes.push(l)}}),this.set(e+".close",function(){var t=this.position(),r=this.match(n);if(r&&r[0]){var i=this.pop(e),o=t({type:e+".close",rest:this.input,suffix:r[1],val:r[0]});if(!this.isType(i,e)){if(this.options.strict)throw new Error('missing opening "'+e+'"');return this.setCount--,o.escaped=!0,o}"\\"===o.suffix&&(i.escaped=!0,o.escaped=!0),i.nodes.push(o),s(o,"parent",i)}}),this},eos:function(){var e=this.position();if(!this.input){for(var t=this.prev();"root"!==t.type&&!t.visited;){if(!0===this.options.strict)throw new SyntaxError("invalid syntax:"+i.inspect(t,null,2));f(t)||(t.parent.escaped=!0,t.escaped=!0),h(t,function(e){f(e.parent)||(e.parent.escaped=!0,e.escaped=!0)}),t=t.parent}var n=e({type:"eos",val:this.append||""});return s(n,"parent",this.ast),n}},next:function(){for(var e,t=this.parsed,n=this.types.length,r=-1;++r<n;)if(e=this.parsers[this.types[r]].call(this))return s(e,"rest",this.input),s(e,"parsed",t),this.last=e,e},parse:function(e){if("string"!=typeof e)throw new TypeError("expected a string");this.init(this.options),this.orig=e,this.input=e;var t=this;function n(){e=t.input;var n=t.next();if(n){var r=t.prev();r&&(s(n,"parent",r),r.nodes&&r.nodes.push(n)),t.sets.hasOwnProperty(r.type)&&(t.currentType=r.type)}if(t.input&&e===t.input)throw new Error('no parsers registered for: "'+t.input.slice(0,5)+'"')}for(;this.input;)n();if(this.stack.length&&this.options.strict){var r=this.stack.pop();throw this.error("missing opening "+r.type+': "'+this.orig+'"')}var i=this.eos();return"eos"!==this.prev().type&&this.ast.nodes.push(i),this.ast}},e.exports=l},function(e,t,n){"use strict";var r=n(10);e.exports=function(e,t){this.start=e,this.end={line:t.line,column:t.column},r(this,"content",t.orig),r(this,"source",t.options.source)}},function(e,t,n){"use strict";
/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var r=n(14);e.exports=function(e){return r(e)||"function"==typeof e||Array.isArray(e)}},function(e,t,n){"use strict";var r=n(82),i=n(86);function o(e){function t(e,n){return e.nodes?function(e,n){var r=e.length,i=-1;for(;++i<r;)t(e[i],n)}(e.nodes,n):n(e)}e.set("paren",function(e){var n="";return t(e,function(e){e.val&&(n+=(/^\W/.test(e.val)?"\\":"")+e.val)}),this.emit(n,e)})}e.exports=function(e){var t=e.compiler.compilers,n=e.options;e.use(r.compilers);var s=t.escape,a=t.qmark,c=t.slash,u=t.star,l=t.text,h=t.plus,f=t.dot;!1===n.extglob||!0===n.noext?e.compiler.use(o):e.use(i.compilers),e.use(function(){this.options.star=this.options.star||function(){return"[^\\\\/]*?"}}),e.compiler.set("dot",f).set("escape",s).set("plus",h).set("slash",c).set("qmark",a).set("star",u).set("text",l)}},function(e,t,n){"use strict";
/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var r=n(14);e.exports=function(e){return r(e)||"function"==typeof e||Array.isArray(e)}},function(e,t,n){"use strict";e.exports=function(e,t){function n(){return t&&"string"==typeof t.slash?t.slash:t&&"function"==typeof t.slash?t.slash.call(e):"\\\\/"}function r(){return t&&"string"==typeof t.star?t.star:t&&"function"==typeof t.star?t.star.call(e):"[^"+n()+"]*?"}var i=e.ast=e.parser.ast;i.state=e.parser.state,e.compiler.state=i.state,e.compiler.set("not",function(e){var t=this.prev();return!0===this.options.nonegate||"bos"!==t.type?this.emit("\\"+e.val,e):this.emit(e.val,e)}).set("escape",function(e){return this.options.unescape&&/^[-\w_.]/.test(e.val)?this.emit(e.val,e):this.emit("\\"+e.val,e)}).set("quoted",function(e){return this.emit(e.val,e)}).set("dollar",function(e){return"bracket"===e.parent.type?this.emit(e.val,e):this.emit("\\"+e.val,e)}).set("dot",function(e){return!0===e.dotfiles&&(this.dotfiles=!0),this.emit("\\"+e.val,e)}).set("backslash",function(e){return this.emit(e.val,e)}).set("slash",function(e,t,r){for(var i="["+n()+"]",o=e.parent,s=this.prev();"paren"===o.type&&!o.hasSlash;)o.hasSlash=!0,o=o.parent;return s.addQmark&&(i+="?"),"\\b"===e.rest.slice(0,2)?this.emit(i,e):"**"===e.parsed||"./**"===e.parsed?(this.output="(?:"+this.output,this.emit(i+")?",e)):"!**"===e.parsed&&!0!==this.options.nonegate?this.emit(i+"?\\b",e):this.emit(i,e)}).set("bracket",function(e){var t=e.close,n=e.escaped?"\\[":"[",r=e.negated,i=e.inner,o=e.val;return!0===e.escaped&&(i=i.replace(/\\?(\W)/g,"\\$1"),r=""),"]-"===i&&(i="\\]\\-"),r&&-1===i.indexOf(".")&&(i+="."),r&&-1===i.indexOf("/")&&(i+="/"),o=n+r+i+t,this.emit(o,e)}).set("square",function(e){var t=(/^\W/.test(e.val)?"\\":"")+e.val;return this.emit(t,e)}).set("qmark",function(e){var t=this.prev(),n="[^.\\\\/]";if((this.options.dot||"bos"!==t.type&&"slash"!==t.type)&&(n="[^\\\\/]"),"("===e.parsed.slice(-1)){var r=e.rest.charAt(0);if("!"===r||"="===r||":"===r)return this.emit(e.val,e)}return e.val.length>1&&(n+="{"+e.val.length+"}"),this.emit(n,e)}).set("plus",function(e){var t=e.parsed.slice(-1);if("]"===t||")"===t)return this.emit(e.val,e);if(!this.output||/[?*+]/.test(n)&&"bracket"!==e.parent.type)return this.emit("\\+",e);var n=this.output.slice(-1);return/\w/.test(n)&&!e.inside?this.emit("+\\+?",e):this.emit("+",e)}).set("globstar",function(e,t,i){this.output||(this.state.leadingGlobstar=!0);var o=this.prev(),s=this.prev(2),a=this.next(),c=this.next(2),u=o.type,l=e.val;"slash"===o.type&&"slash"===a.type&&"text"===s.type&&(this.output+="?","text"!==c.type&&(this.output+="\\b"));var h=e.parsed;"!"===h.charAt(0)&&(h=h.slice(1));var f=e.isInside.paren||e.isInside.brace;return l=h&&"slash"!==u&&"bos"!==u&&!f?r():!0!==this.options.dot?"(?:(?!(?:["+n()+"]|^)\\.).)*?":"(?:(?!(?:["+n()+"]|^)(?:\\.{1,2})($|["+n()+"]))(?!\\.{2}).)*?","slash"!==u&&"bos"!==u||!0===this.options.dot||(l="(?!\\.)"+l),"slash"===o.type&&"slash"===a.type&&"text"!==s.type&&("text"!==c.type&&"star"!==c.type||(e.addQmark=!0)),this.options.capture&&(l="("+l+")"),this.emit(l,e)}).set("star",function(e,t,i){var o=t[i-2]||{},s=this.prev(),a=this.next(),c=s.type;function u(e){return"bos"===e.type||"slash"===e.type}if(""===this.output&&!0!==this.options.contains&&(this.output="(?!["+n()+"])"),"bracket"===c&&!1===this.options.bash){var l=a&&"bracket"===a.type?r():"*?";if(!s.nodes||"posix"!==s.nodes[1].type)return this.emit(l,e)}var h=this.dotfiles||"text"===c||"escape"===c?"":this.options.dot?"(?!(?:^|["+n()+"])\\.{1,2}(?:$|["+n()+"]))":"(?!\\.)";u(s)||u(o)&&"not"===c?h+="(?!\\.)"!==h?"(?!(\\.{2}|\\.["+n()+"]))(?=.)":"(?=.)":"(?!\\.)"===h&&(h=""),"not"===s.type&&"bos"===o.type&&!0===this.options.dot&&(this.output="(?!\\.)"+this.output);var f=h+r();return this.options.capture&&(f="("+f+")"),this.emit(f,e)}).set("text",function(e){return this.emit(e.val,e)}).set("eos",function(e){var t=this.prev(),r=e.val;return this.output="(?:\\.["+n()+"](?=.))?"+this.output,this.state.metachar&&"qmark"!==t.type&&"slash"!==t.type&&(r+=this.options.contains?"["+n()+"]?":"(?:["+n()+"]|$)"),this.emit(r,e)}),t&&"function"==typeof t.compilers&&t.compilers(e.compiler)}},function(e,t,n){"use strict";var r,i=n(24),o=n(13),s=function(e){if(r)return r;var t={contains:!0,strictClose:!1},n=i.create(e,t),s=o("^(?:[*]\\((?=.)|"+n+")",t);return r=s}("[\\[!*+?$^\"'.\\\\/]+");e.exports=function(e,t){var n=e.parser,r=n.options;n.state={slashes:0,paths:[]},n.ast.state=n.state,n.capture("prefix",function(){this.parsed||this.match(/^\.[\\\/]/)&&(this.state.strictOpen=!!this.options.strictOpen,this.state.addPrefix=!0)}).capture("escape",function(){if(!this.isInside("bracket")){var e=this.position(),t=this.match(/^(?:\\(.)|([$^]))/);if(t)return e({type:"escape",val:t[2]||t[1]})}}).capture("quoted",function(){var e=this.position(),t=this.match(/^["']/);if(t){var n=t[0];if(-1===this.input.indexOf(n))return e({type:"escape",val:n});var r=function(e,t){var n=e.charAt(0),r={len:1,val:"",esc:""},i=0;function o(){"\\"!==n&&(r.esc+="\\"+n,r.val+=n),n=e.charAt(++i),r.len++,"\\"===n&&(o(),o())}for(;n&&n!==t;)o();return r}(this.input,n);return this.consume(r.len),e({type:"quoted",val:r.esc})}}).capture("not",function(){var e=this.parsed,t=this.position(),n=this.match(this.notRegex||/^!+/);if(n){var r=n[0],i=r.length%2==1;return""!==e||i||(r=""),""===e&&i&&!0!==this.options.nonegate&&(this.bos.val="(?!^(?:",this.append=")$).*",r=""),t({type:"not",val:r})}}).capture("dot",function(){var e=this.parsed,t=this.position(),n=this.match(/^\.+/);if(n){var r=n[0];return this.state.dot="."===r&&(""===e||"/"===e.slice(-1)),t({type:"dot",dotfiles:this.state.dot,val:r})}}).capture("plus",/^\+(?!\()/).capture("qmark",function(){var e=this.parsed,t=this.position(),n=this.match(/^\?+(?!\()/);if(n)return this.state.metachar=!0,this.state.qmark=!0,t({type:"qmark",parsed:e,val:n[0]})}).capture("globstar",function(){var e=this.parsed,t=this.position();if(this.match(/^\*{2}(?![*(])(?=[,)\/]|$)/)){var n=!0!==r.noglobstar?"globstar":"star",i=t({type:n,parsed:e});for(this.state.metachar=!0;"/**/"===this.input.slice(0,4);)this.input=this.input.slice(3);return i.isInside={brace:this.isInside("brace"),paren:this.isInside("paren")},"globstar"===n?(this.state.globstar=!0,i.val="**"):(this.state.star=!0,i.val="*"),i}}).capture("star",function(){var e=this.position(),t=this.match(/^(?:\*(?![*(])|[*]{3,}(?!\()|[*]{2}(?![(\/]|$)|\*(?=\*\())/);if(t)return this.state.metachar=!0,this.state.star=!0,e({type:"star",val:t[0]})}).capture("slash",function(){var e=this.position(),t=this.match(/^\//);if(t)return this.state.slashes++,e({type:"slash",val:t[0]})}).capture("backslash",function(){var e=this.position(),t=this.match(/^\\(?![*+?(){}[\]'"])/);if(t){var n=t[0];return this.isInside("bracket")?n="\\":n.length>1&&(n="\\\\"),e({type:"backslash",val:n})}}).capture("square",function(){if(!this.isInside("bracket")){var e=this.position(),t=this.match(/^\[([^!^\\])\]/);if(t)return e({type:"square",val:t[1]})}}).capture("bracket",function(){var e=this.position(),t=this.match(/^(?:\[([!^]?)([^\]]+|\]-)(\]|[^*+?]+)|\[)/);if(t){var n=t[0],r=t[1]?"^":"",i=(t[2]||"").replace(/\\\\+/,"\\\\"),o=t[3]||"";t[2]&&i.length<t[2].length&&(n=n.replace(/\\\\+/,"\\\\"));var s=this.input.slice(0,2);if(""===i&&"\\]"===s){i+=s,this.consume(2);for(var a,c=this.input,u=-1;a=c[++u];){if(this.consume(1),"]"===a){o=a;break}i+=a}}return e({type:"bracket",val:n,escaped:"]"!==o,negated:r,inner:i,close:o})}}).capture("text",function(){if(!this.isInside("bracket")){var e=this.position(),t=this.match(s);if(t&&t[0])return e({type:"text",val:t[0]})}}),t&&"function"==typeof t.parsers&&t.parsers(e.parser)},e.exports.not="[\\[!*+?$^\"'.\\\\/]+"},function(e,t,n){e.exports=new(n(49))},function(e,t,n){"use strict";var r=e.exports,i=n(0),o=n(228)(),s=n(26);r.define=n(229),r.diff=n(84),r.extend=n(83),r.pick=n(85),r.typeOf=n(230),r.unique=n(25),r.isEmptyString=function(e){return""===String(e)||"./"===String(e)},r.isWindows=function(){return"\\"===i.sep||!0===o},r.last=function(e,t){return e[e.length-(t||1)]},r.instantiate=function(e,t){var n;return n="object"===r.typeOf(e)&&e.snapdragon?e.snapdragon:"object"===r.typeOf(t)&&t.snapdragon?t.snapdragon:new s(t),r.define(n,"parse",function(e,t){var n=s.prototype.parse.call(this,e,t);n.input=e;var i=this.parser.stack.pop();if(i&&!0!==this.options.strictErrors){var o=i.nodes[0],a=i.nodes[1];if("bracket"===i.type)"["===a.val.charAt(0)&&(a.val="\\"+a.val);else{o.val="\\"+o.val;var c=o.parent.nodes[1];"star"===c.type&&(c.loose=!0)}}return r.define(n,"parser",this.parser),n}),n},r.createKey=function(e,t){if(void 0===t)return e;var n=e;for(var r in t)t.hasOwnProperty(r)&&(n+=";"+r+"="+String(t[r]));return n},r.arrayify=function(e){return"string"==typeof e?[e]:e?Array.isArray(e)?e:[e]:[]},r.isString=function(e){return"string"==typeof e},r.isRegex=function(e){return"regexp"===r.typeOf(e)},r.isObject=function(e){return"object"===r.typeOf(e)},r.escapeRegex=function(e){return e.replace(/[-[\]{}()^$|*+?.\\\/\s]/g,"\\$&")},r.combineDupes=function(e,t){var n=(t=(t=r.arrayify(t).join("|").split("|")).map(function(e){return e.replace(/\\?([+*\\\/])/g,"\\$1")})).join("|"),i=new RegExp("("+n+")(?=\\1)","g");return e.replace(i,"")},r.hasSpecialChars=function(e){return/(?:(?:(^|\/)[!.])|[*?+()|[\]{}]|[+@]\()/.test(e)},r.toPosixPath=function(e){return e.replace(/\\+/g,"/")},r.unescape=function(e){return r.toPosixPath(e.replace(/\\(?=[*+?!.])/g,""))},r.stripDrive=function(e){return r.isWindows()?e.replace(/^[a-z]:[\\\/]+?/i,"/"):e},r.stripPrefix=function(e){return"."!==e.charAt(0)||"/"!==e.charAt(1)&&"\\"!==e.charAt(1)?e:e.slice(2)},r.isSimpleChar=function(e){return""===e.trim()||"."===e},r.isSlash=function(e){return"/"===e||"\\/"===e||"\\"===e||"\\\\"===e},r.matchPath=function(e,t){return t&&t.contains?r.containsPattern(e,t):r.equalsPattern(e,t)},r._equals=function(e,t,n){return n===e||n===t},r._contains=function(e,t,n){return-1!==e.indexOf(n)||-1!==t.indexOf(n)},r.equalsPattern=function(e,t){var n=r.unixify(t);return t=t||{},function(i){var o=r._equals(i,n(i),e);if(!0===o||!0!==t.nocase)return o;var s=i.toLowerCase();return r._equals(s,n(s),e)}},r.containsPattern=function(e,t){var n=r.unixify(t);return t=t||{},function(i){var o=r._contains(i,n(i),e);if(!0===o||!0!==t.nocase)return o;var s=i.toLowerCase();return r._contains(s,n(s),e)}},r.matchBasename=function(e){return function(t){return e.test(t)||e.test(i.basename(t))}},r.identity=function(e){return e},r.value=function(e,t,n){return n&&!1===n.unixify?e:n&&"function"==typeof n.unixify?n.unixify(e):t(e)},r.unixify=function(e){var t=e||{};return function(e){return!1!==t.stripPrefix&&(e=r.stripPrefix(e)),!0===t.unescape&&(e=r.unescape(e)),(!0===t.unixify||r.isWindows())&&(e=r.toPosixPath(e)),e}}},function(e,t,n){var r,i,o,s;
/*!
 * is-windows <https://github.com/jonschlinkert/is-windows>
 *
 * Copyright  2015-2018, Jon Schlinkert.
 * Released under the MIT License.
 */
/*!
 * is-windows <https://github.com/jonschlinkert/is-windows>
 *
 * Copyright  2015-2018, Jon Schlinkert.
 * Released under the MIT License.
 */
s=function(){"use strict";return function(){return process&&("win32"===process.platform||/^(msys|cygwin)$/.test(process.env.OSTYPE))}},t&&"object"==typeof t&&void 0!==e?e.exports=s():(i=[],void 0===(o="function"==typeof(r=s)?r.apply(t,i):r)||(e.exports=o))},function(e,t,n){"use strict";
/*!
 * define-property <https://github.com/jonschlinkert/define-property>
 *
 * Copyright (c) 2015-2018, Jon Schlinkert.
 * Released under the MIT License.
 */var r=n(6),i=n(17),o="undefined"!=typeof Reflect&&Reflect.defineProperty?Reflect.defineProperty:Object.defineProperty;e.exports=function(e,t,n){if(!r(e)&&"function"!=typeof e&&!Array.isArray(e))throw new TypeError("expected an object, function, or array");if("string"!=typeof t)throw new TypeError('expected "key" to be a string');return i(n)?(o(e,t,n),e):(o(e,t,{configurable:!0,enumerable:!1,writable:!0,value:n}),e)}},function(e,t){var n=Object.prototype.toString;function r(e){return e.constructor?e.constructor.name:null}e.exports=function(e){if(void 0===e)return"undefined";if(null===e)return"null";var t=typeof e;if("boolean"===t)return"boolean";if("string"===t)return"string";if("number"===t)return"number";if("symbol"===t)return"symbol";if("function"===t)return"GeneratorFunction"===r(e)?"generatorfunction":"function";if(function(e){return Array.isArray?Array.isArray(e):e instanceof Array}(e))return"array";if(function(e){if(e.constructor&&"function"==typeof e.constructor.isBuffer)return e.constructor.isBuffer(e);return!1}(e))return"buffer";if(function(e){try{if("number"==typeof e.length&&"function"==typeof e.callee)return!0}catch(e){if(-1!==e.message.indexOf("callee"))return!0}return!1}(e))return"arguments";if(function(e){return e instanceof Date||"function"==typeof e.toDateString&&"function"==typeof e.getDate&&"function"==typeof e.setDate}(e))return"date";if(function(e){return e instanceof Error||"string"==typeof e.message&&e.constructor&&"number"==typeof e.constructor.stackTraceLimit}(e))return"error";if(function(e){return e instanceof RegExp||"string"==typeof e.flags&&"boolean"==typeof e.ignoreCase&&"boolean"==typeof e.multiline&&"boolean"==typeof e.global}(e))return"regexp";switch(r(e)){case"Symbol":return"symbol";case"Promise":return"promise";case"WeakMap":return"weakmap";case"WeakSet":return"weakset";case"Map":return"map";case"Set":return"set";case"Int8Array":return"int8array";case"Uint8Array":return"uint8array";case"Uint8ClampedArray":return"uint8clampedarray";case"Int16Array":return"int16array";case"Uint16Array":return"uint16array";case"Int32Array":return"int32array";case"Uint32Array":return"uint32array";case"Float32Array":return"float32array";case"Float64Array":return"float64array"}if(function(e){return"function"==typeof e.throw&&"function"==typeof e.return&&"function"==typeof e.next}(e))return"generator";switch(t=n.call(e)){case"[object Object]":return"object";case"[object Map Iterator]":return"mapiterator";case"[object Set Iterator]":return"setiterator";case"[object String Iterator]":return"stringiterator";case"[object Array Iterator]":return"arrayiterator"}return t.slice(8,-1).toLowerCase().replace(/\s/g,"")}},function(e,t,n){"use strict";var r=n(232);e.exports=function(e){e.compiler.set("escape",function(e){return this.emit("\\"+e.val.replace(/^\\/,""),e)}).set("text",function(e){return this.emit(e.val.replace(/([{}])/g,"\\$1"),e)}).set("posix",function(e){if("[::]"===e.val)return this.emit("\\[::\\]",e);var t=r[e.inner];return void 0===t&&(t="["+e.inner+"]"),this.emit(t,e)}).set("bracket",function(e){return this.mapVisit(e.nodes)}).set("bracket.open",function(e){return this.emit(e.val,e)}).set("bracket.inner",function(e){var t=e.val;if("["===t||"]"===t)return this.emit("\\"+e.val,e);if("^]"===t)return this.emit("^\\]",e);if("^"===t)return this.emit("^",e);/-/.test(t)&&!/(\d-\d|\w-\w)/.test(t)&&(t=t.split("-").join("\\-"));var n="^"===t.charAt(0);return n&&-1===t.indexOf("/")&&(t+="/"),n&&-1===t.indexOf(".")&&(t+="."),t=t.replace(/\\([1-9])/g,"$1"),this.emit(t,e)}).set("bracket.close",function(e){var t=e.val.replace(/^\\/,"");return!0===e.parent.escaped?this.emit("\\"+t,e):this.emit(t,e)})}},function(e,t,n){"use strict";e.exports={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"}},function(e,t,n){"use strict";var r=n(234),i=n(10),o=r.createRegex("(\\[(?=.*\\])|\\])+");e.exports=function(e){e.state=e.state||{},e.parser.sets.bracket=e.parser.sets.bracket||[],e.parser.capture("escape",function(){if(!this.isInside("bracket")){var e=this.position(),t=this.match(/^\\(.)/);if(t)return e({type:"escape",val:t[0]})}}).capture("text",function(){if(!this.isInside("bracket")){var e=this.position(),t=this.match(o);if(t&&t[0])return e({type:"text",val:t[0]})}}).capture("posix",function(){var t=this.position(),n=this.match(/^\[:(.*?):\](?=.*\])/);if(n){var r=this.isInside("bracket");return r&&e.posix++,t({type:"posix",insideBracket:r,inner:n[1],val:n[0]})}}).capture("bracket",function(){}).capture("bracket.open",function(){var e=this.parsed,t=this.position(),n=this.match(/^\[(?=.*\])/);if(n){var o=this.prev(),s=r.last(o.nodes);if("\\"===e.slice(-1)&&!this.isInside("bracket"))return s.val=s.val.slice(0,s.val.length-1),t({type:"escape",val:n[0]});var a=t({type:"bracket.open",val:n[0]});if("bracket.open"===s.type||this.isInside("bracket"))return a.val="\\"+a.val,a.type="bracket.inner",a.escaped=!0,a;var c=t({type:"bracket",nodes:[a]});i(c,"parent",o),i(a,"parent",c),this.push("bracket",c),o.nodes.push(c)}}).capture("bracket.inner",function(){if(this.isInside("bracket")){var e=this.position(),t=this.match(o);if(t&&t[0]){var n=this.input.charAt(0),r=t[0],i=e({type:"bracket.inner",val:r});if("\\\\"===r)return i;var s=r.charAt(0),a=r.slice(-1);return"!"===s&&(r="^"+r.slice(1)),("\\"===a||"^"===r&&"]"===n)&&(r+=this.input[0],this.consume(1)),i.val=r,i}}}).capture("bracket.close",function(){var e=this.parsed,t=this.position(),n=this.match(/^\]/);if(n){var o=this.prev(),s=r.last(o.nodes);if("\\"===e.slice(-1)&&!this.isInside("bracket"))return s.val=s.val.slice(0,s.val.length-1),t({type:"escape",val:n[0]});var a=t({type:"bracket.close",rest:this.input,val:n[0]});if("bracket.open"===s.type)return a.type="bracket.inner",a.escaped=!0,a;var c=this.pop("bracket");if(!this.isType(c,"bracket")){if(this.options.strict)throw new Error('missing opening "["');return a.type="bracket.inner",a.escaped=!0,a}c.nodes.push(a),i(a,"parent",c)}})},e.exports.TEXT_REGEX="(\\[(?=.*\\])|\\])+"},function(e,t,n){"use strict";var r,i=n(13),o=n(24);t.last=function(e){return e[e.length-1]},t.createRegex=function(e,t){if(r)return r;var n,s={contains:!0,strictClose:!1},a=o.create(e,s);return n=i("string"==typeof t?"^(?:"+t+"|"+a+")":a,s),r=n}},function(e,t,n){"use strict";var r=n(26),i=n(90),o=n(8),s=n(87),a=n(89);e.exports=function(e){this.options=o({source:"extglob"},e),this.snapdragon=this.options.snapdragon||new r(this.options),this.snapdragon.patterns=this.snapdragon.patterns||{},this.compiler=this.snapdragon.compiler,this.parser=this.snapdragon.parser,s(this.snapdragon),a(this.snapdragon),i(this.snapdragon,"parse",function(e,t){var n=r.prototype.parse.apply(this,arguments);n.input=e;var o=this.parser.stack.pop();if(o&&!0!==this.options.strict){var s=o.nodes[0];s.val="\\"+s.val;var a=s.parent.nodes[1];"star"===a.type&&(a.loose=!0)}return i(n,"parser",this.parser),n}),i(this,"parse",function(e,t){return this.snapdragon.parse.apply(this.snapdragon,arguments)}),i(this,"compile",function(e,t){return this.snapdragon.compile.apply(this.snapdragon,arguments)})}},function(e,t,n){"use strict";var r,i=n(86),o=n(82),s=n(24),a=n(13),c=function(e){return r||(t="([!@*?+]?\\(|\\)|\\[:?(?=.*?:?\\])|:?\\]|[*+?!^$.\\\\/])+",n=s.create(t,{contains:!0,strictClose:!1}),r=a("(?:[\\^]|\\\\|"+n+")",{strictClose:!1}));var t,n};e.exports=function(e){var t=e.parser.parsers;e.use(o.parsers);var n=t.escape,r=t.slash,s=t.qmark,a=t.plus,u=t.star,l=t.dot;e.use(i.parsers),e.parser.use(function(){this.notRegex=/^\!+(?!\()/}).capture("escape",n).capture("slash",r).capture("qmark",s).capture("star",u).capture("plus",a).capture("dot",l).capture("text",function(){if(!this.isInside("bracket")){var e=this.position(),t=this.match(c(this.options));if(t&&t[0])return e({type:"text",val:t[0].replace(/([[\]^$])/g,"\\$1")})}})}},function(e,t,n){e.exports=new(n(49))},function(e,t,n){"use strict";var r=e.exports,i=n(0),o=n(26);r.define=n(239),r.diff=n(84),r.extend=n(81),r.pick=n(85),r.typeOf=n(240),r.unique=n(25),r.isWindows=function(){return"\\"===i.sep||"win32"===process.platform},r.instantiate=function(e,t){var n;return n="object"===r.typeOf(e)&&e.snapdragon?e.snapdragon:"object"===r.typeOf(t)&&t.snapdragon?t.snapdragon:new o(t),r.define(n,"parse",function(e,t){var n=o.prototype.parse.apply(this,arguments);n.input=e;var i=this.parser.stack.pop();if(i&&!0!==this.options.strictErrors){var s=i.nodes[0],a=i.nodes[1];if("bracket"===i.type)"["===a.val.charAt(0)&&(a.val="\\"+a.val);else{s.val="\\"+s.val;var c=s.parent.nodes[1];"star"===c.type&&(c.loose=!0)}}return r.define(n,"parser",this.parser),n}),n},r.createKey=function(e,t){if("object"!==r.typeOf(t))return e;for(var n=e,i=Object.keys(t),o=0;o<i.length;o++){var s=i[o];n+=";"+s+"="+String(t[s])}return n},r.arrayify=function(e){return"string"==typeof e?[e]:e?Array.isArray(e)?e:[e]:[]},r.isString=function(e){return"string"==typeof e},r.isObject=function(e){return"object"===r.typeOf(e)},r.hasSpecialChars=function(e){return/(?:(?:(^|\/)[!.])|[*?+()|\[\]{}]|[+@]\()/.test(e)},r.escapeRegex=function(e){return e.replace(/[-[\]{}()^$|*+?.\\\/\s]/g,"\\$&")},r.toPosixPath=function(e){return e.replace(/\\+/g,"/")},r.unescape=function(e){return r.toPosixPath(e.replace(/\\(?=[*+?!.])/g,""))},r.stripPrefix=function(e){if("."!==e.charAt(0))return e;var t=e.charAt(1);return r.isSlash(t)?e.slice(2):e},r.isSlash=function(e){return"/"===e||"\\/"===e||"\\"===e||"\\\\"===e},r.matchPath=function(e,t){return t&&t.contains?r.containsPattern(e,t):r.equalsPattern(e,t)},r._equals=function(e,t,n){return n===e||n===t},r._contains=function(e,t,n){return-1!==e.indexOf(n)||-1!==t.indexOf(n)},r.equalsPattern=function(e,t){var n=r.unixify(t);return t=t||{},function(i){var o=r._equals(i,n(i),e);if(!0===o||!0!==t.nocase)return o;var s=i.toLowerCase();return r._equals(s,n(s),e)}},r.containsPattern=function(e,t){var n=r.unixify(t);return t=t||{},function(i){var o=r._contains(i,n(i),e);if(!0===o||!0!==t.nocase)return o;var s=i.toLowerCase();return r._contains(s,n(s),e)}},r.matchBasename=function(e){return function(t){return e.test(i.basename(t))}},r.value=function(e,t,n){return n&&!1===n.unixify?e:t(e)},r.unixify=function(e){return e=e||{},function(t){return(r.isWindows()||!0===e.unixify)&&(t=r.toPosixPath(t)),!1!==e.stripPrefix&&(t=r.stripPrefix(t)),!0===e.unescape&&(t=r.unescape(t)),t}}},function(e,t,n){"use strict";
/*!
 * define-property <https://github.com/jonschlinkert/define-property>
 *
 * Copyright (c) 2015-2018, Jon Schlinkert.
 * Released under the MIT License.
 */var r=n(6),i=n(17),o="undefined"!=typeof Reflect&&Reflect.defineProperty?Reflect.defineProperty:Object.defineProperty;e.exports=function(e,t,n){if(!r(e)&&"function"!=typeof e&&!Array.isArray(e))throw new TypeError("expected an object, function, or array");if("string"!=typeof t)throw new TypeError('expected "key" to be a string');return i(n)?(o(e,t,n),e):(o(e,t,{configurable:!0,enumerable:!1,writable:!0,value:n}),e)}},function(e,t){var n=Object.prototype.toString;function r(e){return e.constructor?e.constructor.name:null}e.exports=function(e){if(void 0===e)return"undefined";if(null===e)return"null";var t=typeof e;if("boolean"===t)return"boolean";if("string"===t)return"string";if("number"===t)return"number";if("symbol"===t)return"symbol";if("function"===t)return"GeneratorFunction"===r(e)?"generatorfunction":"function";if(function(e){return Array.isArray?Array.isArray(e):e instanceof Array}(e))return"array";if(function(e){if(e.constructor&&"function"==typeof e.constructor.isBuffer)return e.constructor.isBuffer(e);return!1}(e))return"buffer";if(function(e){try{if("number"==typeof e.length&&"function"==typeof e.callee)return!0}catch(e){if(-1!==e.message.indexOf("callee"))return!0}return!1}(e))return"arguments";if(function(e){return e instanceof Date||"function"==typeof e.toDateString&&"function"==typeof e.getDate&&"function"==typeof e.setDate}(e))return"date";if(function(e){return e instanceof Error||"string"==typeof e.message&&e.constructor&&"number"==typeof e.constructor.stackTraceLimit}(e))return"error";if(function(e){return e instanceof RegExp||"string"==typeof e.flags&&"boolean"==typeof e.ignoreCase&&"boolean"==typeof e.multiline&&"boolean"==typeof e.global}(e))return"regexp";switch(r(e)){case"Symbol":return"symbol";case"Promise":return"promise";case"WeakMap":return"weakmap";case"WeakSet":return"weakset";case"Map":return"map";case"Set":return"set";case"Int8Array":return"int8array";case"Uint8Array":return"uint8array";case"Uint8ClampedArray":return"uint8clampedarray";case"Int16Array":return"int16array";case"Uint16Array":return"uint16array";case"Int32Array":return"int32array";case"Uint32Array":return"uint32array";case"Float32Array":return"float32array";case"Float64Array":return"float64array"}if(function(e){return"function"==typeof e.throw&&"function"==typeof e.return&&"function"==typeof e.next}(e))return"generator";switch(t=n.call(e)){case"[object Object]":return"object";case"[object Map Iterator]":return"mapiterator";case"[object Set Iterator]":return"setiterator";case"[object String Iterator]":return"stringiterator";case"[object Array Iterator]":return"arrayiterator"}return t.slice(8,-1).toLowerCase().replace(/\s/g,"")}},function(e,t){var n="win32"===process.platform;function r(e,t){var r=e[t];return t>0&&("/"===r||n&&"\\"===r)}e.exports=function(e){var t=e.length-1;if(t<2)return e;for(;r(e,t);)t--;return e.substr(0,t+1)}},function(e,t,n){"use strict";n(0);var r=n(243),i=n(244),o="win32"===n(21).platform();e.exports=function(e){o&&e.indexOf("/")<0&&(e=e.split("\\").join("/")),/[\{\[].*[\/]*.*[\}\]]$/.test(e)&&(e+="/"),e+="a";do{e=i.posix(e)}while(r(e)||/(^|[^\\])([\{\[]|\([^\)]+$)/.test(e));return e.replace(/\\([\*\?\|\[\]\(\)\{\}])/g,"$1")}},function(e,t,n){
/*!
 * is-glob <https://github.com/jonschlinkert/is-glob>
 *
 * Copyright (c) 2014-2016, Jon Schlinkert.
 * Licensed under the MIT License.
 */
var r=n(93);e.exports=function(e){if("string"!=typeof e||""===e)return!1;if(r(e))return!0;for(var t,n=/(\\).|([*?]|\[.*\]|\{.*\}|\(.*\|.*\)|^!)/;t=n.exec(e);){if(t[2])return!0;e=e.slice(t.index+t[0].length)}return!1}},function(e,t,n){"use strict";n(0);var r=n(3).inspect;function i(e){if("string"!=typeof e)throw new TypeError("Path must be a string. Received "+r(e))}function o(e){if(i(e),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,r=-1,o=!0,s=e.length-1;s>=1;--s)if(47===(t=e.charCodeAt(s))){if(!o){r=s;break}}else o=!1;return-1===r?n?"/":".":n&&1===r?"//":e.slice(0,r)}function s(e){i(e);var t=e.length;if(0===t)return".";var n=-1,r=-1,o=!0,s=0,a=e.charCodeAt(0);if(t>1)if(47===a||92===a){if(n=s=1,47===(a=e.charCodeAt(1))||92===a){for(var c=2,u=c;c<t&&(47!==(a=e.charCodeAt(c))&&92!==a);++c);if(c<t&&c!==u){for(u=c;c<t&&(47===(a=e.charCodeAt(c))||92===a);++c);if(c<t&&c!==u){for(u=c;c<t&&(47!==(a=e.charCodeAt(c))&&92!==a);++c);if(c===t)return e;c!==u&&(n=s=c+1)}}}}else(a>=65&&a<=90||a>=97&&a<=122)&&(a=e.charCodeAt(1),58===e.charCodeAt(1)&&(n=s=2,t>2&&(47!==(a=e.charCodeAt(2))&&92!==a||(n=s=3))));else if(47===a||92===a)return e[0];for(var l=t-1;l>=s;--l)if(47===(a=e.charCodeAt(l))||92===a){if(!o){r=l;break}}else o=!1;if(-1===r){if(-1===n)return".";r=n}return e.slice(0,r)}e.exports="win32"===process.platform?s:o,e.exports.posix=o,e.exports.win32=s},function(e,t,n){
/*!
 * is-glob <https://github.com/jonschlinkert/is-glob>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */
var r=n(93),i={"{":"}","(":")","[":"]"};e.exports=function(e,t){if("string"!=typeof e||""===e)return!1;if(r(e))return!0;var n,o=/\\(.)|(^!|\*|[\].+)]\?|\[[^\\\]]+\]|\{[^\\}]+\}|\(\?[:!=][^\\)]+\)|\([^|]+\|[^\\)]+\))/;for(t&&!1===t.strict&&(o=/\\(.)|(^!|[*?{}()[\]]|\(\?)/);n=o.exec(e);){if(n[2])return!0;var s=n.index+n[0].length,a=n[1],c=a?i[a]:null;if(a&&c){var u=e.indexOf(c,s);-1!==u&&(s=u+1)}e=e.slice(s)}return!1}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){var r,i,o,s,a,c,u,l,h,f,p,d=[].slice,g=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1},m={}.hasOwnProperty;for(l in u=n(0),o=function(e){return e instanceof Function},s=function(e){return"string"==typeof e||!!e&&"object"==typeof e&&"[object String]"===Object.prototype.toString.call(e)},(p=t).VERSION="1.1.0",f=function(e){var t;for(e=e.replace(/\\/g,"/"),t=/\/\//;e.match(t);)e=e.replace(t,"/");return e},u)o(h=u[l])?p[l]=function(e){return function(){var t,n;return t=(t=1<=arguments.length?d.call(arguments,0):[]).map(function(e){return s(e)?f(e):e}),n=u[e].apply(u,t),s(n)?f(n):n}}(l):p[l]=h;for(c in p.sep="/",i={toUnix:f,normalizeSafe:function(e){return(e=f(e)).startsWith("./")?e.startsWith("./..")||"./"===e?p.normalize(e):"./"+p.normalize(e):p.normalize(e)},normalizeTrim:function(e){return(e=p.normalizeSafe(e)).endsWith("/")?e.slice(0,+(e.length-2)+1||9e9):e},joinSafe:function(){var e,t;return e=1<=arguments.length?d.call(arguments,0):[],t=p.join.apply(null,e),e[0].startsWith("./")&&!t.startsWith("./")&&(t="./"+t),t},addExt:function(e,t){return t?("."!==t[0]&&(t="."+t),e+(e.endsWith(t)?"":t)):e},trimExt:function(e,t,n){var r;return null==n&&(n=7),r=p.extname(e),a(r,t,n)?e.slice(0,+(e.length-r.length-1)+1||9e9):e},removeExt:function(e,t){return t?(t="."===t[0]?t:"."+t,p.extname(e)===t?p.trimExt(e):e):e},changeExt:function(e,t,n,r){return null==r&&(r=7),p.trimExt(e,n,r)+(t?"."===t[0]?t:"."+t:"")},defaultExt:function(e,t,n,r){var i;return null==r&&(r=7),i=p.extname(e),a(i,n,r)?e:p.addExt(e,t)}},a=function(e,t,n){return null==t&&(t=[]),e&&e.length<=n&&g.call(t.map(function(e){return(e&&"."!==e[0]?".":"")+e}),e)<0},i)if(m.call(i,c)){if(r=i[c],void 0!==p[c])throw new Error("path."+c+" already exists.");p[c]=r}},function(e,t,n){"use strict";var r=n(2),i=n(0),o=n(94),s=n(254),a=Object.create(null);function c(e,t,n,o,s){try{return r.watch(e,t,function(t,r){n(e),s(t,r,{watchedPath:e}),r&&e!==r&&u(i.resolve(e,r),"listeners",i.join(e,r))})}catch(e){o(e)}}function u(e,t,n,r,i){a[e]&&a[e][t].forEach(function(e){e(n,r,i)})}var l=Object.create(null);function h(){}h.prototype._watchWithNodeFs=function(e,t){var n=i.dirname(e),o=i.basename(e);this._getWatchedDir(n).add(o);var h,f=i.resolve(e),p={persistent:this.options.persistent};return t||(t=Function.prototype),this.options.usePolling?(p.interval=this.enableBinaryInterval&&s(o)?this.options.binaryInterval:this.options.interval,h=function(e,t,n,i){var o=i.listener,s=i.rawEmitter,a=l[t],c=[],u=[];a&&(a.options.persistent<n.persistent||a.options.interval>n.interval)&&(c=a.listeners,u=a.rawEmitters,r.unwatchFile(t),a=!1),a?(a.listeners.push(o),a.rawEmitters.push(s)):(c.push(o),u.push(s),a=l[t]={listeners:c,rawEmitters:u,options:n,watcher:r.watchFile(t,n,function(n,r){a.rawEmitters.forEach(function(e){e("change",t,{curr:n,prev:r})});var i=n.mtime.getTime();(n.size!==r.size||i>r.mtime.getTime()||0===i)&&a.listeners.forEach(function(t){t(e,n)})})});var h=a.listeners.length-1;return function(){delete a.listeners[h],delete a.rawEmitters[h],Object.keys(a.listeners).length||(r.unwatchFile(t),delete l[t])}}(e,f,p,{listener:t,rawEmitter:this.emit.bind(this,"raw")})):h=function(e,t,n,i){var o,s=i.listener,l=i.errHandler,h=i.rawEmitter,f=a[t];if(!n.persistent)return(o=c(e,n,s,l,h)).close.bind(o);if(f)f.listeners.push(s),f.errHandlers.push(l),f.rawEmitters.push(h);else{if(!(o=c(e,n,u.bind(null,t,"listeners"),l,u.bind(null,t,"rawEmitters"))))return;var p=u.bind(null,t,"errHandlers");o.on("error",function(t){f.watcherUnusable=!0,"win32"===process.platform&&"EPERM"===t.code?r.open(e,"r",function(e,n){e||r.close(n,function(e){e||p(t)})}):p(t)}),f=a[t]={listeners:[s],errHandlers:[l],rawEmitters:[h],watcher:o}}var d=f.listeners.length-1;return function(){delete f.listeners[d],delete f.errHandlers[d],delete f.rawEmitters[d],Object.keys(f.listeners).length||(f.watcherUnusable||f.watcher.close(),delete a[t])}}(e,f,p,{listener:t,errHandler:this._handleError.bind(this),rawEmitter:this.emit.bind(this,"raw")}),h},h.prototype._handleFile=function(e,t,n,o){var s=i.dirname(e),a=i.basename(e),c=this._getWatchedDir(s);if(c.has(a))return o();var u=this._watchWithNodeFs(e,function(t,n){this._throttle("watch",e,5)&&(!n||n&&0===n.mtime.getTime()?r.stat(e,function(t,n){t?this._remove(s,a):this._emit("change",e,n)}.bind(this)):c.has(a)&&this._emit("change",e,n))}.bind(this));if(!n||!this.options.ignoreInitial){if(!this._throttle("add",e,0))return;this._emit("add",e,t)}return o&&o(),u},h.prototype._handleSymlink=function(e,t,n,i){var o=e.fullPath,s=this._getWatchedDir(t);return this.options.followSymlinks?!!this._symlinkPaths[o]||void(this._symlinkPaths[o]=!0):(this._readyCount++,r.realpath(n,function(t,r){s.has(i)?this._symlinkPaths[o]!==r&&(this._symlinkPaths[o]=r,this._emit("change",n,e.stat)):(s.add(i),this._symlinkPaths[o]=r,this._emit("add",n,e.stat)),this._emitReady()}.bind(this)),!0)},h.prototype._handleDir=function(e,t,n,r,s,a,c){var u=this._getWatchedDir(i.dirname(e)),l=u.has(i.basename(e));n&&this.options.ignoreInitial||s||l||a.hasGlob&&!a.globFilter(e)||this._emit("addDir",e,t),u.add(i.basename(e)),this._getWatchedDir(e);var h,f=function(t,n,c){if(t=i.join(t,""),!a.hasGlob){var u=this._throttle("readdir",t,1e3);if(!u)return}var l=this._getWatchedDir(a.path),h=[];o({root:t,entryType:"all",fileFilter:a.filterPath,directoryFilter:a.filterDir,depth:0,lstat:!0}).on("data",function(o){var c=o.path,u=i.join(t,c);h.push(c),o.stat.isSymbolicLink()&&this._handleSymlink(o,t,u,c)||c!==s&&(s||l.has(c))||(this._readyCount++,u=i.join(e,i.relative(e,u)),this._addToNodeFs(u,n,a,r+1))}.bind(this)).on("end",function(){var e=!!u&&u.clear();c&&c(),l.children().filter(function(e){return e!==t&&-1===h.indexOf(e)&&(!a.hasGlob||a.filterPath({fullPath:i.resolve(t,e)}))}).forEach(function(e){this._remove(t,e)},this),e&&f(t,!1)}.bind(this)).on("error",this._handleError.bind(this))}.bind(this);return null==this.options.depth||r<=this.options.depth?(s||f(e,n,c),h=this._watchWithNodeFs(e,function(e,t){t&&0===t.mtime.getTime()||f(e,!1)})):c(),h},h.prototype._addToNodeFs=function(e,t,n,o,s,a){a||(a=Function.prototype);var c=this._emitReady;if(this._isIgnored(e)||this.closed)return c(),a(null,!1);var u=this._getWatchHelpers(e,o);!u.hasGlob&&n&&(u.hasGlob=n.hasGlob,u.globFilter=n.globFilter,u.filterPath=n.filterPath,u.filterDir=n.filterDir),r[u.statMethod](u.watchPath,function(n,l){if(this._handleError(n))return a(null,e);if(this._isIgnored(u.watchPath,l))return c(),a(null,!1);var h,f=function(e,n){return this._handleDir(e,l,t,o,n,u,c)}.bind(this);if(l.isDirectory())h=f(u.watchPath,s);else if(l.isSymbolicLink()){var p=i.dirname(u.watchPath);this._getWatchedDir(p).add(u.watchPath),this._emit("add",u.watchPath,l),h=f(p,e),r.realpath(e,function(t,n){this._symlinkPaths[i.resolve(e)]=n,c()}.bind(this))}else h=this._handleFile(u.watchPath,l,t,c);h&&(this._closers[e]=h),a(null,!1)}.bind(this))},e.exports=h},function(e,t,n){"use strict";var r=n(250),i=n(3),o=r.Readable;function s(e){if(!(this instanceof s))return new s(e);(e=e||{}).objectMode=!0,o.call(this,e),this.highWaterMark=1/0,this._destroyed=!1,this._paused=!1,this._warnings=[],this._errors=[],this._pauseResumeErrors()}e.exports=s,i.inherits(s,o);var a=s.prototype;a._pauseResumeErrors=function(){var e=this;e.on("pause",function(){e._paused=!0}),e.on("resume",function(){e._destroyed||(e._paused=!1,e._warnings.forEach(function(t){e.emit("warn",t)}),e._warnings.length=0,e._errors.forEach(function(t){e.emit("error",t)}),e._errors.length=0)})},a._processEntry=function(e){this._destroyed||this.push(e)},a._read=function(){},a.destroy=function(){this.push(null),this.readable=!1,this._destroyed=!0,this.emit("close")},a._done=function(){this.push(null)},a._handleError=function(e){var t=this;setImmediate(function(){if(t._paused)return t._warnings.push(e);t._destroyed||t.emit("warn",e)})},a._handleFatalError=function(e){var t=this;setImmediate(function(){if(t._paused)return t._errors.push(e);t._destroyed||t.emit("error",e)})},e.exports=function(){var e=new s;return{stream:e,processEntry:e._processEntry.bind(e),done:e._done.bind(e),handleError:e._handleError.bind(e),handleFatalError:e._handleFatalError.bind(e)}}},function(e,t,n){var r=n(15);"disable"===process.env.READABLE_STREAM&&r?(e.exports=r,(t=e.exports=r.Readable).Readable=r.Readable,t.Writable=r.Writable,t.Duplex=r.Duplex,t.Transform=r.Transform,t.PassThrough=r.PassThrough,t.Stream=r):((t=e.exports=n(95)).Stream=r||t,t.Readable=t,t.Writable=n(98),t.Duplex=n(19),t.Transform=n(100),t.PassThrough=n(253))},function(e,t,n){"use strict";var r=n(41).Buffer,i=n(3);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},e.prototype.concat=function(e){if(0===this.length)return r.alloc(0);if(1===this.length)return this.head.data;for(var t,n,i,o=r.allocUnsafe(e>>>0),s=this.head,a=0;s;)t=s.data,n=o,i=a,t.copy(n,i),a+=s.data.length,s=s.next;return o},e}(),i&&i.inspect&&i.inspect.custom&&(e.exports.prototype[i.inspect.custom]=function(){var e=i.inspect({length:this.length});return this.constructor.name+" "+e})},function(e,t,n){e.exports=n(3).deprecate},function(e,t,n){"use strict";e.exports=o;var r=n(100),i=n(28);function o(e){if(!(this instanceof o))return new o(e);r.call(this,e)}i.inherits=n(16),i.inherits(o,r),o.prototype._transform=function(e,t,n){n(null,e)}},function(e,t,n){"use strict";var r=n(0),i=n(255),o=Object.create(null);i.forEach(function(e){o[e]=!0}),e.exports=function(e){return r.extname(e).slice(1).toLowerCase()in o}},function(e){e.exports=["3dm","3ds","3g2","3gp","7z","a","aac","adp","ai","aif","aiff","alz","ape","apk","ar","arj","asf","au","avi","bak","baml","bh","bin","bk","bmp","btif","bz2","bzip2","cab","caf","cgm","class","cmx","cpio","cr2","csv","cur","dat","dcm","deb","dex","djvu","dll","dmg","dng","doc","docm","docx","dot","dotm","dra","DS_Store","dsk","dts","dtshd","dvb","dwg","dxf","ecelp4800","ecelp7470","ecelp9600","egg","eol","eot","epub","exe","f4v","fbs","fh","fla","flac","fli","flv","fpx","fst","fvt","g3","gh","gif","graffle","gz","gzip","h261","h263","h264","icns","ico","ief","img","ipa","iso","jar","jpeg","jpg","jpgv","jpm","jxr","key","ktx","lha","lib","lvp","lz","lzh","lzma","lzo","m3u","m4a","m4v","mar","mdi","mht","mid","midi","mj2","mka","mkv","mmr","mng","mobi","mov","movie","mp3","mp4","mp4a","mpeg","mpg","mpga","mxu","nef","npx","numbers","o","oga","ogg","ogv","otf","pages","pbm","pcx","pdb","pdf","pea","pgm","pic","png","pnm","pot","potm","potx","ppa","ppam","ppm","pps","ppsm","ppsx","ppt","pptm","pptx","psd","pya","pyc","pyo","pyv","qt","rar","ras","raw","resources","rgb","rip","rlc","rmf","rmvb","rtf","rz","s3m","s7z","scpt","sgi","shar","sil","sketch","slk","smv","so","stl","sub","swf","tar","tbz","tbz2","tga","tgz","thmx","tif","tiff","tlz","ttc","ttf","txz","udf","uvh","uvi","uvm","uvp","uvs","uvu","viv","vob","war","wav","wax","wbmp","wdp","weba","webm","webp","whl","wim","wm","wma","wmv","wmx","woff","woff2","wrm","wvx","xbm","xif","xla","xlam","xls","xlsb","xlsm","xlsx","xlt","xltm","xltx","xm","xmind","xpi","xpm","xwd","xz","z","zip","zipx"]},function(e,t,n){"use strict";var r,i=n(2),o=n(0),s=n(94);try{r=n(257)}catch(e){process.env.CHOKIDAR_PRINT_FSEVENTS_REQUIRE_ERROR&&console.error(e)}var a=Object.create(null),c=10;function u(e,t){return new r(e).on("fsevent",t).start()}function l(e,t,n,i){var s,l=o.extname(e)?o.dirname(e):e,h=o.dirname(l);(function(e){for(var t=Object.keys(a),n=0,r=0,i=t.length;r<i;++r){var o=t[r];if(0===o.indexOf(e)&&++n>=c)return!0}return!1})(h)&&(l=h);var f=o.resolve(e),p=f!==t;function d(e,r,i){p&&(e=e.replace(t,f)),e!==f&&e.indexOf(f+o.sep)||n(e,r,i)}l in a||Object.keys(a).some(function(e){if(!t.indexOf(o.resolve(e)+o.sep))return l=e,!0})?(s=a[l]).listeners.push(d):s=a[l]={listeners:[d],rawEmitters:[i],watcher:u(l,function(e,t){var n=r.getInfo(e,t);s.listeners.forEach(function(r){r(e,t,n)}),s.rawEmitters.forEach(function(t){t(n.event,e,n)})})};var g=s.listeners.length-1;return function(){delete s.listeners[g],delete s.rawEmitters[g],Object.keys(s.listeners).length||(s.watcher.stop(),delete a[l])}}function h(e,t){for(var n=0;!e.indexOf(t)&&(e=o.dirname(e))!==t;)n++;return n}function f(){}f.prototype._watchWithFsEvents=function(e,t,n,r){if(!this._isIgnored(e)){var s=function(s,a,c){if(!(void 0!==this.options.depth&&h(s,t)>this.options.depth)){var u=n(o.join(e,o.relative(e,s)));if(!r||r(u)){var l=o.dirname(u),f=o.basename(u),p=this._getWatchedDir("directory"===c.type?u:l),d=function(e){if(this._isIgnored(u,e))return this._ignoredPaths[u]=!0,e&&e.isDirectory()&&(this._ignoredPaths[u+"/**/*"]=!0),!0;delete this._ignoredPaths[u],delete this._ignoredPaths[u+"/**/*"]}.bind(this),g=function(e){if(!d())if("unlink"===e)("directory"===c.type||p.has(f))&&this._remove(l,f);else{if("add"===e){if("directory"===c.type&&this._getWatchedDir(u),"symlink"===c.type&&this.options.followSymlinks){var n=void 0===this.options.depth?void 0:h(s,t)+1;return this._addToFsEvents(u,!1,!0,n)}this._getWatchedDir(l).add(f)}var r="directory"===c.type?e+"Dir":e;this._emit(r,u),"addDir"===r&&this._addToFsEvents(u,!1,!0)}}.bind(this);if(-1!==[69888,70400,71424,72704,73472,131328,131840,262912].indexOf(a)||"unknown"===c.event)"function"==typeof this.options.ignored?i.stat(u,function(e,t){d(t)||(t?m():g("unlink"))}):y();else switch(c.event){case"created":case"modified":return m();case"deleted":case"moved":return y()}}}function m(){g(p.has(f)?"change":"add")}function y(){i.open(u,"r",function(e,t){e?"EACCES"!==e.code?g("unlink"):m():i.close(t,function(e){e&&"EACCES"!==e.code?g("unlink"):m()})})}}.bind(this),a=l(e,t,s,this.emit.bind(this,"raw"));return this._emitReady(),a}},f.prototype._handleFsEventsSymlink=function(e,t,n,r){this._symlinkPaths[t]||(this._symlinkPaths[t]=!0,this._readyCount++,i.realpath(e,function(t,i){if(this._handleError(t)||this._isIgnored(i))return this._emitReady();this._readyCount++,this._addToFsEvents(i||e,function(t){var r="."+o.sep,s=e;return i&&i!==r?s=t.replace(i,e):t!==r&&(s=o.join(e,t)),n(s)},!1,r)}.bind(this)))},f.prototype._addToFsEvents=function(e,t,n,r){var a="function"==typeof t?t:function(e){return e},c=function(e,t){var r=a(e),i=t.isDirectory(),s=this._getWatchedDir(o.dirname(r)),c=o.basename(r);i&&this._getWatchedDir(r),s.has(c)||(s.add(c),this.options.ignoreInitial&&!0!==n||this._emit(i?"addDir":"add",r,t))}.bind(this),u=this._getWatchHelpers(e);if(i[u.statMethod](u.watchPath,function(t,n){if(this._handleError(t)||this._isIgnored(u.watchPath,n))return this._emitReady(),this._emitReady();if(n.isDirectory()){if(u.globFilter||c(a(e),n),r&&r>this.options.depth)return;s({root:u.watchPath,entryType:"all",fileFilter:u.filterPath,directoryFilter:u.filterDir,lstat:!0,depth:this.options.depth-(r||0)}).on("data",function(e){if(!e.stat.isDirectory()||u.filterPath(e)){var t=o.join(u.watchPath,e.path),n=e.fullPath;if(u.followSymlinks&&e.stat.isSymbolicLink()){var r=void 0===this.options.depth?void 0:h(t,o.resolve(u.watchPath))+1;this._handleFsEventsSymlink(t,n,a,r)}else c(t,e.stat)}}.bind(this)).on("error",function(){}).on("end",this._emitReady)}else c(u.watchPath,n),this._emitReady()}.bind(this)),this.options.persistent&&!0!==n){var l=function(t,n){if(!this.closed){var r=this._watchWithFsEvents(u.watchPath,o.resolve(n||u.watchPath),a,u.globFilter);r&&(this._closers[e]=r)}}.bind(this);"function"==typeof t?l():i.realpath(u.watchPath,l)}},e.exports=f,e.exports.canUse=function(){return r&&Object.keys(a).length<128}},function(e,t){e.exports=require("fsevents")},function(e,t,n){var r=n(0),i="win32"===process.platform,o=n(2),s=process.env.NODE_DEBUG&&/fs/.test(process.env.NODE_DEBUG);function a(e){return"function"==typeof e?e:function(){var e;if(s){var t=new Error;e=function(e){e&&(t.message=e.message,n(e=t))}}else e=n;return e;function n(e){if(e){if(process.throwDeprecation)throw e;if(!process.noDeprecation){var t="fs: missing callback "+(e.stack||e.message);process.traceDeprecation?console.trace(t):console.error(t)}}}}()}r.normalize;if(i)var c=/(.*?)(?:[\/\\]+|$)/g;else c=/(.*?)(?:[\/]+|$)/g;if(i)var u=/^(?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/][^\\\/]+)?[\\\/]*/;else u=/^[\/]*/;t.realpathSync=function(e,t){if(e=r.resolve(e),t&&Object.prototype.hasOwnProperty.call(t,e))return t[e];var n,s,a,l,h=e,f={},p={};function d(){var t=u.exec(e);n=t[0].length,s=t[0],a=t[0],l="",i&&!p[a]&&(o.lstatSync(a),p[a]=!0)}for(d();n<e.length;){c.lastIndex=n;var g=c.exec(e);if(l=s,s+=g[0],a=l+g[1],n=c.lastIndex,!(p[a]||t&&t[a]===a)){var m;if(t&&Object.prototype.hasOwnProperty.call(t,a))m=t[a];else{var y=o.lstatSync(a);if(!y.isSymbolicLink()){p[a]=!0,t&&(t[a]=a);continue}var b=null;if(!i){var v=y.dev.toString(32)+":"+y.ino.toString(32);f.hasOwnProperty(v)&&(b=f[v])}null===b&&(o.statSync(a),b=o.readlinkSync(a)),m=r.resolve(l,b),t&&(t[a]=m),i||(f[v]=b)}e=r.resolve(m,e.slice(n)),d()}}return t&&(t[h]=e),e},t.realpath=function(e,t,n){if("function"!=typeof n&&(n=a(t),t=null),e=r.resolve(e),t&&Object.prototype.hasOwnProperty.call(t,e))return process.nextTick(n.bind(null,null,t[e]));var s,l,h,f,p=e,d={},g={};function m(){var t=u.exec(e);s=t[0].length,l=t[0],h=t[0],f="",i&&!g[h]?o.lstat(h,function(e){if(e)return n(e);g[h]=!0,y()}):process.nextTick(y)}function y(){if(s>=e.length)return t&&(t[p]=e),n(null,e);c.lastIndex=s;var r=c.exec(e);return f=l,l+=r[0],h=f+r[1],s=c.lastIndex,g[h]||t&&t[h]===h?process.nextTick(y):t&&Object.prototype.hasOwnProperty.call(t,h)?w(t[h]):o.lstat(h,b)}function b(e,r){if(e)return n(e);if(!r.isSymbolicLink())return g[h]=!0,t&&(t[h]=h),process.nextTick(y);if(!i){var s=r.dev.toString(32)+":"+r.ino.toString(32);if(d.hasOwnProperty(s))return v(null,d[s],h)}o.stat(h,function(e){if(e)return n(e);o.readlink(h,function(e,t){i||(d[s]=t),v(e,t)})})}function v(e,i,o){if(e)return n(e);var s=r.resolve(f,i);t&&(t[o]=s),w(s)}function w(t){e=r.resolve(t,e.slice(s)),m()}m()}},function(e,t,n){var r=n(260),i=n(261);e.exports=function(e){if(!e)return[];"{}"===e.substr(0,2)&&(e="\\{\\}"+e.substr(2));return function e(t,n){var o=[];var s=i("{","}",t);if(!s||/\$$/.test(s.pre))return[t];var c=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(s.body);var u=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(s.body);var h=c||u;var m=s.body.indexOf(",")>=0;if(!h&&!m)return s.post.match(/,.*\}/)?(t=s.pre+"{"+s.body+a+s.post,e(t)):[t];var y;if(h)y=s.body.split(/\.\./);else if(1===(y=function e(t){if(!t)return[""];var n=[];var r=i("{","}",t);if(!r)return t.split(",");var o=r.pre;var s=r.body;var a=r.post;var c=o.split(",");c[c.length-1]+="{"+s+"}";var u=e(a);a.length&&(c[c.length-1]+=u.shift(),c.push.apply(c,u));n.push.apply(n,c);return n}(s.body)).length&&1===(y=e(y[0],!1).map(f)).length){var b=s.post.length?e(s.post,!1):[""];return b.map(function(e){return s.pre+y[0]+e})}var v=s.pre;var b=s.post.length?e(s.post,!1):[""];var w;if(h){var x=l(y[0]),k=l(y[1]),_=Math.max(y[0].length,y[1].length),S=3==y.length?Math.abs(l(y[2])):1,E=d,C=k<x;C&&(S*=-1,E=g);var T=y.some(p);w=[];for(var O=x;E(O,k);O+=S){var A;if(u)"\\"===(A=String.fromCharCode(O))&&(A="");else if(A=String(O),T){var j=_-A.length;if(j>0){var P=new Array(j+1).join("0");A=O<0?"-"+P+A.slice(1):P+A}}w.push(A)}}else w=r(y,function(t){return e(t,!1)});for(var L=0;L<w.length;L++)for(var R=0;R<b.length;R++){var M=v+w[L]+b[R];(!n||h||M)&&o.push(M)}return o}(function(e){return e.split("\\\\").join(o).split("\\{").join(s).split("\\}").join(a).split("\\,").join(c).split("\\.").join(u)}(e),!0).map(h)};var o="\0SLASH"+Math.random()+"\0",s="\0OPEN"+Math.random()+"\0",a="\0CLOSE"+Math.random()+"\0",c="\0COMMA"+Math.random()+"\0",u="\0PERIOD"+Math.random()+"\0";function l(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}function h(e){return e.split(o).join("\\").split(s).join("{").split(a).join("}").split(c).join(",").split(u).join(".")}function f(e){return"{"+e+"}"}function p(e){return/^-?0\d/.test(e)}function d(e,t){return e<=t}function g(e,t){return e>=t}},function(e,t){e.exports=function(e,t){for(var r=[],i=0;i<e.length;i++){var o=t(e[i],i);n(o)?r.push.apply(r,o):r.push(o)}return r};var n=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,n){"use strict";function r(e,t,n){e instanceof RegExp&&(e=i(e,n)),t instanceof RegExp&&(t=i(t,n));var r=o(e,t,n);return r&&{start:r[0],end:r[1],pre:n.slice(0,r[0]),body:n.slice(r[0]+e.length,r[1]),post:n.slice(r[1]+t.length)}}function i(e,t){var n=t.match(e);return n?n[0]:null}function o(e,t,n){var r,i,o,s,a,c=n.indexOf(e),u=n.indexOf(t,c+1),l=c;if(c>=0&&u>0){for(r=[],o=n.length;l>=0&&!a;)l==c?(r.push(l),c=n.indexOf(e,l+1)):1==r.length?a=[r.pop(),u]:((i=r.pop())<o&&(o=i,s=u),u=n.indexOf(t,l+1)),l=c<u&&c>=0?c:u;r.length&&(a=[o,s])}return a}e.exports=r,r.range=o},function(e,t,n){e.exports=d,d.GlobSync=g;var r=n(2),i=n(101),o=n(51),s=(o.Minimatch,n(50).Glob,n(3),n(0)),a=n(30),c=n(39),u=n(102),l=(u.alphasort,u.alphasorti,u.setopts),h=u.ownProp,f=u.childrenIgnored,p=u.isIgnored;function d(e,t){if("function"==typeof t||3===arguments.length)throw new TypeError("callback provided to sync glob\nSee: https://github.com/isaacs/node-glob/issues/167");return new g(e,t).found}function g(e,t){if(!e)throw new Error("must provide pattern");if("function"==typeof t||3===arguments.length)throw new TypeError("callback provided to sync glob\nSee: https://github.com/isaacs/node-glob/issues/167");if(!(this instanceof g))return new g(e,t);if(l(this,e,t),this.noprocess)return this;var n=this.minimatch.set.length;this.matches=new Array(n);for(var r=0;r<n;r++)this._process(this.minimatch.set[r],r,!1);this._finish()}g.prototype._finish=function(){if(a(this instanceof g),this.realpath){var e=this;this.matches.forEach(function(t,n){var r=e.matches[n]=Object.create(null);for(var o in t)try{o=e._makeAbs(o),r[i.realpathSync(o,e.realpathCache)]=!0}catch(t){if("stat"!==t.syscall)throw t;r[e._makeAbs(o)]=!0}})}u.finish(this)},g.prototype._process=function(e,t,n){a(this instanceof g);for(var r,i=0;"string"==typeof e[i];)i++;switch(i){case e.length:return void this._processSimple(e.join("/"),t);case 0:r=null;break;default:r=e.slice(0,i).join("/")}var s,u=e.slice(i);null===r?s=".":c(r)||c(e.join("/"))?(r&&c(r)||(r="/"+r),s=r):s=r;var l=this._makeAbs(s);f(this,s)||(u[0]===o.GLOBSTAR?this._processGlobStar(r,s,l,u,t,n):this._processReaddir(r,s,l,u,t,n))},g.prototype._processReaddir=function(e,t,n,r,i,o){var a=this._readdir(n,o);if(a){for(var c=r[0],u=!!this.minimatch.negate,l=c._glob,h=this.dot||"."===l.charAt(0),f=[],p=0;p<a.length;p++){if("."!==(m=a[p]).charAt(0)||h)(u&&!e?!m.match(c):m.match(c))&&f.push(m)}var d=f.length;if(0!==d)if(1!==r.length||this.mark||this.stat){r.shift();for(p=0;p<d;p++){var g;m=f[p];g=e?[e,m]:[m],this._process(g.concat(r),i,o)}}else{this.matches[i]||(this.matches[i]=Object.create(null));for(var p=0;p<d;p++){var m=f[p];e&&(m="/"!==e.slice(-1)?e+"/"+m:e+m),"/"!==m.charAt(0)||this.nomount||(m=s.join(this.root,m)),this._emitMatch(i,m)}}}},g.prototype._emitMatch=function(e,t){if(!p(this,t)){var n=this._makeAbs(t);if(this.mark&&(t=this._mark(t)),this.absolute&&(t=n),!this.matches[e][t]){if(this.nodir){var r=this.cache[n];if("DIR"===r||Array.isArray(r))return}this.matches[e][t]=!0,this.stat&&this._stat(t)}}},g.prototype._readdirInGlobStar=function(e){if(this.follow)return this._readdir(e,!1);var t,n;try{n=r.lstatSync(e)}catch(e){if("ENOENT"===e.code)return null}var i=n&&n.isSymbolicLink();return this.symlinks[e]=i,i||!n||n.isDirectory()?t=this._readdir(e,!1):this.cache[e]="FILE",t},g.prototype._readdir=function(e,t){if(t&&!h(this.symlinks,e))return this._readdirInGlobStar(e);if(h(this.cache,e)){var n=this.cache[e];if(!n||"FILE"===n)return null;if(Array.isArray(n))return n}try{return this._readdirEntries(e,r.readdirSync(e))}catch(t){return this._readdirError(e,t),null}},g.prototype._readdirEntries=function(e,t){if(!this.mark&&!this.stat)for(var n=0;n<t.length;n++){var r=t[n];r="/"===e?e+r:e+"/"+r,this.cache[r]=!0}return this.cache[e]=t,t},g.prototype._readdirError=function(e,t){switch(t.code){case"ENOTSUP":case"ENOTDIR":var n=this._makeAbs(e);if(this.cache[n]="FILE",n===this.cwdAbs){var r=new Error(t.code+" invalid cwd "+this.cwd);throw r.path=this.cwd,r.code=t.code,r}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(e)]=!1;break;default:if(this.cache[this._makeAbs(e)]=!1,this.strict)throw t;this.silent||console.error("glob error",t)}},g.prototype._processGlobStar=function(e,t,n,r,i,o){var s=this._readdir(n,o);if(s){var a=r.slice(1),c=e?[e]:[],u=c.concat(a);this._process(u,i,!1);var l=s.length;if(!this.symlinks[n]||!o)for(var h=0;h<l;h++){if("."!==s[h].charAt(0)||this.dot){var f=c.concat(s[h],a);this._process(f,i,!0);var p=c.concat(s[h],r);this._process(p,i,!0)}}}},g.prototype._processSimple=function(e,t){var n=this._stat(e);if(this.matches[t]||(this.matches[t]=Object.create(null)),n){if(e&&c(e)&&!this.nomount){var r=/[\/\\]$/.test(e);"/"===e.charAt(0)?e=s.join(this.root,e):(e=s.resolve(this.root,e),r&&(e+="/"))}"win32"===process.platform&&(e=e.replace(/\\/g,"/")),this._emitMatch(t,e)}},g.prototype._stat=function(e){var t=this._makeAbs(e),n="/"===e.slice(-1);if(e.length>this.maxLength)return!1;if(!this.stat&&h(this.cache,t)){var i=this.cache[t];if(Array.isArray(i)&&(i="DIR"),!n||"DIR"===i)return i;if(n&&"FILE"===i)return!1}var o=this.statCache[t];if(!o){var s;try{s=r.lstatSync(t)}catch(e){if(e&&("ENOENT"===e.code||"ENOTDIR"===e.code))return this.statCache[t]=!1,!1}if(s&&s.isSymbolicLink())try{o=r.statSync(t)}catch(e){o=s}else o=s}this.statCache[t]=o;i=!0;return o&&(i=o.isDirectory()?"DIR":"FILE"),this.cache[t]=this.cache[t]||i,(!n||"FILE"!==i)&&i},g.prototype._mark=function(e){return u.mark(this,e)},g.prototype._makeAbs=function(e){return u.makeAbs(this,e)}},function(e,t,n){var r=n(103),i=Object.create(null),o=n(104);e.exports=r(function(e,t){return i[e]?(i[e].push(t),null):(i[e]=[t],function(e){return o(function t(){var n=i[e],r=n.length,o=function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r]=e[r];return n}(arguments);try{for(var s=0;s<r;s++)n[s].apply(null,o)}finally{n.length>r?(n.splice(0,r),process.nextTick(function(){t.apply(null,o)})):delete i[e]}})}(e))})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),i=n(0),o=n(9),s=n(12),a=n(265),c="10000";t.Builder=class{constructor(e){this.disableBuildAfterSave=!1,this.disableCleanAndRetry=!1,this.extension=e,this.tmpDir=a.dirSync({unsafeCleanup:!0}).name.split(i.sep).join("/")}kill(){this.currentProcess&&(this.currentProcess.kill(),this.extension.logger.addLogMessage("Kill the current process."))}preprocess(e){this.extension.logger.addLogMessage(`Build root file ${e}`),this.disableBuildAfterSave=!0,r.workspace.saveAll(),setTimeout(()=>this.disableBuildAfterSave=!1,1e3),this.currentProcess?(this.currentProcess.kill(),this.extension.logger.addLogMessage("Kill previous process."),this.nextBuildRootFile=e):this.nextBuildRootFile=void 0}buildInitiator(e,t){const n=this.createSteps(e,t);void 0!==n?this.buildStep(e,n,0,t||"Build"):this.extension.logger.addLogMessage("Invalid toolchain.")}build(e,t){this.disableCleanAndRetry=!1,this.extension.logger.displayStatus("sync~spin","statusBar.foreground"),this.preprocess(e);let n=this.extension.manager.getOutputDir(e);const r=new Set(this.extension.manager.filesWatched.map(e=>i.dirname(e.replace(this.extension.manager.rootDir,"."))));i.isAbsolute(n)||(n=i.resolve(this.extension.manager.rootDir,n)),r.forEach(e=>{o.ensureDirSync(i.resolve(n,e))}),void 0===this.nextBuildRootFile&&this.buildInitiator(e,t)}progressString(e,t,n){return t.length<2?e:e+`: ${n+1}/${t.length} (${t[n].name})`}buildStep(e,t,n,o){if(t.length===n)return this.extension.logger.addLogMessage(`Recipe of length ${t.length} finished.`),void this.buildFinished(e);0===n&&this.extension.logger.clearCompilerMessage(),n>0&&r.workspace.getConfiguration("latex-workshop").get("latex.build.clearLog.everyRecipeStep.enabled")&&this.extension.logger.clearCompilerMessage(),this.extension.logger.displayStatus("sync~spin","statusBar.foreground",void 0,void 0,` ${this.progressString(o,t,n)}`),this.extension.logger.addLogMessage(`Recipe step ${n+1}: ${t[n].command}, ${t[n].args}`),this.extension.manager.setEnvVar(),process.env.max_print_line=c,this.currentProcess=s.spawn(t[n].command,t[n].args,{cwd:i.dirname(e)});let a="";this.currentProcess.stdout.on("data",e=>{a+=e,this.extension.logger.addCompilerMessage(e.toString())});let u="";this.currentProcess.stderr.on("data",e=>{u+=e,this.extension.logger.addCompilerMessage(e.toString())}),this.currentProcess.on("error",e=>{this.extension.logger.addLogMessage(`LaTeX fatal error: ${e.message}, ${u}. Does the executable exist?`),this.extension.logger.displayStatus("x","errorForeground",`Recipe terminated with fatal error: ${e.message}.`),this.currentProcess=void 0}),this.currentProcess.on("exit",(i,s)=>{if(this.extension.parser.parse(a),0!==i){this.extension.logger.addLogMessage(`Recipe returns with error: ${i}/${s}.`);const n=r.workspace.getConfiguration("latex-workshop");if(this.disableCleanAndRetry||!n.get("latex.autoBuild.cleanAndRetry.enabled")||n.get("latex.clean.enabled")){this.extension.logger.displayStatus("x","errorForeground"),n.get("latex-workshop.latex.clean.onFailBuild.enabled")&&!n.get("latex.clean.enabled")&&this.extension.commander.clean();const e=this.extension.logger.showErrorMessage("Recipe terminated with error.","Open compiler log");e&&e.then(e=>{switch(e){case"Open compiler log":this.extension.logger.showCompilerLog()}})}else this.disableCleanAndRetry=!0,"SIGTERM"!==s&&(this.extension.logger.displayStatus("x","errorForeground","Recipe terminated with error. Retry building the project.","warning"),this.extension.logger.addLogMessage("Cleaning auxillary files and retrying build after toolchain error."),this.extension.commander.clean().then(()=>{this.buildStep(e,t,0,o)}))}else this.buildStep(e,t,n+1,o);this.currentProcess=void 0,this.nextBuildRootFile&&this.build(this.nextBuildRootFile)})}buildFinished(e){this.extension.logger.addLogMessage(`Successfully built ${e}`),this.extension.logger.displayStatus("check","statusBar.foreground","Recipe succeeded."),this.extension.viewer.refreshExistingViewer(e);const t=r.workspace.getConfiguration("latex-workshop");t.get("synctex.afterBuild.enabled")&&this.extension.locator.syncTeX(),t.get("latex.clean.enabled")&&this.extension.cleaner.clean()}createSteps(e,t){let n=[];const a=r.workspace.getConfiguration("latex-workshop"),[u,l]=this.findProgramMagic(e);if(void 0===t&&u){const e={name:u,command:u,args:a.get("latex.magic.args")},t={name:l,command:l,args:a.get("latex.magic.bib.args")};n=l?[e,t,e,e]:[e]}else{const e=a.get("latex.recipes"),r=a.get("latex.tools");if(e.length<1)return void this.extension.logger.showErrorMessage("No recipes defined.");let i=e[0];if(t){const n=e.filter(e=>e.name===t);n.length<1&&this.extension.logger.showErrorMessage(`Failed to resolve build recipe: ${t}`),i=n[0]}i.tools.forEach(e=>{if("string"==typeof e){const t=r.filter(t=>t.name===e);t.length<1?this.extension.logger.showErrorMessage(`Skipping undefined tool "${e}" in recipe "${i.name}."`):n.push(t[0])}else n.push(e)})}n=JSON.parse(JSON.stringify(n));const h=a.get("docker.enabled");return n.forEach(t=>{if(h)switch(t.command){case"latexmk":"win32"===process.platform?t.command=i.resolve(this.extension.extensionRoot,"./scripts/latexmk.bat"):(t.command=i.resolve(this.extension.extensionRoot,"./scripts/latexmk"),o.chmodSync(t.command,493))}if(t.args){const n=e.replace(/\.tex$/,"").split(i.sep).join("/"),r=i.basename(e,".tex").split(i.sep).join("/");t.args=t.args.map(t=>t.replace("%DOC%",h?r:n).replace("%DOCFILE%",r).replace("%DIR%",i.dirname(e).split(i.sep).join("/")).replace("%TMPDIR%",this.tmpDir).replace("%OUTDIR%",this.extension.manager.getOutputDir(e)))}a.get("latex.option.maxPrintLine.enabled")&&"win32"===process.platform&&(t.args||(t.args=[]),"latexmk"===t.command&&-1===t.args.indexOf("-lualatex")&&-1===t.args.indexOf("-pdflua")&&-1===t.args.indexOf("-xelatex")&&-1===t.args.indexOf("-pdfxe")||"pdflatex"===t.command)&&s.execSync("pdflatex --version").toString().match(/MiKTeX/)&&t.args.unshift("--max-print-line="+c)}),n}findProgramMagic(e){const t=o.readFileSync(e).toString(),n=t.match(/^(?:%\s*!\s*T[Ee]X\s(?:TS-)?program\s*=\s*([^\s]*)$)/m),r=t.match(/^(?:%\s*!\s*BIB\s(?:TS-)?program\s*=\s*([^\s]*)$)/m);let i="",s="";return n&&(i=n[1],this.extension.logger.addLogMessage(`Found TeX program by magic comment: ${i}`)),r&&(s=r[1],this.extension.logger.addLogMessage(`Found BIB program by magic comment: ${s}`)),[i,s]}}},function(e,t,n){
/*!
 * Tmp
 *
 * Copyright (c) 2011-2017 KARASZI Istvan <github@spam.raszi.hu>
 *
 * MIT Licensed
 */
const r=n(2),i=n(0),o=n(42),s=n(266),a=process.binding("constants"),c=s(),u="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",l=/XXXXXX/,h=3,f=(a.O_CREAT||a.fs.O_CREAT)|(a.O_EXCL||a.fs.O_EXCL)|(a.O_RDWR||a.fs.O_RDWR),p=a.EBADF||a.os.errno.EBADF,d=a.ENOENT||a.os.errno.ENOENT,g=448,m=384,y=[];var b=!1,v=!1;function w(e){var t=[],n=null;try{n=o.randomBytes(e)}catch(t){n=o.pseudoRandomBytes(e)}for(var r=0;r<e;r++)t.push(u[n[r]%u.length]);return t.join("")}function x(e){return void 0===e}function k(e,t){return"function"==typeof e?[t||{},e]:x(e)?[{},t]:[e,t]}function _(e){if(e.name)return i.join(e.dir||c,e.name);if(e.template)return e.template.replace(l,w(6));const t=[e.prefix||"tmp-",process.pid,w(12),e.postfix||""].join("");return i.join(e.dir||c,t)}function S(e,t){var n=k(e,t),i=n[0],o=n[1],s=i.name?1:i.tries||h;return isNaN(s)||s<0?o(new Error("Invalid tries")):i.template&&!i.template.match(l)?o(new Error("Invalid template provided")):void function e(){const t=_(i);r.stat(t,function(n){if(!n)return s-- >0?e():o(new Error("Could not get a unique tmp filename, max tries reached "+t));o(null,t)})}()}function E(e){var t=k(e)[0],n=t.name?1:t.tries||h;if(isNaN(n)||n<0)throw new Error("Invalid tries");if(t.template&&!t.template.match(l))throw new Error("Invalid template provided");do{const e=_(t);try{r.statSync(e)}catch(t){return e}}while(n-- >0);throw new Error("Could not get a unique tmp filename, max tries reached")}function C(e){const t=[e];do{for(var n=t.pop(),o=!1,s=r.readdirSync(n),a=0,c=s.length;a<c;a++){var u=i.join(n,s[a]);r.lstatSync(u).isDirectory()?(o||(o=!0,t.push(n)),t.push(u)):r.unlinkSync(u)}o||r.rmdirSync(n)}while(0!==t.length)}function T(e,t,n){const i=A(function(e){try{0<=e[0]&&r.closeSync(e[0])}catch(e){if(!L(e,-p,"EBADF")&&!P(e))throw e}try{r.unlinkSync(e[1])}catch(e){if(!P(e))throw e}},[t,e]);return n.keep||y.unshift(i),i}function O(e,t){const n=A(t.unsafeCleanup?C:r.rmdirSync.bind(r),e);return t.keep||y.unshift(n),n}function A(e,t){var n=!1;return function r(i){if(!n){const i=y.indexOf(r);i>=0&&y.splice(i,1),n=!0,e(t)}i&&i(null)}}function j(){if(!v||b)for(;y.length;)try{y[0].call(null)}catch(e){}}function P(e){return L(e,-d,"ENOENT")}function L(e,t,n){return e.code==t||e.code==n}const R=process.versions.node.split(".").map(function(e){return parseInt(e,10)});0===R[0]&&(R[1]<9||9===R[1]&&R[2]<5)&&process.addListener("uncaughtException",function(e){throw v=!0,j(),e}),process.addListener("exit",function(e){e&&(v=!0),j()}),e.exports.tmpdir=c,e.exports.dir=function(e,t){var n=k(e,t),i=n[0],o=n[1];S(i,function(e,t){if(e)return o(e);r.mkdir(t,i.mode||g,function(e){if(e)return o(e);o(null,t,O(t,i))})})},e.exports.dirSync=function(e){var t=k(e)[0];const n=E(t);return r.mkdirSync(n,t.mode||g),{name:n,removeCallback:O(n,t)}},e.exports.file=function(e,t){var n=k(e,t),i=n[0],o=n[1];i.postfix=x(i.postfix)?".tmp":i.postfix,S(i,function(e,t){if(e)return o(e);r.open(t,f,i.mode||m,function(e,n){return e?o(e):i.discardDescriptor?r.close(n,function(e){if(e){try{r.unlinkSync(t)}catch(t){P(t)||(e=t)}return o(e)}o(null,t,void 0,T(t,-1,i))}):i.detachDescriptor?o(null,t,n,T(t,-1,i)):void o(null,t,n,T(t,n,i))})})},e.exports.fileSync=function(e){var t=k(e)[0];t.postfix=t.postfix||".tmp";const n=t.discardDescriptor||t.detachDescriptor,i=E(t);var o=r.openSync(i,f,t.mode||m);return t.discardDescriptor&&(r.closeSync(o),o=void 0),{name:i,fd:o,removeCallback:T(i,n?-1:o,t)}},e.exports.tmpName=S,e.exports.tmpNameSync=E,e.exports.setGracefulCleanup=function(){b=!0}},function(e,t,n){"use strict";var r="win32"===process.platform,i=r?/[^:]\\$/:/.\/$/;e.exports=function(){var e;return e=r?process.env.TEMP||process.env.TMP||(process.env.SystemRoot||process.env.windir)+"\\temp":process.env.TMPDIR||process.env.TMP||process.env.TEMP||"/tmp",i.test(e)&&(e=e.slice(0,-1)),e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),i=n(2),o=n(0),s=n(12);t.Viewer=class{constructor(e){this.clients={},this.positions={},this.extension=e}refreshExistingViewer(e,t){if(!e)return Object.keys(this.clients).forEach(e=>{this.clients[e].forEach(e=>{e.websocket.send(JSON.stringify({type:"refresh"}))})}),!0;const n=this.extension.manager.tex2pdf(e),r=this.clients[n.toLocaleUpperCase()];if(void 0!==r){let e=!1;if(r.forEach(r=>{void 0!==r.websocket&&(void 0!==t&&r.viewer!==t||(this.extension.logger.addLogMessage(`Refresh PDF viewer for ${n}`),r.websocket.send(JSON.stringify({type:"refresh"})),e=!0))}),e)return!0}return this.extension.logger.addLogMessage(`No PDF viewer connected for ${n}`),!1}checkViewer(e,t=!0){const n=this.extension.manager.tex2pdf(e,t);if(!i.existsSync(n))return void this.extension.logger.addLogMessage(`Cannot find PDF file ${n}`);if(void 0===this.extension.server.address)return void this.extension.logger.addLogMessage("Cannot establish server connection.");const r=`http://${this.extension.server.address}/viewer.html?file=/pdf:${encodeURIComponent(encodeURIComponent(encodeURIComponent(n)))}`;return this.extension.logger.addLogMessage(`Serving PDF file at ${r}`),r}openBrowser(e){const t=this.checkViewer(e,!0);if(!t)return;const n=this.extension.manager.tex2pdf(e);this.clients[n.toLocaleUpperCase()]=this.clients[n.toLocaleUpperCase()]||[];try{r.commands.executeCommand("vscode.open",r.Uri.parse(t)),this.extension.logger.addLogMessage(`Open PDF viewer for ${n}`)}catch(e){r.window.showInputBox({prompt:"Unable to open browser. Please copy and visit this link.",value:t}),this.extension.logger.addLogMessage(`Something bad happened when opening PDF viewer for ${n}: ${e}`)}}openTab(e,t=!0,n=!0){if(!this.checkViewer(e,t))return;const i=this.extension.manager.tex2pdf(e,t);this.clients[i.toLocaleUpperCase()]=this.clients[i.toLocaleUpperCase()]||[];const s=r.Uri.file(i).with({scheme:"latex-workshop-pdf"}),a=r.window.activeTextEditor;r.window.createWebviewPanel("latex-workshop-pdf",o.basename(i),n?r.ViewColumn.Beside:r.ViewColumn.Active,{enableScripts:!0,retainContextWhenHidden:!0}).webview.html=this.getPDFViewerContent(s),a&&r.window.showTextDocument(a.document,a.viewColumn),this.extension.logger.addLogMessage(`Open PDF tab for ${i}`)}getPDFViewerContent(e){return`\n            <!DOCTYPE html><html><head></head>\n            <body><iframe id="preview-panel" class="preview-panel" src="${`http://${this.extension.server.address}/viewer.html?incode=1&file=/pdf:${e.authority?`\\\\${e.authority}`:""}${encodeURIComponent(encodeURIComponent(e.fsPath))}`}" style="position:absolute; border: none; left: 0; top: 0; width: 100%; height: 100%;">\n            </iframe>\n            <script>\n            // when the iframe loads, or when the tab gets focus again later, move the\n            // the focus to the iframe so that keyboard navigation works in the pdf.\n            //\n            // Note: this works on first load, or when navigating between groups, but not when\n            //       navigating between tabs of the same group for some reason!\n\n            let iframe = document.getElementById('preview-panel');\n            window.onfocus = iframe.onload = function() {\n                setTimeout(function() { // doesn't work immediately\n                    iframe.contentWindow.focus();\n                }, 100);\n            }\n            <\/script>\n            </body></html>\n        `}openExternal(e){const t=this.extension.manager.tex2pdf(e),n=r.workspace.getConfiguration("latex-workshop");let i=JSON.parse(JSON.stringify(n.get("view.pdf.external.command")));if(!i.command)switch(process.platform){case"win32":i={command:"SumatraPDF.exe",args:["%PDF%"]};break;case"linux":i={command:"xdg-open",args:["%PDF%"]};break;case"darwin":i={command:"open",args:["%PDF%"]}}i.args&&(i.args=i.args.map(e=>e.replace("%PDF%",t))),this.extension.manager.setEnvVar(),s.spawn(i.command,i.args,{cwd:o.dirname(e),detached:!0}),this.extension.logger.addLogMessage(`Open external viewer for ${t}`)}handler(e,t){const n=JSON.parse(t);let i;switch(n.type){case"open":if(void 0===(i=this.clients[decodeURIComponent(decodeURIComponent(n.path)).toLocaleUpperCase()]))return;i.push({viewer:n.viewer,websocket:e});break;case"close":for(const t in this.clients){i=this.clients[t];let n=-1;for(const t of i)if(t.websocket===e){n=i.indexOf(t);break}n>-1&&i.splice(n,1)}break;case"position":i=this.clients[decodeURIComponent(decodeURIComponent(n.path)).toLocaleUpperCase()];for(const t of i)t.websocket===e&&(t.position=n);break;case"loaded":i=this.clients[decodeURIComponent(decodeURIComponent(n.path)).toLocaleUpperCase()];for(const t of i){if(t.websocket!==e)continue;const n=r.workspace.getConfiguration("latex-workshop");void 0!==t.position?t.websocket.send(JSON.stringify(t.position)):t.websocket.send(JSON.stringify({type:"params",scale:n.get("view.pdf.zoom"),scrollMode:n.get("view.pdf.scrollMode"),spreadMode:n.get("view.pdf.spreadMode"),hand:n.get("view.pdf.hand"),invert:n.get("view.pdf.invert")})),n.get("synctex.afterBuild.enabled")&&this.extension.locator.syncTeX()}break;case"click":this.extension.locator.locate(n,decodeURIComponent(n.path));break;case"external_link":r.commands.executeCommand("vscode.open",r.Uri.parse(n.url));break;default:this.extension.logger.addLogMessage(`Unknown websocket message: ${t}`)}}syncTeX(e,t){const n=this.clients[e.toLocaleUpperCase()];if(void 0!==n)for(const r of n)r.websocket.send(JSON.stringify({type:"synctex",data:t})),this.extension.logger.addLogMessage(`Try to synctex ${e}`);else this.extension.logger.addLogMessage(`PDF is not viewed: ${e}`)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(52),i=n(269),o=n(2),s=n(0);t.Server=class{constructor(e){this.extension=e,this.httpServer=r.createServer((e,t)=>this.handler(e,t)),this.httpServer.listen(0,"127.0.0.1",void 0,e=>{if(e)this.extension.logger.addLogMessage(`Error creating LaTeX Workshop http server: ${e}.`);else{const{address:e,port:t}=this.httpServer.address();e.indexOf(":")>-1?this.address=`[${e}]:${t}`:this.address=`${e}:${t}`,this.extension.logger.addLogMessage(`Server created on ${this.address}`)}}),this.httpServer.on("error",e=>{this.extension.logger.addLogMessage(`Error creating LaTeX Workshop http server: ${e}.`)}),this.wsServer=new i.Server({server:this.httpServer}),this.wsServer.on("connection",e=>{e.on("message",t=>this.extension.viewer.handler(e,t)),e.on("close",()=>this.extension.viewer.handler(e,'{"type": "close"}'))}),this.extension.logger.addLogMessage("Creating LaTeX Workshop http and websocket server.")}handler(e,t){if(e.url)if(e.url.indexOf("pdf:")>=0&&e.url.indexOf("viewer.html")<0){const n=decodeURIComponent(e.url.replace("/pdf:",""));try{const e=o.statSync(n).size;t.writeHead(200,{"Content-Type":"application/pdf","Content-Length":e}),o.createReadStream(n).pipe(t),this.extension.logger.addLogMessage(`Preview PDF file: ${n}`)}catch(e){t.writeHead(404),t.end(),this.extension.logger.addLogMessage(`Error reading PDF file: ${n}`)}}else{let n;n=e.url.startsWith("/build/")||e.url.startsWith("/cmaps/")?s.resolve(`${this.extension.extensionRoot}/node_modules/pdfjs-dist`):s.resolve(`${this.extension.extensionRoot}/viewer`);const r=s.resolve(n,"."+e.url.split("?")[0]);let i="text/html";switch(s.extname(r)){case".js":i="text/javascript";break;case".css":i="text/css";break;case".json":i="application/json";break;case".png":i="image/png";break;case".jpg":i="image/jpg";break;case".ico":i="image/x-icon"}o.readFile(r,(e,n)=>{e?("ENOENT"===e.code?t.writeHead(404):t.writeHead(500),t.end()):(t.writeHead(200,{"Content-Type":i}),t.end(n,"utf-8"))})}}}},function(e,t,n){"use strict";const r=n(105);r.Server=n(276),r.Receiver=n(108),r.Sender=n(110),e.exports=r},function(e,t){e.exports=require("https")},function(e,t){e.exports=require("tls")},function(e,t,n){"use strict";function r(e){if(!(this instanceof r))return new r(e);e=e||{},this.concurrency=e.concurrency||1/0,this.pending=0,this.jobs=[],this.cbs=[],this._done=function(){this.pending--,this._run()}.bind(this)}["push","unshift","splice"].forEach(function(e){r.prototype[e]=function(){var t=Array.prototype[e].apply(this.jobs,arguments);return this._run(),t}}),Object.defineProperty(r.prototype,"length",{get:function(){return this.pending+this.jobs.length}}),r.prototype._run=function(){if(this.pending!==this.concurrency){if(this.jobs.length){var e=this.jobs.shift();this.pending++,e(this._done),this._run()}if(0===this.pending)for(;0!==this.cbs.length;){var t=this.cbs.pop();process.nextTick(t)}}},r.prototype.onDone=function(e){"function"==typeof e&&(this.cbs.push(e),this._run())},e.exports=r},function(e,t){e.exports=require("bufferutil")},function(e,t,n){"use strict";class r{constructor(e,t){this.target=t,this.type=e}}class i extends r{constructor(e,t){super("message",t),this.data=e}}class o extends r{constructor(e,t,n){super("close",n),this.wasClean=n._closeFrameReceived&&n._closeFrameSent,this.reason=t,this.code=e}}class s extends r{constructor(e){super("open",e)}}class a extends r{constructor(e,t){super("error",t),this.message=e.message,this.error=e}}const c={addEventListener(e,t){function n(e){t.call(this,new i(e,this))}function r(e,n){t.call(this,new o(e,n,this))}function c(e){t.call(this,new a(e,this))}function u(){t.call(this,new s(this))}"function"==typeof t&&("message"===e?(n._listener=t,this.on(e,n)):"close"===e?(r._listener=t,this.on(e,r)):"error"===e?(c._listener=t,this.on(e,c)):"open"===e?(u._listener=t,this.on(e,u)):this.on(e,t))},removeEventListener(e,t){const n=this.listeners(e);for(var r=0;r<n.length;r++)n[r]!==t&&n[r]._listener!==t||this.removeListener(e,n[r])}};e.exports=c},function(e,t){e.exports=require("utf-8-validate")},function(e,t,n){"use strict";const r=n(22),i=n(42),o=n(52),s=n(48),a=n(43),c=n(107),u=n(29),l=n(105);function h(){this.destroy()}function f(e,t,n,r){e.writable&&(n=n||o.STATUS_CODES[t],r=Object.assign({Connection:"close","Content-type":"text/html","Content-Length":Buffer.byteLength(n)},r),e.write(`HTTP/1.1 ${t} ${o.STATUS_CODES[t]}\r\n`+Object.keys(r).map(e=>`${e}: ${r[e]}`).join("\r\n")+"\r\n\r\n"+n)),e.removeListener("error",h),e.destroy()}e.exports=class extends r{constructor(e,t){if(super(),null==(e=Object.assign({maxPayload:104857600,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null},e)).port&&!e.server&&!e.noServer)throw new TypeError('One of the "port", "server", or "noServer" options must be specified');null!=e.port?(this._server=o.createServer((e,t)=>{const n=o.STATUS_CODES[426];t.writeHead(426,{"Content-Length":n.length,"Content-Type":"text/plain"}),t.end(n)}),this._server.listen(e.port,e.host,e.backlog,t)):e.server&&(this._server=e.server),this._server&&(this._removeListeners=function(e,t){for(const n of Object.keys(t))e.on(n,t[n]);return function(){for(const n of Object.keys(t))e.removeListener(n,t[n])}}(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(e,t,n)=>{this.handleUpgrade(e,t,n,t=>{this.emit("connection",t,e)})}})),!0===e.perMessageDeflate&&(e.perMessageDeflate={}),e.clientTracking&&(this.clients=new Set),this.options=e}address(){if(this.options.noServer)throw new Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(e){if(this.clients)for(const e of this.clients)e.terminate();const t=this._server;if(t&&(this._removeListeners(),this._removeListeners=this._server=null,null!=this.options.port))return t.close(e);e&&e()}shouldHandle(e){return!this.options.path||s.parse(e.url).pathname===this.options.path}handleUpgrade(e,t,n,r){t.on("error",h);const i=+e.headers["sec-websocket-version"],o={};if("GET"!==e.method||"websocket"!==e.headers.upgrade.toLowerCase()||!e.headers["sec-websocket-key"]||8!==i&&13!==i||!this.shouldHandle(e))return f(t,400);if(this.options.perMessageDeflate){const n=new a(this.options.perMessageDeflate,!0,this.options.maxPayload);try{const r=c.parse(e.headers["sec-websocket-extensions"]);r[a.extensionName]&&(n.accept(r[a.extensionName]),o[a.extensionName]=n)}catch(e){return f(t,400)}}if(this.options.verifyClient){const s={origin:e.headers[`${8===i?"sec-websocket-origin":"origin"}`],secure:!(!e.connection.authorized&&!e.connection.encrypted),req:e};if(2===this.options.verifyClient.length)return void this.options.verifyClient(s,(i,s,a,c)=>{if(!i)return f(t,s||401,a,c);this.completeUpgrade(o,e,t,n,r)});if(!this.options.verifyClient(s))return f(t,401)}this.completeUpgrade(o,e,t,n,r)}completeUpgrade(e,t,n,r,o){if(!n.readable||!n.writable)return n.destroy();const s=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${i.createHash("sha1").update(t.headers["sec-websocket-key"]+u.GUID,"binary").digest("base64")}`],f=new l(null);var p=t.headers["sec-websocket-protocol"];if(p&&(p=p.trim().split(/ *, */),(p=this.options.handleProtocols?this.options.handleProtocols(p,t):p[0])&&(s.push(`Sec-WebSocket-Protocol: ${p}`),f.protocol=p)),e[a.extensionName]){const t=e[a.extensionName].params,n=c.format({[a.extensionName]:[t]});s.push(`Sec-WebSocket-Extensions: ${n}`),f._extensions=e}this.emit("headers",s,t),n.write(s.concat("\r\n").join("\r\n")),n.removeListener("error",h),f.setSocket(n,r,this.options.maxPayload),this.clients&&(this.clients.add(f),f.on("close",()=>this.clients.delete(f))),o(f)}}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,a)}c((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(1),o=n(2),s=n(0),a=n(12),c=n(278);t.Locator=class{constructor(e){this.extension=e}parseSyncTeXForward(e){const t={};let n=!1;for(const r of e.split("\n")){if(r.indexOf("SyncTeX result begin")>-1){n=!0;continue}if(r.indexOf("SyncTeX result end")>-1)break;if(!n)continue;const e=r.indexOf(":");if(e<0)continue;const i=r.substr(0,e).toLowerCase();if("page"!==i&&"x"!==i&&"y"!==i)continue;const o=r.substr(e+1);t[i]=Number(o)}if(void 0!==t.page&&void 0!==t.x&&void 0!==t.y)return{page:t.page,x:t.x,y:t.y};throw new Error("parse error when parsing the result of synctex forward.")}parseSyncTeXBackward(e){const t={};let n=!1;for(const r of e.split("\n")){if(r.indexOf("SyncTeX result begin")>-1){n=!0;continue}if(r.indexOf("SyncTeX result end")>-1)break;if(!n)continue;const e=r.indexOf(":");if(e<0)continue;const i=r.substr(0,e).toLowerCase();if("input"!==i&&"line"!==i&&"column"!==i)continue;const o=r.substr(e+1);t[i]="line"!==i&&"column"!==i?o:Number(o)}if(void 0!==t.input&&void 0!==t.line&&void 0!==t.column)return{input:t.input,line:t.line,column:t.column};throw new Error("parse error when parsing the result of synctex backward.")}syncTeX(e,t="auto"){let n,r,o=0;if(!i.window.activeTextEditor)return;if(void 0===e){if(r=i.window.activeTextEditor.document.uri.fsPath,!this.extension.manager.hasTexId(i.window.activeTextEditor.document.languageId))return void this.extension.logger.addLogMessage(`${r} is not a valid LaTeX file.`);const e=i.window.activeTextEditor.selection.active;if(!e)return void this.extension.logger.addLogMessage(`Cannot get cursor position: ${e}`);n=e.line+1,o=e.character}else n=e.line,r=e.filePath;const s=i.workspace.getConfiguration("latex-workshop"),a=this.extension.manager.tex2pdf(this.extension.manager.rootFile);if(i.window.activeTextEditor.document.lineCount===n&&""===i.window.activeTextEditor.document.lineAt(n-1).text&&(n-=1),"external"===t||"auto"===t&&"external"===s.get("view.pdf.viewer"))this.syncTeXExternal(n,a,this.extension.manager.rootFile);else if(s.get("synctex.synctexjs.enabled"))try{this.extension.viewer.syncTeX(a,c.syncTexJsForward(n,r,a))}catch(e){throw e instanceof Error&&this.extension.logger.addLogMessage(e.message),console.log(e),e}else this.invokeSyncTeXCommandForward(n,o,r,a).then(e=>{this.extension.viewer.syncTeX(a,e)})}invokeSyncTeXCommandForward(e,t,n,r){const c=i.workspace.getConfiguration("latex-workshop"),u=c.get("docker.enabled"),l=["view","-i",`${e}:${t+1}:${u?s.basename(n):n}`,"-o",u?s.basename(r):r];this.extension.logger.addLogMessage(`Executing synctex with args ${l}`);let h=c.get("synctex.path");u&&("win32"===process.platform?h=s.resolve(this.extension.extensionRoot,"./scripts/synctex.bat"):(h=s.resolve(this.extension.extensionRoot,"./scripts/synctex"),o.chmodSync(h,493))),this.extension.manager.setEnvVar();const f=a.spawn(h,l,{cwd:s.dirname(r)});f.stdout.setEncoding("utf8"),f.stderr.setEncoding("utf8");let p="";f.stdout.on("data",e=>{p+=e});let d="";return f.stderr.on("data",e=>{d+=e}),f.on("error",e=>{this.extension.logger.addLogMessage(`Cannot synctex: ${e.message}, ${d}`)}),new Promise(e=>{f.on("exit",t=>{0!==t?this.extension.logger.addLogMessage(`Cannot synctex, code: ${t}, ${d}`):e(this.parseSyncTeXForward(p))})})}syncTeXOnRef(e){const t=i.workspace.getConfiguration("latex-workshop").get("view.pdf.ref.viewer");e.line+=1,t?this.syncTeX(e,t):this.syncTeX(e)}invokeSyncTeXCommandBackward(e,t,n,r){const c=i.workspace.getConfiguration("latex-workshop"),u=c.get("docker.enabled"),l=["edit","-o",`${e}:${t}:${n}:${u?s.basename(r):r}`];this.extension.logger.addLogMessage(`Executing synctex with args ${l}`);let h=c.get("synctex.path");u&&("win32"===process.platform?h=s.resolve(this.extension.extensionRoot,"./scripts/synctex.bat"):(h=s.resolve(this.extension.extensionRoot,"./scripts/synctex"),o.chmodSync(h,493))),this.extension.manager.setEnvVar();const f=a.spawn(h,l,{cwd:s.dirname(r)});f.stdout.setEncoding("utf8"),f.stderr.setEncoding("utf8");let p="";f.stdout.on("data",e=>{p+=e});let d="";return f.stderr.on("data",e=>{d+=e}),f.on("error",e=>{this.extension.logger.addLogMessage(`Cannot reverse synctex: ${e.message}, ${d}`)}),new Promise(e=>{f.on("exit",t=>{if(0!==t)this.extension.logger.addLogMessage(`Cannot reverse synctex, code: ${t}, ${d}`);else{const t=this.parseSyncTeXBackward(p);e(t)}})})}locate(e,t){return r(this,void 0,void 0,function*(){const n=i.workspace.getConfiguration("latex-workshop"),r=n.get("docker.enabled");let a;if(n.get("synctex.synctexjs.enabled"))try{a=c.syncTexJsBackward(Number(e.page),e.pos[0],e.pos[1],t)}catch(e){throw e instanceof Error&&this.extension.logger.addLogMessage(e.message),console.log(e),e}else a=yield this.invokeSyncTeXCommandBackward(e.page,e.pos[0],e.pos[1],t);for(const e in this.extension.manager.texFileTree)if(o.realpathSync(a.input)===o.realpathSync(e)){a.input=e;break}const u=a.line-1,l=a.column<0?0:a.column,h=new i.Position(u,l);let f=s.resolve(a.input.replace(/(\r\n|\n|\r)/gm,""));r&&"win32"===process.platform&&(f=s.resolve(s.dirname(t),a.input)),this.extension.logger.addLogMessage(`SyncTeX to file ${f}`),i.workspace.openTextDocument(f).then(e=>{let t=void 0;for(let e=0;e<i.window.visibleTextEditors.length&&void 0===(t=i.window.visibleTextEditors[e].viewColumn);e++);i.window.showTextDocument(e,t).then(e=>{e.selection=new i.Selection(h,h),i.commands.executeCommand("revealLine",{lineNumber:u,at:"center"}),this.animateToNotify(e,h)})})})}animateToNotify(e,t){const n=new i.Range(t.line,0,t.line,65535),r=i.window.createTextEditorDecorationType({borderWidth:"1px",borderStyle:"solid",light:{borderColor:"red"},dark:{borderColor:"white"}});e.setDecorations(r,[n]),setTimeout(()=>{r.dispose()},500)}syncTeXExternal(e,t,n){if(!i.window.activeTextEditor)return;const r=i.window.activeTextEditor.document.uri.fsPath,o=i.workspace.getConfiguration("latex-workshop"),c=JSON.parse(JSON.stringify(o.get("view.pdf.external.synctex")));c.args&&(c.args=c.args.map(i=>i.replace("%DOC%",n.replace(/\.tex$/,"").split(s.sep).join("/")).replace("%DOCFILE%",s.basename(n,".tex").split(s.sep).join("/")).replace("%PDF%",t).replace("%LINE%",e.toString()).replace("%TEX%",r))),this.extension.manager.setEnvVar(),a.spawn(c.command,c.args),this.extension.logger.addLogMessage(`Open external viewer for syncTeX from ${t}`)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),i=n(279),o=n(0),s=n(106),a=n(298);function c(e){const t=o.basename(e,o.extname(e)),n=o.dirname(e),i=o.resolve(n,t+".synctex"),c=i+".gz";if(r.existsSync(i)){const e=r.readFileSync(i,{encoding:"binary"});return a.parseSyncTex(e)}if(r.existsSync(c)){const e=r.readFileSync(c),t=s.gunzipSync(e).toString("binary");return a.parseSyncTex(t)}throw new a.SyncTexJsError("synctex file, .synctex and .synctex.gz, not found in the file system.")}t.parseSyncTexForPdf=c;const u=["utf8","utf16le","UTF-16BE","UTF-16","Shift_JIS","Windows-31j","Windows932","EUC-JP","GB2312","GBK","GB18030","Windows936","EUC-CN","KS_C_5601","Windows949","EUC-KR","Big5","Big5-HKSCS","Windows950","ISO-8859-1","ISO-8859-1","ISO-8859-2","ISO-8859-3","ISO-8859-4","ISO-8859-5","ISO-8859-6","ISO-8859-7","ISO-8859-8","ISO-8859-9","ISO-8859-10","ISO-8859-11","ISO-8859-12","ISO-8859-13","ISO-8859-14","ISO-8859-15","ISO-8859-16","windows-874","windows-1250","windows-1251","windows-1252","windows-1253","windows-1254","windows-1255","windows-1256","windows-1257","windows-1258","koi8-r","koi8-u","koi8-ru","koi8-t"];function l(e,t){const n=e[t],r=Object.keys(n);if(0===r.length)throw new a.SyncTexJsError("no page number found in the synctex file.");const i=r[0];return n[Number(i)]}t.syncTexJsForward=function(e,t,n){const r=c(n),s=function(e,t){for(const n in t.blockNumberLine)if(o.resolve(n)===e)return n;for(const n in t.blockNumberLine)for(const t of u)try{const r=i.decode(Buffer.from(n,"binary"),t);if(o.resolve(r)===e)return n}catch(e){}}(t,r);if(void 0===s)throw new a.SyncTexJsError("no relevant entry of tex file found in the synctex file.");const f=r.blockNumberLine[s],p=Object.keys(f).map(e=>Number(e)).sort((e,t)=>e-t),d=p.findIndex(t=>t>=e);if(0===d||p[d]===e){const e=l(f,p[d]),t=h.coveringRectangle(e);return{page:e[0].page,x:t.left+r.offset.x,y:t.bottom+r.offset.y}}const g=p[d-1],m=l(f,g),y=h.coveringRectangle(m),b=p[d],v=l(f,b),w=h.coveringRectangle(v);let x;return x=y.bottom<w.bottom?y.bottom*(b-e)/(b-g)+w.bottom*(e-g)/(b-g):w.bottom,{page:v[0].page,x:w.left+r.offset.x,y:x+r.offset.y}};class h{static coveringRectangle(e){let t=2e16,n=0,r=2e16,i=0;for(const o of e){if(void 0!==o.elements||"k"===o.type||"r"===o.type)continue;n=Math.max(o.bottom,n);const e=o.bottom-o.height;if(t=Math.min(e,t),r=Math.min(o.left,r),void 0!==o.width){const e=o.left+o.width;i=Math.max(e,i)}}return new h({top:t,bottom:n,left:r,right:i})}static fromBlock(e){const t=e.bottom-e.height,n=e.bottom,r=e.left,i=e.width?e.left+e.width:e.left;return new h({top:t,bottom:n,left:r,right:i})}constructor({top:e,bottom:t,left:n,right:r}){this.top=e,this.bottom=t,this.left=n,this.right=r}include(e){return this.left<=e.left&&this.right>=e.right&&this.bottom>=e.bottom&&this.top<=e.top}distanceY(e){return Math.min(Math.abs(this.bottom-e),Math.abs(this.top-e))}distanceXY(e,t){return Math.sqrt(Math.pow(Math.min(Math.abs(this.bottom-t),Math.abs(this.top-t)),2)+Math.pow(Math.min(Math.abs(this.left-e),Math.abs(this.right-e)),2))}distanceFromCenter(e,t){return Math.sqrt(Math.pow((this.left+this.right)/2-e,2)+Math.pow((this.bottom+this.top)/2-t,2))}}function f(e){if(r.existsSync(e))return e;for(const t of u)try{const n=i.decode(Buffer.from(e,"binary"),t);if(r.existsSync(n))return n}catch(e){}throw new a.SyncTexJsError("input file to jump to does not exist in the file system.")}t.syncTexJsBackward=function(e,t,n,r){const i=c(r),o=n-i.offset.y,s=t-i.offset.x,u=Object.keys(i.blockNumberLine);if(0===u.length)throw new a.SyncTexJsError("no entry of tex file found in the synctex file.");const l={input:"",line:0,distanceXY:2e16,distanceFromCenter:2e16,rect:new h({top:0,bottom:2e16,left:0,right:2e16})};for(const t of u){const n=i.blockNumberLine[t];for(const r in n){const i=n[Number(r)];for(const n in i){if(e!==Number(n))continue;const a=i[Number(n)];for(const e of a){if(void 0!==e.elements||"k"===e.type||"r"===e.type)continue;const n=h.fromBlock(e),i=n.distanceFromCenter(s,o);(l.rect.include(n)||i<l.distanceFromCenter&&!n.include(l.rect))&&(l.input=t,l.line=Number(r),l.distanceFromCenter=i,l.rect=n)}}}}if(""===l.input)throw new a.SyncTexJsError("cannot find any line to jump to.");return{input:f(l.input),line:l.line,column:0}}},function(e,t,n){"use strict";var r=n(20).Buffer,i=n(280),o=e.exports;o.encodings=null,o.defaultCharUnicode="",o.defaultCharSingleByte="?",o.encode=function(e,t,n){e=""+(e||"");var i=o.getEncoder(t,n),s=i.write(e),a=i.end();return a&&a.length>0?r.concat([s,a]):s},o.decode=function(e,t,n){"string"==typeof e&&(o.skipDecodeWarning||(console.error("Iconv-lite warning: decode()-ing strings is deprecated. Refer to https://github.com/ashtuchkin/iconv-lite/wiki/Use-Buffers-when-decoding"),o.skipDecodeWarning=!0),e=r.from(""+(e||""),"binary"));var i=o.getDecoder(t,n),s=i.write(e),a=i.end();return a?s+a:s},o.encodingExists=function(e){try{return o.getCodec(e),!0}catch(e){return!1}},o.toEncoding=o.encode,o.fromEncoding=o.decode,o._codecDataCache={},o.getCodec=function(e){o.encodings||(o.encodings=n(281));for(var t=o._canonicalizeEncoding(e),r={};;){var i=o._codecDataCache[t];if(i)return i;var s=o.encodings[t];switch(typeof s){case"string":t=s;break;case"object":for(var a in s)r[a]=s[a];r.encodingName||(r.encodingName=t),t=s.type;break;case"function":return r.encodingName||(r.encodingName=t),i=new s(r,o),o._codecDataCache[r.encodingName]=i,i;default:throw new Error("Encoding not recognized: '"+e+"' (searched as: '"+t+"')")}}},o._canonicalizeEncoding=function(e){return(""+e).toLowerCase().replace(/:\d{4}$|[^0-9a-z]/g,"")},o.getEncoder=function(e,t){var n=o.getCodec(e),r=new n.encoder(t,n);return n.bomAware&&t&&t.addBOM&&(r=new i.PrependBOM(r,t)),r},o.getDecoder=function(e,t){var n=o.getCodec(e),r=new n.decoder(t,n);return!n.bomAware||t&&!1===t.stripBOM||(r=new i.StripBOM(r,t)),r};var s="undefined"!=typeof process&&process.versions&&process.versions.node;if(s){var a=s.split(".").map(Number);(a[0]>0||a[1]>=10)&&n(296)(o),n(297)(o)}},function(e,t,n){"use strict";function r(e,t){this.encoder=e,this.addBOM=!0}function i(e,t){this.decoder=e,this.pass=!1,this.options=t||{}}t.PrependBOM=r,r.prototype.write=function(e){return this.addBOM&&(e="\ufeff"+e,this.addBOM=!1),this.encoder.write(e)},r.prototype.end=function(){return this.encoder.end()},t.StripBOM=i,i.prototype.write=function(e){var t=this.decoder.write(e);return this.pass||!t?t:("\ufeff"===t[0]&&(t=t.slice(1),"function"==typeof this.options.stripBOM&&this.options.stripBOM()),this.pass=!0,t)},i.prototype.end=function(){return this.decoder.end()}},function(e,t,n){"use strict";for(var r=[n(282),n(284),n(285),n(286),n(287),n(288),n(289),n(290)],i=0;i<r.length;i++){e=r[i];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}},function(e,t,n){"use strict";var r=n(20).Buffer;function i(e,t){this.enc=e.encodingName,this.bomAware=e.bomAware,"base64"===this.enc?this.encoder=c:"cesu8"===this.enc&&(this.enc="utf8",this.encoder=u,""!==r.from("eda0bdedb2a9","hex").toString()&&(this.decoder=l,this.defaultCharUnicode=t.defaultCharUnicode))}e.exports={utf8:{type:"_internal",bomAware:!0},cesu8:{type:"_internal",bomAware:!0},unicode11utf8:"utf8",ucs2:{type:"_internal",bomAware:!0},utf16le:"ucs2",binary:{type:"_internal"},base64:{type:"_internal"},hex:{type:"_internal"},_internal:i},i.prototype.encoder=a,i.prototype.decoder=s;var o=n(283).StringDecoder;function s(e,t){o.call(this,t.enc)}function a(e,t){this.enc=t.enc}function c(e,t){this.prevStr=""}function u(e,t){}function l(e,t){this.acc=0,this.contBytes=0,this.accBytes=0,this.defaultCharUnicode=t.defaultCharUnicode}o.prototype.end||(o.prototype.end=function(){}),s.prototype=o.prototype,a.prototype.write=function(e){return r.from(e,this.enc)},a.prototype.end=function(){},c.prototype.write=function(e){var t=(e=this.prevStr+e).length-e.length%4;return this.prevStr=e.slice(t),e=e.slice(0,t),r.from(e,"base64")},c.prototype.end=function(){return r.from(this.prevStr,"base64")},u.prototype.write=function(e){for(var t=r.alloc(3*e.length),n=0,i=0;i<e.length;i++){var o=e.charCodeAt(i);o<128?t[n++]=o:o<2048?(t[n++]=192+(o>>>6),t[n++]=128+(63&o)):(t[n++]=224+(o>>>12),t[n++]=128+(o>>>6&63),t[n++]=128+(63&o))}return t.slice(0,n)},u.prototype.end=function(){},l.prototype.write=function(e){for(var t=this.acc,n=this.contBytes,r=this.accBytes,i="",o=0;o<e.length;o++){var s=e[o];128!=(192&s)?(n>0&&(i+=this.defaultCharUnicode,n=0),s<128?i+=String.fromCharCode(s):s<224?(t=31&s,n=1,r=1):s<240?(t=15&s,n=2,r=1):i+=this.defaultCharUnicode):n>0?(t=t<<6|63&s,r++,0===--n&&(i+=2===r&&t<128&&t>0?this.defaultCharUnicode:3===r&&t<2048?this.defaultCharUnicode:String.fromCharCode(t))):i+=this.defaultCharUnicode}return this.acc=t,this.contBytes=n,this.accBytes=r,i},l.prototype.end=function(){var e=0;return this.contBytes>0&&(e+=this.defaultCharUnicode),e}},function(e,t){e.exports=require("string_decoder")},function(e,t,n){"use strict";var r=n(20).Buffer;function i(){}function o(){}function s(){this.overflowByte=-1}function a(e,t){this.iconv=t}function c(e,t){void 0===(e=e||{}).addBOM&&(e.addBOM=!0),this.encoder=t.iconv.getEncoder("utf-16le",e)}function u(e,t){this.decoder=null,this.initialBytes=[],this.initialBytesLen=0,this.options=e||{},this.iconv=t.iconv}function l(e,t){var n=t||"utf-16le";if(e.length>=2)if(254==e[0]&&255==e[1])n="utf-16be";else if(255==e[0]&&254==e[1])n="utf-16le";else{for(var r=0,i=0,o=Math.min(e.length-e.length%2,64),s=0;s<o;s+=2)0===e[s]&&0!==e[s+1]&&i++,0!==e[s]&&0===e[s+1]&&r++;i>r?n="utf-16be":i<r&&(n="utf-16le")}return n}t.utf16be=i,i.prototype.encoder=o,i.prototype.decoder=s,i.prototype.bomAware=!0,o.prototype.write=function(e){for(var t=r.from(e,"ucs2"),n=0;n<t.length;n+=2){var i=t[n];t[n]=t[n+1],t[n+1]=i}return t},o.prototype.end=function(){},s.prototype.write=function(e){if(0==e.length)return"";var t=r.alloc(e.length+1),n=0,i=0;for(-1!==this.overflowByte&&(t[0]=e[0],t[1]=this.overflowByte,n=1,i=2);n<e.length-1;n+=2,i+=2)t[i]=e[n+1],t[i+1]=e[n];return this.overflowByte=n==e.length-1?e[e.length-1]:-1,t.slice(0,i).toString("ucs2")},s.prototype.end=function(){},t.utf16=a,a.prototype.encoder=c,a.prototype.decoder=u,c.prototype.write=function(e){return this.encoder.write(e)},c.prototype.end=function(){return this.encoder.end()},u.prototype.write=function(e){if(!this.decoder){if(this.initialBytes.push(e),this.initialBytesLen+=e.length,this.initialBytesLen<16)return"";var t=l(e=r.concat(this.initialBytes),this.options.defaultEncoding);this.decoder=this.iconv.getDecoder(t,this.options),this.initialBytes.length=this.initialBytesLen=0}return this.decoder.write(e)},u.prototype.end=function(){if(!this.decoder){var e=r.concat(this.initialBytes),t=l(e,this.options.defaultEncoding);this.decoder=this.iconv.getDecoder(t,this.options);var n=this.decoder.write(e),i=this.decoder.end();return i?n+i:n}return this.decoder.end()}},function(e,t,n){"use strict";var r=n(20).Buffer;function i(e,t){this.iconv=t}t.utf7=i,t.unicode11utf7="utf7",i.prototype.encoder=s,i.prototype.decoder=a,i.prototype.bomAware=!0;var o=/[^A-Za-z0-9'\(\),-\.\/:\? \n\r\t]+/g;function s(e,t){this.iconv=t.iconv}function a(e,t){this.iconv=t.iconv,this.inBase64=!1,this.base64Accum=""}s.prototype.write=function(e){return r.from(e.replace(o,function(e){return"+"+("+"===e?"":this.iconv.encode(e,"utf16-be").toString("base64").replace(/=+$/,""))+"-"}.bind(this)))},s.prototype.end=function(){};for(var c=/[A-Za-z0-9\/+]/,u=[],l=0;l<256;l++)u[l]=c.test(String.fromCharCode(l));var h="+".charCodeAt(0),f="-".charCodeAt(0),p="&".charCodeAt(0);function d(e,t){this.iconv=t}function g(e,t){this.iconv=t.iconv,this.inBase64=!1,this.base64Accum=r.alloc(6),this.base64AccumIdx=0}function m(e,t){this.iconv=t.iconv,this.inBase64=!1,this.base64Accum=""}a.prototype.write=function(e){for(var t="",n=0,i=this.inBase64,o=this.base64Accum,s=0;s<e.length;s++)if(i){if(!u[e[s]]){if(s==n&&e[s]==f)t+="+";else{var a=o+e.slice(n,s).toString();t+=this.iconv.decode(r.from(a,"base64"),"utf16-be")}e[s]!=f&&s--,n=s+1,i=!1,o=""}}else e[s]==h&&(t+=this.iconv.decode(e.slice(n,s),"ascii"),n=s+1,i=!0);if(i){var c=(a=o+e.slice(n).toString()).length-a.length%8;o=a.slice(c),a=a.slice(0,c),t+=this.iconv.decode(r.from(a,"base64"),"utf16-be")}else t+=this.iconv.decode(e.slice(n),"ascii");return this.inBase64=i,this.base64Accum=o,t},a.prototype.end=function(){var e="";return this.inBase64&&this.base64Accum.length>0&&(e=this.iconv.decode(r.from(this.base64Accum,"base64"),"utf16-be")),this.inBase64=!1,this.base64Accum="",e},t.utf7imap=d,d.prototype.encoder=g,d.prototype.decoder=m,d.prototype.bomAware=!0,g.prototype.write=function(e){for(var t=this.inBase64,n=this.base64Accum,i=this.base64AccumIdx,o=r.alloc(5*e.length+10),s=0,a=0;a<e.length;a++){var c=e.charCodeAt(a);32<=c&&c<=126?(t&&(i>0&&(s+=o.write(n.slice(0,i).toString("base64").replace(/\//g,",").replace(/=+$/,""),s),i=0),o[s++]=f,t=!1),t||(o[s++]=c,c===p&&(o[s++]=f))):(t||(o[s++]=p,t=!0),t&&(n[i++]=c>>8,n[i++]=255&c,i==n.length&&(s+=o.write(n.toString("base64").replace(/\//g,","),s),i=0)))}return this.inBase64=t,this.base64AccumIdx=i,o.slice(0,s)},g.prototype.end=function(){var e=r.alloc(10),t=0;return this.inBase64&&(this.base64AccumIdx>0&&(t+=e.write(this.base64Accum.slice(0,this.base64AccumIdx).toString("base64").replace(/\//g,",").replace(/=+$/,""),t),this.base64AccumIdx=0),e[t++]=f,this.inBase64=!1),e.slice(0,t)};var y=u.slice();y[",".charCodeAt(0)]=!0,m.prototype.write=function(e){for(var t="",n=0,i=this.inBase64,o=this.base64Accum,s=0;s<e.length;s++)if(i){if(!y[e[s]]){if(s==n&&e[s]==f)t+="&";else{var a=o+e.slice(n,s).toString().replace(/,/g,"/");t+=this.iconv.decode(r.from(a,"base64"),"utf16-be")}e[s]!=f&&s--,n=s+1,i=!1,o=""}}else e[s]==p&&(t+=this.iconv.decode(e.slice(n,s),"ascii"),n=s+1,i=!0);if(i){var c=(a=o+e.slice(n).toString().replace(/,/g,"/")).length-a.length%8;o=a.slice(c),a=a.slice(0,c),t+=this.iconv.decode(r.from(a,"base64"),"utf16-be")}else t+=this.iconv.decode(e.slice(n),"ascii");return this.inBase64=i,this.base64Accum=o,t},m.prototype.end=function(){var e="";return this.inBase64&&this.base64Accum.length>0&&(e=this.iconv.decode(r.from(this.base64Accum,"base64"),"utf16-be")),this.inBase64=!1,this.base64Accum="",e}},function(e,t,n){"use strict";var r=n(20).Buffer;function i(e,t){if(!e)throw new Error("SBCS codec is called without the data.");if(!e.chars||128!==e.chars.length&&256!==e.chars.length)throw new Error("Encoding '"+e.type+"' has incorrect 'chars' (must be of len 128 or 256)");if(128===e.chars.length){for(var n="",i=0;i<128;i++)n+=String.fromCharCode(i);e.chars=n+e.chars}this.decodeBuf=r.from(e.chars,"ucs2");var o=r.alloc(65536,t.defaultCharSingleByte.charCodeAt(0));for(i=0;i<e.chars.length;i++)o[e.chars.charCodeAt(i)]=i;this.encodeBuf=o}function o(e,t){this.encodeBuf=t.encodeBuf}function s(e,t){this.decodeBuf=t.decodeBuf}t._sbcs=i,i.prototype.encoder=o,i.prototype.decoder=s,o.prototype.write=function(e){for(var t=r.alloc(e.length),n=0;n<e.length;n++)t[n]=this.encodeBuf[e.charCodeAt(n)];return t},o.prototype.end=function(){},s.prototype.write=function(e){for(var t=this.decodeBuf,n=r.alloc(2*e.length),i=0,o=0,s=0;s<e.length;s++)i=2*e[s],n[o=2*s]=t[i],n[o+1]=t[i+1];return n.toString("ucs2")},s.prototype.end=function(){}},function(e,t,n){"use strict";e.exports={10029:"maccenteuro",maccenteuro:{type:"_sbcs",chars:""},808:"cp808",ibm808:"cp808",cp808:{type:"_sbcs",chars:""},mik:{type:"_sbcs",chars:""},ascii8bit:"ascii",usascii:"ascii",ansix34:"ascii",ansix341968:"ascii",ansix341986:"ascii",csascii:"ascii",cp367:"ascii",ibm367:"ascii",isoir6:"ascii",iso646us:"ascii",iso646irv:"ascii",us:"ascii",latin1:"iso88591",latin2:"iso88592",latin3:"iso88593",latin4:"iso88594",latin5:"iso88599",latin6:"iso885910",latin7:"iso885913",latin8:"iso885914",latin9:"iso885915",latin10:"iso885916",csisolatin1:"iso88591",csisolatin2:"iso88592",csisolatin3:"iso88593",csisolatin4:"iso88594",csisolatincyrillic:"iso88595",csisolatinarabic:"iso88596",csisolatingreek:"iso88597",csisolatinhebrew:"iso88598",csisolatin5:"iso88599",csisolatin6:"iso885910",l1:"iso88591",l2:"iso88592",l3:"iso88593",l4:"iso88594",l5:"iso88599",l6:"iso885910",l7:"iso885913",l8:"iso885914",l9:"iso885915",l10:"iso885916",isoir14:"iso646jp",isoir57:"iso646cn",isoir100:"iso88591",isoir101:"iso88592",isoir109:"iso88593",isoir110:"iso88594",isoir144:"iso88595",isoir127:"iso88596",isoir126:"iso88597",isoir138:"iso88598",isoir148:"iso88599",isoir157:"iso885910",isoir166:"tis620",isoir179:"iso885913",isoir199:"iso885914",isoir203:"iso885915",isoir226:"iso885916",cp819:"iso88591",ibm819:"iso88591",cyrillic:"iso88595",arabic:"iso88596",arabic8:"iso88596",ecma114:"iso88596",asmo708:"iso88596",greek:"iso88597",greek8:"iso88597",ecma118:"iso88597",elot928:"iso88597",hebrew:"iso88598",hebrew8:"iso88598",turkish:"iso88599",turkish8:"iso88599",thai:"iso885911",thai8:"iso885911",celtic:"iso885914",celtic8:"iso885914",isoceltic:"iso885914",tis6200:"tis620",tis62025291:"tis620",tis62025330:"tis620",10000:"macroman",10006:"macgreek",10007:"maccyrillic",10079:"maciceland",10081:"macturkish",cspc8codepage437:"cp437",cspc775baltic:"cp775",cspc850multilingual:"cp850",cspcp852:"cp852",cspc862latinhebrew:"cp862",cpgr:"cp869",msee:"cp1250",mscyrl:"cp1251",msansi:"cp1252",msgreek:"cp1253",msturk:"cp1254",mshebr:"cp1255",msarab:"cp1256",winbaltrim:"cp1257",cp20866:"koi8r",20866:"koi8r",ibm878:"koi8r",cskoi8r:"koi8r",cp21866:"koi8u",21866:"koi8u",ibm1168:"koi8u",strk10482002:"rk1048",tcvn5712:"tcvn",tcvn57121:"tcvn",gb198880:"iso646cn",cn:"iso646cn",csiso14jisc6220ro:"iso646jp",jisc62201969ro:"iso646jp",jp:"iso646jp",cshproman8:"hproman8",r8:"hproman8",roman8:"hproman8",xroman8:"hproman8",ibm1051:"hproman8",mac:"macintosh",csmacintosh:"macintosh"}},function(e,t,n){"use strict";e.exports={437:"cp437",737:"cp737",775:"cp775",850:"cp850",852:"cp852",855:"cp855",856:"cp856",857:"cp857",858:"cp858",860:"cp860",861:"cp861",862:"cp862",863:"cp863",864:"cp864",865:"cp865",866:"cp866",869:"cp869",874:"windows874",922:"cp922",1046:"cp1046",1124:"cp1124",1125:"cp1125",1129:"cp1129",1133:"cp1133",1161:"cp1161",1162:"cp1162",1163:"cp1163",1250:"windows1250",1251:"windows1251",1252:"windows1252",1253:"windows1253",1254:"windows1254",1255:"windows1255",1256:"windows1256",1257:"windows1257",1258:"windows1258",28591:"iso88591",28592:"iso88592",28593:"iso88593",28594:"iso88594",28595:"iso88595",28596:"iso88596",28597:"iso88597",28598:"iso88598",28599:"iso88599",28600:"iso885910",28601:"iso885911",28603:"iso885913",28604:"iso885914",28605:"iso885915",28606:"iso885916",windows874:{type:"_sbcs",chars:""},win874:"windows874",cp874:"windows874",windows1250:{type:"_sbcs",chars:""},win1250:"windows1250",cp1250:"windows1250",windows1251:{type:"_sbcs",chars:""},win1251:"windows1251",cp1251:"windows1251",windows1252:{type:"_sbcs",chars:""},win1252:"windows1252",cp1252:"windows1252",windows1253:{type:"_sbcs",chars:""},win1253:"windows1253",cp1253:"windows1253",windows1254:{type:"_sbcs",chars:""},win1254:"windows1254",cp1254:"windows1254",windows1255:{type:"_sbcs",chars:""},win1255:"windows1255",cp1255:"windows1255",windows1256:{type:"_sbcs",chars:""},win1256:"windows1256",cp1256:"windows1256",windows1257:{type:"_sbcs",chars:""},win1257:"windows1257",cp1257:"windows1257",windows1258:{type:"_sbcs",chars:""},win1258:"windows1258",cp1258:"windows1258",iso88591:{type:"_sbcs",chars:""},cp28591:"iso88591",iso88592:{type:"_sbcs",chars:""},cp28592:"iso88592",iso88593:{type:"_sbcs",chars:""},cp28593:"iso88593",iso88594:{type:"_sbcs",chars:""},cp28594:"iso88594",iso88595:{type:"_sbcs",chars:""},cp28595:"iso88595",iso88596:{type:"_sbcs",chars:""},cp28596:"iso88596",iso88597:{type:"_sbcs",chars:""},cp28597:"iso88597",iso88598:{type:"_sbcs",chars:""},cp28598:"iso88598",iso88599:{type:"_sbcs",chars:""},cp28599:"iso88599",iso885910:{type:"_sbcs",chars:""},cp28600:"iso885910",iso885911:{type:"_sbcs",chars:""},cp28601:"iso885911",iso885913:{type:"_sbcs",chars:""},cp28603:"iso885913",iso885914:{type:"_sbcs",chars:""},cp28604:"iso885914",iso885915:{type:"_sbcs",chars:""},cp28605:"iso885915",iso885916:{type:"_sbcs",chars:""},cp28606:"iso885916",cp437:{type:"_sbcs",chars:""},ibm437:"cp437",csibm437:"cp437",cp737:{type:"_sbcs",chars:""},ibm737:"cp737",csibm737:"cp737",cp775:{type:"_sbcs",chars:""},ibm775:"cp775",csibm775:"cp775",cp850:{type:"_sbcs",chars:""},ibm850:"cp850",csibm850:"cp850",cp852:{type:"_sbcs",chars:""},ibm852:"cp852",csibm852:"cp852",cp855:{type:"_sbcs",chars:""},ibm855:"cp855",csibm855:"cp855",cp856:{type:"_sbcs",chars:""},ibm856:"cp856",csibm856:"cp856",cp857:{type:"_sbcs",chars:""},ibm857:"cp857",csibm857:"cp857",cp858:{type:"_sbcs",chars:""},ibm858:"cp858",csibm858:"cp858",cp860:{type:"_sbcs",chars:""},ibm860:"cp860",csibm860:"cp860",cp861:{type:"_sbcs",chars:""},ibm861:"cp861",csibm861:"cp861",cp862:{type:"_sbcs",chars:""},ibm862:"cp862",csibm862:"cp862",cp863:{type:"_sbcs",chars:""},ibm863:"cp863",csibm863:"cp863",cp864:{type:"_sbcs",chars:"\0\b\t\n\v\f\r !\"#$&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~"},ibm864:"cp864",csibm864:"cp864",cp865:{type:"_sbcs",chars:""},ibm865:"cp865",csibm865:"cp865",cp866:{type:"_sbcs",chars:""},ibm866:"cp866",csibm866:"cp866",cp869:{type:"_sbcs",chars:""},ibm869:"cp869",csibm869:"cp869",cp922:{type:"_sbcs",chars:""},ibm922:"cp922",csibm922:"cp922",cp1046:{type:"_sbcs",chars:""},ibm1046:"cp1046",csibm1046:"cp1046",cp1124:{type:"_sbcs",chars:""},ibm1124:"cp1124",csibm1124:"cp1124",cp1125:{type:"_sbcs",chars:""},ibm1125:"cp1125",csibm1125:"cp1125",cp1129:{type:"_sbcs",chars:""},ibm1129:"cp1129",csibm1129:"cp1129",cp1133:{type:"_sbcs",chars:""},ibm1133:"cp1133",csibm1133:"cp1133",cp1161:{type:"_sbcs",chars:""},ibm1161:"cp1161",csibm1161:"cp1161",cp1162:{type:"_sbcs",chars:""},ibm1162:"cp1162",csibm1162:"cp1162",cp1163:{type:"_sbcs",chars:""},ibm1163:"cp1163",csibm1163:"cp1163",maccroatian:{type:"_sbcs",chars:""},maccyrillic:{type:"_sbcs",chars:""},macgreek:{type:"_sbcs",chars:""},maciceland:{type:"_sbcs",chars:""},macroman:{type:"_sbcs",chars:""},macromania:{type:"_sbcs",chars:""},macthai:{type:"_sbcs",chars:"\ufeff"},macturkish:{type:"_sbcs",chars:""},macukraine:{type:"_sbcs",chars:""},koi8r:{type:"_sbcs",chars:""},koi8u:{type:"_sbcs",chars:""},koi8ru:{type:"_sbcs",chars:""},koi8t:{type:"_sbcs",chars:""},armscii8:{type:"_sbcs",chars:")(.,-"},rk1048:{type:"_sbcs",chars:""},tcvn:{type:"_sbcs",chars:"\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~"},georgianacademy:{type:"_sbcs",chars:""},georgianps:{type:"_sbcs",chars:""},pt154:{type:"_sbcs",chars:""},viscii:{type:"_sbcs",chars:"\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~"},iso646cn:{type:"_sbcs",chars:"\0\b\t\n\v\f\r !\"#%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}"},iso646jp:{type:"_sbcs",chars:"\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[]^_`abcdefghijklmnopqrstuvwxyz{|}"},hproman8:{type:"_sbcs",chars:""},macintosh:{type:"_sbcs",chars:""},ascii:{type:"_sbcs",chars:""},tis620:{type:"_sbcs",chars:""}}},function(e,t,n){"use strict";var r=n(20).Buffer;t._dbcs=u;for(var i=-1,o=-2,s=-1e3,a=new Array(256),c=0;c<256;c++)a[c]=i;function u(e,t){if(this.encodingName=e.encodingName,!e)throw new Error("DBCS codec is called without the data.");if(!e.table)throw new Error("Encoding '"+this.encodingName+"' has no data.");var n=e.table();this.decodeTables=[],this.decodeTables[0]=a.slice(0),this.decodeTableSeq=[];for(var r=0;r<n.length;r++)this._addDecodeChunk(n[r]);this.defaultCharUnicode=t.defaultCharUnicode,this.encodeTable=[],this.encodeTableSeq=[];var c={};if(e.encodeSkipVals)for(r=0;r<e.encodeSkipVals.length;r++){var u=e.encodeSkipVals[r];if("number"==typeof u)c[u]=!0;else for(var l=u.from;l<=u.to;l++)c[l]=!0}if(this._fillEncodeTable(0,0,c),e.encodeAdd)for(var h in e.encodeAdd)Object.prototype.hasOwnProperty.call(e.encodeAdd,h)&&this._setEncodeChar(h.charCodeAt(0),e.encodeAdd[h]);if(this.defCharSB=this.encodeTable[0][t.defaultCharSingleByte.charCodeAt(0)],this.defCharSB===i&&(this.defCharSB=this.encodeTable[0]["?"]),this.defCharSB===i&&(this.defCharSB="?".charCodeAt(0)),"function"==typeof e.gb18030){this.gb18030=e.gb18030();var f=this.decodeTables.length,p=this.decodeTables[f]=a.slice(0),d=this.decodeTables.length,g=this.decodeTables[d]=a.slice(0);for(r=129;r<=254;r++){var m=s-this.decodeTables[0][r],y=this.decodeTables[m];for(l=48;l<=57;l++)y[l]=s-f}for(r=129;r<=254;r++)p[r]=s-d;for(r=48;r<=57;r++)g[r]=o}}function l(e,t){this.leadSurrogate=-1,this.seqObj=void 0,this.encodeTable=t.encodeTable,this.encodeTableSeq=t.encodeTableSeq,this.defaultCharSingleByte=t.defCharSB,this.gb18030=t.gb18030}function h(e,t){this.nodeIdx=0,this.prevBuf=r.alloc(0),this.decodeTables=t.decodeTables,this.decodeTableSeq=t.decodeTableSeq,this.defaultCharUnicode=t.defaultCharUnicode,this.gb18030=t.gb18030}function f(e,t){if(e[0]>t)return-1;for(var n=0,r=e.length;n<r-1;){var i=n+Math.floor((r-n+1)/2);e[i]<=t?n=i:r=i}return n}u.prototype.encoder=l,u.prototype.decoder=h,u.prototype._getDecodeTrieNode=function(e){for(var t=[];e>0;e>>=8)t.push(255&e);0==t.length&&t.push(0);for(var n=this.decodeTables[0],r=t.length-1;r>0;r--){var o=n[t[r]];if(o==i)n[t[r]]=s-this.decodeTables.length,this.decodeTables.push(n=a.slice(0));else{if(!(o<=s))throw new Error("Overwrite byte in "+this.encodingName+", addr: "+e.toString(16));n=this.decodeTables[s-o]}}return n},u.prototype._addDecodeChunk=function(e){var t=parseInt(e[0],16),n=this._getDecodeTrieNode(t);t&=255;for(var r=1;r<e.length;r++){var i=e[r];if("string"==typeof i)for(var o=0;o<i.length;){var s=i.charCodeAt(o++);if(55296<=s&&s<56320){var a=i.charCodeAt(o++);if(!(56320<=a&&a<57344))throw new Error("Incorrect surrogate pair in "+this.encodingName+" at chunk "+e[0]);n[t++]=65536+1024*(s-55296)+(a-56320)}else if(4080<s&&s<=4095){for(var c=4095-s+2,u=[],l=0;l<c;l++)u.push(i.charCodeAt(o++));n[t++]=-10-this.decodeTableSeq.length,this.decodeTableSeq.push(u)}else n[t++]=s}else{if("number"!=typeof i)throw new Error("Incorrect type '"+typeof i+"' given in "+this.encodingName+" at chunk "+e[0]);var h=n[t-1]+1;for(o=0;o<i;o++)n[t++]=h++}}if(t>255)throw new Error("Incorrect chunk in "+this.encodingName+" at addr "+e[0]+": too long"+t)},u.prototype._getEncodeBucket=function(e){var t=e>>8;return void 0===this.encodeTable[t]&&(this.encodeTable[t]=a.slice(0)),this.encodeTable[t]},u.prototype._setEncodeChar=function(e,t){var n=this._getEncodeBucket(e),r=255&e;n[r]<=-10?this.encodeTableSeq[-10-n[r]][-1]=t:n[r]==i&&(n[r]=t)},u.prototype._setEncodeSequence=function(e,t){var n,r=e[0],o=this._getEncodeBucket(r),s=255&r;o[s]<=-10?n=this.encodeTableSeq[-10-o[s]]:(n={},o[s]!==i&&(n[-1]=o[s]),o[s]=-10-this.encodeTableSeq.length,this.encodeTableSeq.push(n));for(var a=1;a<e.length-1;a++){var c=n[r];"object"==typeof c?n=c:(n=n[r]={},void 0!==c&&(n[-1]=c))}n[r=e[e.length-1]]=t},u.prototype._fillEncodeTable=function(e,t,n){for(var r=this.decodeTables[e],i=0;i<256;i++){var o=r[i],a=t+i;n[a]||(o>=0?this._setEncodeChar(o,a):o<=s?this._fillEncodeTable(s-o,a<<8,n):o<=-10&&this._setEncodeSequence(this.decodeTableSeq[-10-o],a))}},l.prototype.write=function(e){for(var t=r.alloc(e.length*(this.gb18030?4:3)),n=this.leadSurrogate,o=this.seqObj,s=-1,a=0,c=0;;){if(-1===s){if(a==e.length)break;var u=e.charCodeAt(a++)}else{u=s;s=-1}if(55296<=u&&u<57344)if(u<56320){if(-1===n){n=u;continue}n=u,u=i}else-1!==n?(u=65536+1024*(n-55296)+(u-56320),n=-1):u=i;else-1!==n&&(s=u,u=i,n=-1);var l=i;if(void 0!==o&&u!=i){var h=o[u];if("object"==typeof h){o=h;continue}"number"==typeof h?l=h:null==h&&void 0!==(h=o[-1])&&(l=h,s=u),o=void 0}else if(u>=0){var p=this.encodeTable[u>>8];if(void 0!==p&&(l=p[255&u]),l<=-10){o=this.encodeTableSeq[-10-l];continue}if(l==i&&this.gb18030){var d=f(this.gb18030.uChars,u);if(-1!=d){l=this.gb18030.gbChars[d]+(u-this.gb18030.uChars[d]);t[c++]=129+Math.floor(l/12600),l%=12600,t[c++]=48+Math.floor(l/1260),l%=1260,t[c++]=129+Math.floor(l/10),l%=10,t[c++]=48+l;continue}}}l===i&&(l=this.defaultCharSingleByte),l<256?t[c++]=l:l<65536?(t[c++]=l>>8,t[c++]=255&l):(t[c++]=l>>16,t[c++]=l>>8&255,t[c++]=255&l)}return this.seqObj=o,this.leadSurrogate=n,t.slice(0,c)},l.prototype.end=function(){if(-1!==this.leadSurrogate||void 0!==this.seqObj){var e=r.alloc(10),t=0;if(this.seqObj){var n=this.seqObj[-1];void 0!==n&&(n<256?e[t++]=n:(e[t++]=n>>8,e[t++]=255&n)),this.seqObj=void 0}return-1!==this.leadSurrogate&&(e[t++]=this.defaultCharSingleByte,this.leadSurrogate=-1),e.slice(0,t)}},l.prototype.findIdx=f,h.prototype.write=function(e){var t=r.alloc(2*e.length),n=this.nodeIdx,a=this.prevBuf,c=this.prevBuf.length,u=-this.prevBuf.length;c>0&&(a=r.concat([a,e.slice(0,10)]));for(var l=0,h=0;l<e.length;l++){var p,d=l>=0?e[l]:a[l+c];if((p=this.decodeTables[n][d])>=0);else if(p===i)l=u,p=this.defaultCharUnicode.charCodeAt(0);else if(p===o){var g=u>=0?e.slice(u,l+1):a.slice(u+c,l+1+c),m=12600*(g[0]-129)+1260*(g[1]-48)+10*(g[2]-129)+(g[3]-48),y=f(this.gb18030.gbChars,m);p=this.gb18030.uChars[y]+m-this.gb18030.gbChars[y]}else{if(p<=s){n=s-p;continue}if(!(p<=-10))throw new Error("iconv-lite internal error: invalid decoding table value "+p+" at "+n+"/"+d);for(var b=this.decodeTableSeq[-10-p],v=0;v<b.length-1;v++)p=b[v],t[h++]=255&p,t[h++]=p>>8;p=b[b.length-1]}if(p>65535){p-=65536;var w=55296+Math.floor(p/1024);t[h++]=255&w,t[h++]=w>>8,p=56320+p%1024}t[h++]=255&p,t[h++]=p>>8,n=0,u=l+1}return this.nodeIdx=n,this.prevBuf=u>=0?e.slice(u):a.slice(u+c),t.slice(0,h).toString("ucs2")},h.prototype.end=function(){for(var e="";this.prevBuf.length>0;){e+=this.defaultCharUnicode;var t=this.prevBuf.slice(1);this.prevBuf=r.alloc(0),this.nodeIdx=0,t.length>0&&(e+=this.write(t))}return this.nodeIdx=0,e}},function(e,t,n){"use strict";e.exports={shiftjis:{type:"_dbcs",table:function(){return n(291)},encodeAdd:{"":92,"":126},encodeSkipVals:[{from:60736,to:63808}]},csshiftjis:"shiftjis",mskanji:"shiftjis",sjis:"shiftjis",windows31j:"shiftjis",ms31j:"shiftjis",xsjis:"shiftjis",windows932:"shiftjis",ms932:"shiftjis",932:"shiftjis",cp932:"shiftjis",eucjp:{type:"_dbcs",table:function(){return n(292)},encodeAdd:{"":92,"":126}},gb2312:"cp936",gb231280:"cp936",gb23121980:"cp936",csgb2312:"cp936",csiso58gb231280:"cp936",euccn:"cp936",windows936:"cp936",ms936:"cp936",936:"cp936",cp936:{type:"_dbcs",table:function(){return n(54)}},gbk:{type:"_dbcs",table:function(){return n(54).concat(n(111))}},xgbk:"gbk",isoir58:"gbk",gb18030:{type:"_dbcs",table:function(){return n(54).concat(n(111))},gb18030:function(){return n(293)},encodeSkipVals:[128],encodeAdd:{"":41699}},chinese:"gb18030",windows949:"cp949",ms949:"cp949",949:"cp949",cp949:{type:"_dbcs",table:function(){return n(294)}},cseuckr:"cp949",csksc56011987:"cp949",euckr:"cp949",isoir149:"cp949",korean:"cp949",ksc56011987:"cp949",ksc56011989:"cp949",ksc5601:"cp949",windows950:"cp950",ms950:"cp950",950:"cp950",cp950:{type:"_dbcs",table:function(){return n(112)}},big5:"big5hkscs",big5hkscs:{type:"_dbcs",table:function(){return n(112).concat(n(295))},encodeSkipVals:[41676]},cnbig5:"big5hkscs",csbig5:"big5hkscs",xxbig5:"big5hkscs"}},function(e){e.exports=[["0","\0",128],["a1","",62],["8140","",9,""],["8180",""],["81b8",""],["81c8",""],["81da",""],["81f0",""],["81fc",""],["824f","",9],["8260","",25],["8281","",25],["829f","",82],["8340","",62],["8380","",22],["839f","",16,"",6],["83bf","",16,"",6],["8440","",5,"",25],["8470","",5,"",7],["8480","",17],["849f",""],["8740","",19,"",9],["875f",""],["877e",""],["8780","",4,""],["889f",""],["8940",""],["8980",""],["8a40",""],["8a80",""],["8b40",""],["8b80",""],["8c40",""],["8c80",""],["8d40",""],["8d80",""],["8e40",""],["8e80",""],["8f40",""],["8f80",""],["9040",""],["9080",""],["9140",""],["9180",""],["9240",""],["9280",""],["9340",""],["9380",""],["9440",""],["9480",""],["9540",""],["9580",""],["9640",""],["9680",""],["9740",""],["9780",""],["9840",""],["989f",""],["9940",""],["9980",""],["9a40",""],["9a80",""],["9b40",""],["9b80",""],["9c40",""],["9c80",""],["9d40",""],["9d80",""],["9e40",""],["9e80",""],["9f40",""],["9f80",""],["e040",""],["e080",""],["e140",""],["e180",""],["e240",""],["e280",""],["e340",""],["e380",""],["e440",""],["e480",""],["e540",""],["e580",""],["e640",""],["e680",""],["e740",""],["e780",""],["e840",""],["e880",""],["e940",""],["e980",""],["ea40",""],["ea80",""],["ed40",""],["ed80",""],["ee40",""],["ee80",""],["eeef","",9,""],["f040","",62],["f080","",124],["f140","",62],["f180","",124],["f240","",62],["f280","",124],["f340","",62],["f380","",124],["f440","",62],["f480","",124],["f540","",62],["f580","",124],["f640","",62],["f680","",124],["f740","",62],["f780","",124],["f840","",62],["f880","",124],["f940",""],["fa40","",9,"",9,""],["fa80",""],["fb40",""],["fb80",""],["fc40",""]]},function(e){e.exports=[["0","\0",127],["8ea1","",62],["a1a1","",9,""],["a2a1",""],["a2ba",""],["a2ca",""],["a2dc",""],["a2f2",""],["a2fe",""],["a3b0","",9],["a3c1","",25],["a3e1","",25],["a4a1","",82],["a5a1","",85],["a6a1","",16,"",6],["a6c1","",16,"",6],["a7a1","",5,"",25],["a7d1","",5,"",25],["a8a1",""],["ada1","",19,"",9],["adc0",""],["addf","",4,""],["b0a1",""],["b1a1",""],["b2a1",""],["b3a1",""],["b4a1",""],["b5a1",""],["b6a1",""],["b7a1",""],["b8a1",""],["b9a1",""],["baa1",""],["bba1",""],["bca1",""],["bda1",""],["bea1",""],["bfa1",""],["c0a1",""],["c1a1",""],["c2a1",""],["c3a1",""],["c4a1",""],["c5a1",""],["c6a1",""],["c7a1",""],["c8a1",""],["c9a1",""],["caa1",""],["cba1",""],["cca1",""],["cda1",""],["cea1",""],["cfa1",""],["d0a1",""],["d1a1",""],["d2a1",""],["d3a1",""],["d4a1",""],["d5a1",""],["d6a1",""],["d7a1",""],["d8a1",""],["d9a1",""],["daa1",""],["dba1",""],["dca1",""],["dda1",""],["dea1",""],["dfa1",""],["e0a1",""],["e1a1",""],["e2a1",""],["e3a1",""],["e4a1",""],["e5a1",""],["e6a1",""],["e7a1",""],["e8a1",""],["e9a1",""],["eaa1",""],["eba1",""],["eca1",""],["eda1",""],["eea1",""],["efa1",""],["f0a1",""],["f1a1",""],["f2a1",""],["f3a1",""],["f4a1",""],["f9a1",""],["faa1",""],["fba1",""],["fca1",""],["fcf1","",9,""],["8fa2af",""],["8fa2c2",""],["8fa2eb",""],["8fa6e1",""],["8fa6e7",""],["8fa6e9",""],["8fa6ec",""],["8fa6f1",""],["8fa7c2","",10,""],["8fa7f2","",10,""],["8fa9a1",""],["8fa9a4",""],["8fa9a6",""],["8fa9a8",""],["8fa9ab",""],["8fa9af",""],["8fa9c1",""],["8faaa1",""],["8faaba",""],["8faba1",""],["8fabbd",""],["8fabc5",""],["8fb0a1",""],["8fb1a1",""],["8fb2a1","",4,""],["8fb3a1",""],["8fb4a1",""],["8fb5a1",""],["8fb6a1","",5,"",4,""],["8fb7a1","",4,""],["8fb8a1",""],["8fb9a1",""],["8fbaa1","",4,""],["8fbba1",""],["8fbca1","",4,""],["8fbda1","",4,""],["8fbea1","",4,""],["8fbfa1",""],["8fc0a1",""],["8fc1a1",""],["8fc2a1",""],["8fc3a1","",4,""],["8fc4a1",""],["8fc5a1",""],["8fc6a1",""],["8fc7a1",""],["8fc8a1",""],["8fc9a1","",4,"",4,""],["8fcaa1",""],["8fcba1",""],["8fcca1","",9,""],["8fcda1","",5,""],["8fcea1","",6,""],["8fcfa1",""],["8fd0a1",""],["8fd1a1",""],["8fd2a1","",5],["8fd3a1",""],["8fd4a1","",4,""],["8fd5a1",""],["8fd6a1",""],["8fd7a1",""],["8fd8a1",""],["8fd9a1","",4,"",6,""],["8fdaa1","",4,""],["8fdba1","",6,""],["8fdca1","",4,""],["8fdda1","",4,""],["8fdea1","",4,""],["8fdfa1",""],["8fe0a1",""],["8fe1a1","",4,""],["8fe2a1",""],["8fe3a1","",5,"",4,""],["8fe4a1","",4,""],["8fe5a1","",4,""],["8fe6a1",""],["8fe7a1",""],["8fe8a1","",4,""],["8fe9a1","",4],["8feaa1","",4,""],["8feba1","",4,""],["8feca1",""],["8feda1","",4,"",4,""]]},function(e){e.exports={uChars:[128,165,169,178,184,216,226,235,238,244,248,251,253,258,276,284,300,325,329,334,364,463,465,467,469,471,473,475,477,506,594,610,712,716,730,930,938,962,970,1026,1104,1106,8209,8215,8218,8222,8231,8241,8244,8246,8252,8365,8452,8454,8458,8471,8482,8556,8570,8596,8602,8713,8720,8722,8726,8731,8737,8740,8742,8748,8751,8760,8766,8777,8781,8787,8802,8808,8816,8854,8858,8870,8896,8979,9322,9372,9548,9588,9616,9622,9634,9652,9662,9672,9676,9680,9702,9735,9738,9793,9795,11906,11909,11913,11917,11928,11944,11947,11951,11956,11960,11964,11979,12284,12292,12312,12319,12330,12351,12436,12447,12535,12543,12586,12842,12850,12964,13200,13215,13218,13253,13263,13267,13270,13384,13428,13727,13839,13851,14617,14703,14801,14816,14964,15183,15471,15585,16471,16736,17208,17325,17330,17374,17623,17997,18018,18212,18218,18301,18318,18760,18811,18814,18820,18823,18844,18848,18872,19576,19620,19738,19887,40870,59244,59336,59367,59413,59417,59423,59431,59437,59443,59452,59460,59478,59493,63789,63866,63894,63976,63986,64016,64018,64021,64025,64034,64037,64042,65074,65093,65107,65112,65127,65132,65375,65510,65536],gbChars:[0,36,38,45,50,81,89,95,96,100,103,104,105,109,126,133,148,172,175,179,208,306,307,308,309,310,311,312,313,341,428,443,544,545,558,741,742,749,750,805,819,820,7922,7924,7925,7927,7934,7943,7944,7945,7950,8062,8148,8149,8152,8164,8174,8236,8240,8262,8264,8374,8380,8381,8384,8388,8390,8392,8393,8394,8396,8401,8406,8416,8419,8424,8437,8439,8445,8482,8485,8496,8521,8603,8936,8946,9046,9050,9063,9066,9076,9092,9100,9108,9111,9113,9131,9162,9164,9218,9219,11329,11331,11334,11336,11346,11361,11363,11366,11370,11372,11375,11389,11682,11686,11687,11692,11694,11714,11716,11723,11725,11730,11736,11982,11989,12102,12336,12348,12350,12384,12393,12395,12397,12510,12553,12851,12962,12973,13738,13823,13919,13933,14080,14298,14585,14698,15583,15847,16318,16434,16438,16481,16729,17102,17122,17315,17320,17402,17418,17859,17909,17911,17915,17916,17936,17939,17961,18664,18703,18814,18962,19043,33469,33470,33471,33484,33485,33490,33497,33501,33505,33513,33520,33536,33550,37845,37921,37948,38029,38038,38064,38065,38066,38069,38075,38076,38078,39108,39109,39113,39114,39115,39116,39265,39394,189e3]}},function(e){e.exports=[["0","\0",127],["8141","",4,"",6,""],["8161","",9,"",5,""],["8181","",18,"",4,"",6,"",5,"",6,"",7,"",7,"",4,"",4,""],["8241","",7,"",5],["8261","",6,"",5,""],["8281","",7,"",7,"",4,"",10,"",5,"",17,"",7,"",6,"",7,"",18],["8341","",5,"",5,"",7],["8361","",18,""],["8381","",4,"",6,"",5,"",5,"",46,"",6,"",5,"",8],["8441","",5,"",8],["8461","",18],["8481","",7,"",6,"",5,"",10,"",5,"",18,"",5,"",6,"",5,"",26,""],["8541","",5,"",4,"",6,"",4],["8561","",5,"",5,"",6,""],["8581","",6,"",6,"",9,"",26,"",29,"",6,"",5,""],["8641","",6,"",5,""],["8661","",6,"",10],["8681","",22,"",4,"",6,"",5,"",6,"",22,"",4,""],["8741","",9,"",15],["8761","",18,""],["8781","",5,"",7,"",7,"",5,"",6,"",5,"",18,"",6,"",26,"",6,"",4],["8841","",4,"",5,"",6,"",4],["8861","",4,""],["8881","",15,"",4,"",6,"",5,"",54,""],["8941","",6,"",5,""],["8961","",10,"",5,""],["8981","",21,"",18,"",18,"",6,"",6,"",7,"",15],["8a41","",10,"",6,""],["8a61","",4,"",18,""],["8a81","",4,"",19,"",5,"",7,"",5,"",6,"",5,"",4,"",5,"",26,""],["8b41","",5,"",4,"",6,""],["8b61","",6,"",8],["8b81","",52,"",4,"",6,"",5,"",18,"",18],["8c41","",15,"",4],["8c61","",6,"",5,"",6,"",5],["8c81","",12,"",26,"",50,"",5,"",16],["8d41","",16,"",8],["8d61","",17,""],["8d81","",4,"",33,"",6,"",7,"",6,"",9,"",6,"",5,"",6,""],["8e41","",6,"",5,"",8],["8e61","",4,"",19],["8e81","",13,"",6,"",4,"",6,"",5,"",6,"",5,"",11,"",7,"",6,"",5,"",7],["8f41","",7,"",17],["8f61","",7,"",6,"",4],["8f81","",5,"",7,"",5,"",6,"",5,"",18,"",6,"",26,"",6,"",5],["9041","",6,"",5,""],["9061","",5,"",15],["9081","",12,"",6,"",5,"",4,"",6,"",4,"",5,"",11,"",33,""],["9141","",6,"",5],["9161","",9,"",5],["9181","",20,"",4,"",5,"",14,"",33,"",7,"",5,"",6],["9241","",7,"",4,""],["9261","",7,"",7,"",4],["9281","",21,"",18,"",6,"",7,"",6,"",35,""],["9341","",4,""],["9361","",6,"",8],["9381","",37,"",4,"",4,"",6,"",5,"",7,"",22,""],["9441","",5,"",5,"",8],["9461","",5,"",6,"",12],["9481","",5,"",6,"",6,"",9,"",22,"",4,"",6,"",10,"",6,"",24],["9541","",11,"",5,""],["9561","",6,"",5,""],["9581","",6,"",35,"",4,"",4,"",4,"",6,"",5,"",13,"",14],["9641","",23,""],["9661","",6,"",5,"",8],["9681","",10,"",5,"",13,"",33,"",6,"",44],["9741","",16,"",8],["9761","",17,"",7],["9781","",11,"",5,"",6,"",89,""],["9841","",16,"",5,""],["9861","",6,"",15],["9881","",21,"",6,"",5,"",4,"",6,"",5,"",6,"",5,"",6,"",5,""],["9941","",6,"",5,""],["9961","",6,"",5,""],["9981","",8,"",5,"",4,"",11,"",5,"",6,"",6,"",6,"",7,"",6,"",5,""],["9a41","",16],["9a61","",6,"",6,""],["9a81","",4,"",6,"",5,"",5,"",6,"",5,"",5,"",33,"",5,"",6,""],["9b41","",6,"",8],["9b61","",17,"",7],["9b81","",25,"",4,"",5,"",50,"",22,""],["9c41","",4,"",5,"",5],["9c61","",8,"",6,"",9],["9c81","",8,"",6,"",6,"",9,"",26,"",6,"",5,"",18,"",6,"",12],["9d41","",13,"",8],["9d61","",25],["9d81","",8,"",5,"",9,"",6,"",10,"",6,"",5,"",6,"",5,""],["9e41","",7,"",9,""],["9e61","",4,"",6,""],["9e81","",6,"",6,"",6,"",5,"",10,"",5,"",6,"",5,"",6,""],["9f41","",5,"",4,"",5,""],["9f61","",6,"",5,""],["9f81","",4,"",5,"",6,"",5,"",6,"",4,"",6,"",7,"",4,"",4,""],["a041","",5,"",6,""],["a061","",5,"",13],["a081","",4,"",4,"",4,"",6,"",5,"",6,"",5,"",26,"",4,"",5,"",7,""],["a141","",18,""],["a161","",6,"",5,""],["a181","",14,"",5,"",4,"",9,""],["a241","",5,"",18],["a261","",6,"",18],["a281","",7,"",6,"",7,""],["a341","",6,"",10,""],["a361","",6,"",16],["a381","",16,"",4,"",58,"",32,""],["a441","",5,""],["a461","",5,"",12],["a481","",28,"",93],["a541","",4,"",6,"",5,""],["a561","",17,"",5,""],["a581","",16,"",14,"",9],["a5b0","",9],["a5c1","",16,"",6],["a5e1","",16,"",6],["a641","",19,""],["a661","",5,"",5,"",6],["a681","",6,"",18,"",7],["a741","",4,"",6,"",7],["a761","",22,""],["a781","",6,"",5,"",7,"",9,"",9,"",4,"",5,"",4,""],["a841","",10,"",14],["a861","",18,"",6],["a881","",19,"",11,""],["a8a6",""],["a8a8",""],["a8b1","",27,"",25,"",14,""],["a941","",14,"",10],["a961","",18],["a981","",14,"",6,"",27,"",25,"",14,""],["aa41","",6,"",4,""],["aa61","",4,"",5,"",6,""],["aa81","",29,"",82],["ab41","",6,"",5,""],["ab61","",6,"",5,"",5],["ab81","",8,"",6,"",12,"",85],["ac41","",5,"",6,""],["ac61","",11,"",4],["ac81","",28,"",5,"",25],["acd1","",5,"",25],["ad41","",6,"",5,"",7],["ad61","",6,"",10,""],["ad81","",5,"",18,""],["ae41","",5,"",16],["ae61","",5,"",6,"",4],["ae81","",6,"",5,""],["af41","",19],["af61","",13,"",5,""],["af81","",5,"",6,"",5,""],["b041","",5,"",5,"",12],["b061","",5,"",19],["b081","",13,"",6,"",5,"",7,"",4,""],["b141","",6,"",5,""],["b161","",6,"",5,"",11],["b181","",14,"",6,""],["b241","",6,"",5,""],["b261","",18,"",5,""],["b281","",5,"",18,"",6,""],["b341","",19,""],["b361","",5,"",5,"",5],["b381","",5,"",5,"",19,"",4,""],["b441","",5,"",6,"",5],["b461","",6,"",10,""],["b481","",6,"",18,"",4,"",4,""],["b541","",14,"",5],["b561","",5,"",5,"",4],["b581","",6,"",5,"",11,""],["b641","",7,"",17],["b661","",15,""],["b681","",5,"",6,"",5,""],["b741","",13,"",6,""],["b761","",20,""],["b781","",6,"",14,""],["b841","",7,"",17],["b861","",8,"",13],["b881","",5,"",24,"",4,""],["b941","",6,"",5,""],["b961","",14,"",6,""],["b981","",22,"",4,"",4,""],["ba41","",5,"",6,""],["ba61","",5,"",4,"",5],["ba81","",6,"",9,""],["bb41","",4,"",5,"",4,""],["bb61","",6,"",5,""],["bb81","",31,""],["bc41","",17,""],["bc61","",5,"",6,""],["bc81","",4,"",6,"",5,"",5,"",4,""],["bd41","",7,"",7,""],["bd61","",5,"",13],["bd81","",5,"",25,""],["be41","",7,"",14],["be61","",7,"",7,""],["be81","",4,"",4,"",5,"",8,"",6,""],["bf41","",10,"",14],["bf61","",18,""],["bf81","",5,"",7,"",6,"",5,""],["c041","",5,"",6,"",5],["c061","",25],["c081","",6,"",5,"",7,""],["c141","",5,"",6,""],["c161","",19,""],["c181","",31,""],["c241","",4,"",5,""],["c261","",4,"",5,"",6,""],["c281","",5,"",7,"",9,""],["c341","",4],["c361","",4,"",5,"",11],["c381","",5,"",7,"",5,""],["c441","",7,"",7,""],["c461","",5,"",4],["c481","",5,"",11,""],["c541","",6,"",5,""],["c561","",6,"",5,"",4],["c581","",6,"",5,""],["c641","",6,"",5],["c6a1",""],["c7a1",""],["c8a1",""],["caa1",""],["cba1",""],["cca1",""],["cda1",""],["cea1",""],["cfa1",""],["d0a1",""],["d1a1","",5,"",4,""],["d2a1","",4,"",5,"",10,"",7,"",5,""],["d3a1",""],["d4a1",""],["d5a1",""],["d6a1",""],["d7a1",""],["d8a1",""],["d9a1",""],["daa1",""],["dba1",""],["dca1",""],["dda1",""],["dea1",""],["dfa1",""],["e0a1",""],["e1a1",""],["e2a1",""],["e3a1",""],["e4a1",""],["e5a1",""],["e6a1",""],["e7a1",""],["e8a1",""],["e9a1",""],["eaa1",""],["eba1",""],["eca1",""],["eda1",""],["eea1",""],["efa1",""],["f0a1",""],["f1a1",""],["f2a1",""],["f3a1",""],["f4a1",""],["f5a1",""],["f6a1",""],["f7a1",""],["f8a1",""],["f9a1",""],["faa1",""],["fba1",""],["fca1",""],["fda1",""]]},function(e){e.exports=[["8740",""],["8767",""],["87a1",""],["8840","",4,""],["88a1",""],["8940",""],["8943",""],["8946",""],["894c",""],["89a1",""],["89ab",""],["89b0",""],["89b5",""],["89c1",""],["89c5",""],["8a40",""],["8a43",""],["8a64",""],["8a76",""],["8aa1",""],["8aac",""],["8ab2",""],["8abb",""],["8ac9",""],["8ace",""],["8adf",""],["8af6",""],["8b40",""],["8b55",""],["8ba1",""],["8bde",""],["8c40",""],["8ca1",""],["8ca7",""],["8cc9",""],["8cce",""],["8ce6",""],["8d40",""],["8d42",""],["8da1",""],["8e40",""],["8ea1",""],["8f40",""],["8fa1",""],["9040",""],["90a1",""],["9140",""],["91a1",""],["9240",""],["92a1",""],["9340",""],["93a1",""],["9440",""],["94a1",""],["9540",""],["95a1",""],["9640",""],["96a1",""],["9740",""],["97a1",""],["9840",""],["98a1",""],["9940",""],["99a1",""],["9a40",""],["9aa1",""],["9b40",""],["9b62",""],["9ba1",""],["9c40",""],["9ca1",""],["9d40",""],["9da1",""],["9e40",""],["9ea1",""],["9ead",""],["9ec5",""],["9ef5",""],["9f40",""],["9f4f",""],["9fa1",""],["9fae",""],["9fb2",""],["9fc1",""],["9fc9",""],["9fdb",""],["9fe7",""],["9feb",""],["9ff0",""],["a040",""],["a055",""],["a058",""],["a05b",""],["a063",""],["a073",""],["a0a1",""],["a0a6",""],["a0ae",""],["a0b0",""],["a0d4",""],["a0e2",""],["a3c0","",31,""],["c6a1","",9,"",9,"",9,"",23],["c740","",58,""],["c7a1","",81,"",5,"",4],["c840","",26,"",25,""],["c8a1",""],["c8cd",""],["c8f5",""],["f9fe",""],["fa40",""],["faa1",""],["fb40",""],["fba1",""],["fc40",""],["fca1",""],["fd40",""],["fda1",""],["fe40",""],["fea1",""]]},function(e,t,n){"use strict";var r=n(18).Buffer,i=n(15).Transform;function o(e,t){this.conv=e,(t=t||{}).decodeStrings=!1,i.call(this,t)}function s(e,t){this.conv=e,(t=t||{}).encoding=this.encoding="utf8",i.call(this,t)}e.exports=function(e){e.encodeStream=function(t,n){return new o(e.getEncoder(t,n),n)},e.decodeStream=function(t,n){return new s(e.getDecoder(t,n),n)},e.supportsStreams=!0,e.IconvLiteEncoderStream=o,e.IconvLiteDecoderStream=s,e._collect=s.prototype.collect},o.prototype=Object.create(i.prototype,{constructor:{value:o}}),o.prototype._transform=function(e,t,n){if("string"!=typeof e)return n(new Error("Iconv encoding stream needs strings as its input."));try{var r=this.conv.write(e);r&&r.length&&this.push(r),n()}catch(e){n(e)}},o.prototype._flush=function(e){try{var t=this.conv.end();t&&t.length&&this.push(t),e()}catch(t){e(t)}},o.prototype.collect=function(e){var t=[];return this.on("error",e),this.on("data",function(e){t.push(e)}),this.on("end",function(){e(null,r.concat(t))}),this},s.prototype=Object.create(i.prototype,{constructor:{value:s}}),s.prototype._transform=function(e,t,n){if(!r.isBuffer(e))return n(new Error("Iconv decoding stream needs buffers as its input."));try{var i=this.conv.write(e);i&&i.length&&this.push(i,this.encoding),n()}catch(e){n(e)}},s.prototype._flush=function(e){try{var t=this.conv.end();t&&t.length&&this.push(t,this.encoding),e()}catch(t){e(t)}},s.prototype.collect=function(e){var t="";return this.on("error",e),this.on("data",function(e){t+=e}),this.on("end",function(){e(null,t)}),this}},function(e,t,n){"use strict";var r=n(18).Buffer;e.exports=function(e){var t=void 0;e.supportsNodeEncodingsExtension=!(r.from||new r(0)instanceof Uint8Array),e.extendNodeEncodings=function(){if(!t){if(t={},!e.supportsNodeEncodingsExtension)return console.error("ACTION NEEDED: require('iconv-lite').extendNodeEncodings() is not supported in your version of Node"),void console.error("See more info at https://github.com/ashtuchkin/iconv-lite/wiki/Node-v4-compatibility");var i={hex:!0,utf8:!0,"utf-8":!0,ascii:!0,binary:!0,base64:!0,ucs2:!0,"ucs-2":!0,utf16le:!0,"utf-16le":!0};r.isNativeEncoding=function(e){return e&&i[e.toLowerCase()]};var o=n(18).SlowBuffer;if(t.SlowBufferToString=o.prototype.toString,o.prototype.toString=function(n,i,o){return n=String(n||"utf8").toLowerCase(),r.isNativeEncoding(n)?t.SlowBufferToString.call(this,n,i,o):(void 0===i&&(i=0),void 0===o&&(o=this.length),e.decode(this.slice(i,o),n))},t.SlowBufferWrite=o.prototype.write,o.prototype.write=function(n,i,o,s){if(isFinite(i))isFinite(o)||(s=o,o=void 0);else{var a=s;s=i,i=o,o=a}i=+i||0;var c=this.length-i;if(o?(o=+o)>c&&(o=c):o=c,s=String(s||"utf8").toLowerCase(),r.isNativeEncoding(s))return t.SlowBufferWrite.call(this,n,i,o,s);if(n.length>0&&(o<0||i<0))throw new RangeError("attempt to write beyond buffer bounds");var u=e.encode(n,s);return u.length<o&&(o=u.length),u.copy(this,i,0,o),o},t.BufferIsEncoding=r.isEncoding,r.isEncoding=function(t){return r.isNativeEncoding(t)||e.encodingExists(t)},t.BufferByteLength=r.byteLength,r.byteLength=o.byteLength=function(n,i){return i=String(i||"utf8").toLowerCase(),r.isNativeEncoding(i)?t.BufferByteLength.call(this,n,i):e.encode(n,i).length},t.BufferToString=r.prototype.toString,r.prototype.toString=function(n,i,o){return n=String(n||"utf8").toLowerCase(),r.isNativeEncoding(n)?t.BufferToString.call(this,n,i,o):(void 0===i&&(i=0),void 0===o&&(o=this.length),e.decode(this.slice(i,o),n))},t.BufferWrite=r.prototype.write,r.prototype.write=function(n,i,o,s){var a=i,c=o,u=s;if(isFinite(i))isFinite(o)||(s=o,o=void 0);else{var l=s;s=i,i=o,o=l}if(s=String(s||"utf8").toLowerCase(),r.isNativeEncoding(s))return t.BufferWrite.call(this,n,a,c,u);i=+i||0;var h=this.length-i;if(o?(o=+o)>h&&(o=h):o=h,n.length>0&&(o<0||i<0))throw new RangeError("attempt to write beyond buffer bounds");var f=e.encode(n,s);return f.length<o&&(o=f.length),f.copy(this,i,0,o),o},e.supportsStreams){var s=n(15).Readable;t.ReadableSetEncoding=s.prototype.setEncoding,s.prototype.setEncoding=function(t,n){this._readableState.decoder=e.getDecoder(t,n),this._readableState.encoding=t},s.prototype.collect=e._collect}}},e.undoExtendNodeEncodings=function(){if(e.supportsNodeEncodingsExtension){if(!t)throw new Error("require('iconv-lite').undoExtendNodeEncodings(): Nothing to undo; extendNodeEncodings() is not called.");delete r.isNativeEncoding;var i=n(18).SlowBuffer;if(i.prototype.toString=t.SlowBufferToString,i.prototype.write=t.SlowBufferWrite,r.isEncoding=t.BufferIsEncoding,r.byteLength=t.BufferByteLength,r.prototype.toString=t.BufferToString,r.prototype.write=t.BufferWrite,e.supportsStreams){var o=n(15).Readable;o.prototype.setEncoding=t.ReadableSetEncoding,delete o.prototype.collect}t=void 0}}}},function(e,t,n){"use strict";function r(e){return void 0!==e.parent}Object.defineProperty(t,"__esModule",{value:!0});class i extends Error{constructor(){super(...arguments),this.name="SyncTexJsError"}toString(){return this.name+": "+this.message}}t.SyncTexJsError=i,t.parseSyncTex=function(e){const t=65781.76;let n,o,s=0;const a={},c=[],u={},l={},h={offset:{x:0,y:0},version:"",files:{},pages:{},blockNumberLine:{},hBlocks:[],numberPages:0};if(void 0===e)return h;const f=e.split("\n");h.version=f[0].replace("SyncTeX Version:","");const p=/Input:([0-9]+):(.+)/,d=/(X|Y) Offset:([0-9]+)/,g=/\{([0-9]+)$/,m=/\}([0-9]+)$/,y=/\[([0-9]+),([0-9]+):(-?[0-9]+),(-?[0-9]+):(-?[0-9]+),(-?[0-9]+),(-?[0-9]+)/,b=/\]$/,v=/\(([0-9]+),([0-9]+):(-?[0-9]+),(-?[0-9]+):(-?[0-9]+),(-?[0-9]+),(-?[0-9]+)/,w=/\)$/,x=/(.)([0-9]+),([0-9]+):-?([0-9]+),-?([0-9]+)(:?-?([0-9]+))?/;for(let e=1;e<f.length;e++){const k=f[e];let _=k.match(p);if(_)u[_[1]]={path:_[2]};else if(_=k.match(d))if("x"===_[1].toLowerCase())h.offset.x=parseInt(_[2])/t;else{if("y"!==_[1].toLowerCase())throw new i("never occur.");h.offset.y=parseInt(_[2])/t}else if(_=k.match(g))(n={page:parseInt(_[1]),blocks:[],type:"page"}).page>s&&(s=n.page),o=n;else if((_=k.match(m))&&void 0!==n)l[_[1]]=n,n=void 0;else if(_=k.match(y)){if(void 0===n||void 0===o){console.log(`Error: parse error at line ${e}. Any new V block is not allowed here.`);continue}const r=[Number(_[3])/t,Number(_[4])/t],i=[Number(_[5])/t,Number(_[6])/t];o={type:"vertical",parent:o,fileNumber:parseInt(_[1]),file:u[_[1]],line:parseInt(_[2]),left:r[0],bottom:r[1],width:i[0],height:i[1],depth:parseInt(_[7]),blocks:[],elements:[],page:n.page}}else if(_=k.match(b))void 0!==o&&r(o)&&r(o.parent)&&void 0!==o.parent.blocks&&(o.parent.blocks.push(o),o=o.parent);else if(_=k.match(v)){if(void 0===n||void 0===o){console.log(`Error: parse error at line ${e}. Any new H block is not allowed here.`);continue}const r=[Number(_[3])/t,Number(_[4])/t],i=[Number(_[5])/t,Number(_[6])/t],s={type:"horizontal",parent:o,fileNumber:parseInt(_[1]),file:u[_[1]],line:parseInt(_[2]),left:r[0],bottom:r[1],width:i[0],height:i[1],blocks:[],elements:[],page:n.page};c.push(s),o=s}else if(_=k.match(w))void 0!==o&&r(o)&&r(o.parent)&&void 0!==o.parent.blocks&&(o.parent.blocks.push(o),o=o.parent);else if(_=k.match(x)){if(void 0===n||void 0===o||!r(o)){console.log(`Error: parse error at line ${e}. Any new element is not allowed here.`);continue}const i=_[1],s=parseInt(_[2]),c=parseInt(_[3]),l=Number(_[4])/t,h=Number(_[5])/t,f=_[7]?Number(_[7])/t:void 0,p={type:i,parent:o,fileNumber:s,file:u[s],line:c,left:l,bottom:h,height:o.height,width:f,page:n.page};if(void 0===p.file)continue;void 0===a[p.file.path]&&(a[p.file.path]={}),void 0===a[p.file.path][c]&&(a[p.file.path][c]={}),void 0===a[p.file.path][c][p.page]&&(a[p.file.path][c][p.page]=[]),a[p.file.path][c][p.page].push(p),void 0!==o.elements&&o.elements.push(p)}}return h.files=u,h.pages=l,h.blockNumberLine=a,h.hBlocks=c,h.numberPages=s,h}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),i=n(0),o=/^Output\swritten\son\s(.*)\s\(.*\)\.$/gm,s=/Fatal error occurred, no output PDF file produced!/gm,a=/^(?:(.*):(\d+):|!)(?: (.+) Error:)? (.+?)$/,c=/^((?:Over|Under)full \\[vh]box \([^)]*\)) in paragraph at lines (\d+)--(\d+)$/,u=/^((?:Over|Under)full \\[vh]box \([^)]*\)) detected at line (\d+)$/,l=/^((?:(?:Class|Package) \S*)|LaTeX) (Warning|Info):\s+(.*?)(?: on input line (\d+))?\.$/,h=/^Empty `thebibliography' environment/,f=/^Latexmk:\sapplying\srule/gm,p=/^Latexmk:\sapplying\srule/,d=/^Latexmk:\sapplying\srule\s'(pdf|lua|xe)?latex'/,g=/^Latexmk: All targets \(.*\) are up-to-date/,m=/^running\s(pdf|lua|xe)?latex/gm,y=/^running\s((pdf|lua|xe)?latex|miktex-bibtex)/,b=/^running\s(pdf|lua|xe)?latex/,v=/^l\.\d+\s(.*)$/,w={typesetting:r.DiagnosticSeverity.Information,warning:r.DiagnosticSeverity.Warning,error:r.DiagnosticSeverity.Error};t.Parser=class{constructor(e){this.buildLog=[],this.buildLogRaw="",this.compilerDiagnostics=r.languages.createDiagnosticCollection("LaTeX"),this.linterDiagnostics=r.languages.createDiagnosticCollection("ChkTeX"),this.extension=e}parse(e){this.isLaTeXmkSkipped=!1,(e=e.replace(/(\r\n)|\r/g,"\n")).match(f)?e=this.trimLaTeXmk(e):e.match(m)&&(e=this.trimTexify(e)),e.match(o)||e.match(s)?this.parseLaTeX(e):this.latexmkSkipped(e)&&(this.isLaTeXmkSkipped=!0)}trimLaTeXmk(e){const t=e.split("\n");let n=-1,r=-1;for(let e=0;e<t.length;e++){const i=t[e];let o=i.match(d);o&&(n=e),(o=i.match(p))&&(r=e)}return r<=n?t.slice(n).join("\n"):t.slice(n,r).join("\n")}trimTexify(e){const t=e.split("\n");let n=-1,r=-1;for(let e=0;e<t.length;e++){const i=t[e];let o=i.match(b);o&&(n=e),(o=i.match(y))&&(r=e)}return r<=n?t.slice(n).join("\n"):t.slice(n,r).join("\n")}latexmkSkipped(e){return!!e.split("\n")[0].match(g)&&(this.showCompilerDiagnostics(),!0)}parseLaTeX(e){const t=r.workspace.getConfiguration("latex-workshop"),n=t.get("message.latexlog.exclude").map(e=>RegExp(e));this.buildLogRaw=e;const o=e.split("\n");this.buildLog=[];let s=!1,f=!1,p=!1,d={type:"",file:"",text:"",line:void 0};const g=[this.extension.manager.rootFile];let m=0;for(const e of o){const r=i.resolve(this.extension.manager.rootDir,g[g.length-1]);if(f){f=!1;continue}if(s){if(""===e.trim()||p&&e.match(/^\s/))d.text=d.text+"\n",s=!1,p=!1;else if(p){const t=e.replace(v,"$1");d.text=d.text+"\n"+t}else d.text=d.text+"\n"+e;continue}let o=!1;for(const t of n)if(e.match(t)){o=!0;break}if(o)continue;let h=e.match(c);h||(h=e.match(u)),h&&t.get("message.badbox.show")?(""!==d.type&&this.buildLog.push(d),d={type:"typesetting",file:r,line:parseInt(h[2],10),text:h[1]},s=!1,f=!0):(h=e.match(l))?(""!==d.type&&this.buildLog.push(d),d={type:"warning",file:r,line:parseInt(h[4],10),text:h[3]},s=!0):(h=e.match(a))?(""!==d.type&&this.buildLog.push(d),d={type:"error",text:h[3]&&"LaTeX"!==h[3]?`${h[3]}: ${h[4]}`:h[4],file:h[1]?i.resolve(this.extension.manager.rootDir,h[1]):r,line:h[2]?parseInt(h[2],10):void 0},s=!0,p=!0):(m=this.parseLaTeXFileStack(e,g,m),0===g.length&&g.push(this.extension.manager.rootFile))}""===d.type||d.text.match(h)||this.buildLog.push(d),this.extension.logger.addLogMessage(`LaTeX log parsed with ${this.buildLog.length} messages.`),this.showCompilerDiagnostics()}parseLaTeXFileStack(e,t,n){const r=e.match(/(\(|\))/);if(r&&void 0!==r.index&&r.index>-1){if(e=e.substr(r.index+1),"("===r[1]){const r=e.match(/^"?((?:(?:[a-zA-Z]:|\.|\/)?(?:\/|\\\\?))[\w\-. \/\\#]*)/),i=e.match(/^"?([\w\-\/. #]*\.[a-z]{3,})/);r?t.push(r[1].trim()):i?t.push(`./${i[1].trim()}`):n+=1}else n>0?n-=1:t.pop();n=this.parseLaTeXFileStack(e,t,n)}return n}parseLinter(e,t){const n=/^(.*?):(\d+):(\d+):(\d+):(.*?):(\d+):(.*?)$/gm,o=[];let s=n.exec(e);for(;s;){const r=t||s[1];o.push({file:i.isAbsolute(r)?r:i.resolve(this.extension.manager.rootDir,r),line:parseInt(s[2]),position:parseInt(s[3]),length:parseInt(s[4]),type:s[5].toLowerCase(),code:parseInt(s[6]),text:`${s[6]}: ${s[7]}`}),s=n.exec(e)}this.extension.logger.addLogMessage(`Linter log parsed with ${o.length} messages.`),void 0===t?this.linterDiagnostics.clear():0===o.length&&this.linterDiagnostics.set(r.Uri.file(t),[]),this.showLinterDiagnostics(o)}showCompilerDiagnostics(){this.compilerDiagnostics.clear();const e={};for(const t of this.buildLog){const n=new r.Range(new r.Position(t.line-1,0),new r.Position(t.line-1,65535)),i=new r.Diagnostic(n,t.text,w[t.type]);i.source="LaTeX",void 0===e[t.file]&&(e[t.file]=[]),e[t.file].push(i)}for(const t in e)this.compilerDiagnostics.set(r.Uri.file(t),e[t])}showLinterDiagnostics(e){const t={};for(const n of e){const e=new r.Range(new r.Position(n.line-1,n.position-1),new r.Position(n.line-1,n.position-1+n.length)),i=new r.Diagnostic(e,n.text,w[n.type]);i.code=n.code,i.source="ChkTeX",void 0===t[n.file]&&(t[n.file]=[]),t[n.file].push(i)}for(const e in t)[".tex",".bbx",".cbx",".dtx"].indexOf(i.extname(e))>-1&&this.linterDiagnostics.set(r.Uri.file(e),t[e])}}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,a)}c((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(1),o=n(0),s=n(2),a=n(12),c=n(21);t.Linter=class{constructor(e){this.currentProcesses={},this.extension=e}get rcPath(){let e;const t=this.extension.manager.rootFile;if(t&&(e=o.resolve(o.dirname(t),"./.chktexrc")),s.existsSync(e))return e;const n=i.workspace.workspaceFolders;return n&&n.length>0&&(e=o.resolve(n[0].uri.fsPath,"./.chktexrc")),s.existsSync(e)?e:void 0}lintRootFileIfEnabled(){i.workspace.getConfiguration("latex-workshop").get("chktex.enabled")&&this.lintRootFile()}lintActiveFileIfEnabled(){const e=i.workspace.getConfiguration("latex-workshop");e.get("chktex.enabled")&&"onType"===e.get("chktex.run")&&this.lintActiveFile()}lintActiveFileIfEnabledAfterInterval(){const e=i.workspace.getConfiguration("latex-workshop");if(e.get("chktex.enabled")&&"onType"===e.get("chktex.run")){const t=e.get("chktex.delay");this.linterTimeout&&clearTimeout(this.linterTimeout),this.linterTimeout=setTimeout(()=>this.lintActiveFile(),t)}}lintActiveFile(){return r(this,void 0,void 0,function*(){if(!i.window.activeTextEditor||!i.window.activeTextEditor.document.getText())return;this.extension.logger.addLogMessage("Linter for active file started.");const e=i.window.activeTextEditor.document.fileName,t=i.window.activeTextEditor.document.getText(),n=i.workspace.getConfiguration("latex-workshop"),r=n.get("chktex.path"),s=[...n.get("chktex.args.active")];if(s.indexOf("-l")<0){const e=this.rcPath;e&&s.push("-l",e)}const a=["-I0","-f%f:%l:%c:%d:%k:%n:%m\n"];let c;try{c=yield this.processWrapper("active file",r,s.concat(a).filter(e=>""!==e),{cwd:o.dirname(e)},t)}catch(e){if(!("stdout"in e))return;c=e.stdout}this.extension.parser.parseLinter(c,e)})}lintRootFile(){return r(this,void 0,void 0,function*(){this.extension.logger.addLogMessage("Linter for root file started.");const e=this.extension.manager.rootFile,t=i.workspace.getConfiguration("latex-workshop"),n=t.get("chktex.path"),r=[...t.get("chktex.args.active")];if(r.indexOf("-l")<0){const e=this.rcPath;e&&r.push("-l",e)}const s=["-f%f:%l:%c:%d:%k:%n:%m\n","%DOC%".replace("%DOC%",e)];let a;try{a=yield this.processWrapper("root file",n,r.concat(s).filter(e=>""!==e),{cwd:o.dirname(this.extension.manager.rootFile)})}catch(e){if(!("stdout"in e))return;a=e.stdout}this.extension.parser.parseLinter(a)})}processWrapper(e,t,n,r,i){return this.extension.logger.addLogMessage(`Linter for ${e} running command ${t} with arguments ${n}`),new Promise((o,s)=>{this.currentProcesses[e]&&this.currentProcesses[e].kill();const u=process.hrtime();this.currentProcesses[e]=a.spawn(t,n,r);const l=this.currentProcesses[e];l.stdout.setEncoding("utf8"),l.stderr.setEncoding("utf8");let h="";l.stdout.on("data",e=>{h+=e});let f="";l.stderr.on("data",e=>{f+=e}),l.on("error",t=>(this.extension.logger.addLogMessage(`Linter for ${e} failed to spawn command, encountering error: ${t.message}`),s(t))),l.on("exit",t=>{if(0!==t)return this.extension.logger.addLogMessage(`Linter for ${e} failed with exit code ${t} and error:\n  ${f}`),s({exitCode:t,stdout:h,stderr:f});{const[t,n]=process.hrtime(u);return this.extension.logger.addLogMessage(`Linter for ${e} successfully finished in ${t}s ${Math.round(n/1e6)}ms`),o(h)}}),void 0!==i&&(l.stdin.write(i),i.endsWith(c.EOL)||l.stdin.write(c.EOL),l.stdin.end())})}}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,a)}c((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(1),o=n(0),s=n(9),a=n(50);t.Cleaner=class{constructor(e){this.extension=e}clean(){return r(this,void 0,void 0,function*(){void 0!==this.extension.manager.rootFile&&(yield this.extension.manager.findRoot());let e=i.workspace.getConfiguration("latex-workshop").get("latex.clean.fileTypes"),t=this.extension.manager.getOutputDir(this.extension.manager.rootFile);return t.endsWith("/")||t.endsWith("\\")||(t+=o.sep),"./"!==t&&"."!==t&&(e=e.concat(e.map(e=>t+e),e.map(e=>t+"**/"+e))),Promise.all(e.map(e=>this.globP(e,{cwd:this.extension.manager.rootDir}))).then(e=>e.reduce((e,t)=>e.concat(t),[]).map(e=>o.resolve(this.extension.manager.rootDir,e))).then(e=>Promise.all(e.map(e=>s.unlink(e).then(()=>{this.extension.logger.addLogMessage(`File cleaned: ${e}`)},()=>s.rmdir(e).then(()=>{this.extension.logger.addLogMessage(`Folder removed: ${e}`)},()=>{this.extension.logger.addLogMessage(`Error removing file: ${e}`)}))))).then(()=>{}).catch(e=>{this.extension.logger.addLogMessage(`Error during deletion of files: ${e}`)})})}globP(e,t){return new Promise((n,r)=>{a(e,t,(e,t)=>{e?r(e):n(t)})})}}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,a)}c((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(1),o=n(2),s=n(0),a=n(12);t.Counter=class{constructor(e){this.extension=e}count(e,t=!0){return r(this,void 0,void 0,function*(){void 0!==this.extension.manager.rootFile&&(yield this.extension.manager.findRoot());const n=i.workspace.getConfiguration("latex-workshop"),r=n.get("texcount.args");t&&r.push("-merge");let c=n.get("texcount.path");n.get("docker.enabled")&&("win32"===process.platform?c=s.resolve(this.extension.extensionRoot,"./scripts/texcount.bat"):(c=s.resolve(this.extension.extensionRoot,"./scripts/texcount"),o.chmodSync(c,493))),this.extension.manager.setEnvVar();const u=a.spawn(c,r.concat([s.basename(e)]),{cwd:s.dirname(e)});u.stdout.setEncoding("utf8"),u.stderr.setEncoding("utf8");let l="";u.stdout.on("data",e=>{l+=e});let h="";u.stderr.on("data",e=>{h+=e}),u.on("error",e=>{this.extension.logger.addLogMessage(`Cannot count words: ${e.message}, ${h}`),this.extension.logger.showErrorMessage("TeXCount failed. Please refer to LaTeX Workshop Output for details.")}),u.on("exit",e=>{if(0!==e)this.extension.logger.addLogMessage(`Cannot count words, code: ${e}, ${h}`),this.extension.logger.showErrorMessage("TeXCount failed. Please refer to LaTeX Workshop Output for details.");else{const e=/Words in text: ([0-9]*)/g.exec(l),n=/Number of floats\/tables\/figures: ([0-9]*)/g.exec(l);if(e){let r="";n&&parseInt(n[1])>0&&(r=`and ${n[1]} float${parseInt(n[1])>1?"s":""} (tables, figures, etc.) `),i.window.showInformationMessage(`There are ${e[1]} words ${r}in the ${t?"LaTeX project":"opened LaTeX file"}.`)}this.extension.logger.addLogMessage(`TeXCount log:\n${l}`)}})})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),i=n(21);t.TeXMagician=class{constructor(e){this.extension=e}getFileName(e){const t=e.replace(/\\/g,"/").match(/([^\/]+$)/);return t?t[0]:""}getRelativePath(e,t){e=e.replace(/\\/g,"/");let n=t.replace(/\\/g,"/").replace(/[^\/]+$/gi,""),r=0;for(;e.charAt(r)===n.charAt(r);)r++;return e=e.substring(r),("./"+(n=(n=n.substring(r)).replace(/[^\/]+/g,".."))+e).replace(/^\.\/\.\./,"..")}addTexRoot(){r.workspace.findFiles("**/*.{tex}").then(e=>{const t=e.map(e=>({description:e.fsPath,label:this.getFileName(e.fsPath),filePath:e.fsPath}));r.window.showQuickPick(t).then(e=>{const t=r.window.activeTextEditor;if(!e||!t)return;const n=`% !TeX root = ${this.getRelativePath(e.filePath,t.document.fileName)}`,o=t.document.lineAt(0).text,s=[o.match(/^\s*%\s*!TeX root/gim)?r.TextEdit.replace(new r.Range(0,0,0,o.length),n):r.TextEdit.insert(new r.Position(0,0),n+i.EOL)],a=t.document.uri,c=new r.WorkspaceEdit;c.set(a,s),r.workspace.applyEdit(c)})})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),i=n(9),o=n(305),s=n(306),a=n(307),c=n(308),u=n(309),l=n(310);t.Completer=class{constructor(e){let t,n;this.extension=e,this.citation=new o.Citation(e),this.command=new s.Command(e),this.environment=new a.Environment(e),this.reference=new c.Reference(e),this.package=new u.Package(e),this.input=new l.Input(e),i.readFile(`${this.extension.extensionRoot}/data/environments.json`).then(e=>{t=e.toString()}).then(()=>i.readFile(`${this.extension.extensionRoot}/data/commands.json`)).then(e=>{n=e.toString()}).then(()=>{const e=JSON.parse(t);this.command.initialize(JSON.parse(n),e),this.environment.initialize(e)}).catch(e=>this.extension.logger.addLogMessage(`Error reading data: ${e}.`))}provideCompletionItems(e,t,n,i){return new Promise((o,s)=>{const a=e.lineAt(t.line).text[t.character-1],c=e.lineAt(t.line).text;if(t.character>1&&"\\"===c[t.character-1]&&"\\"===c[t.character-2])return void o();if(this.command.specialBrackets&&this.command.specialBrackets.hasOwnProperty(a)&&t.character>1&&"\\"===c[t.character-2]){const n=Object.assign({},this.command.specialBrackets[a]);return r.workspace.getConfiguration("editor",e.uri).get("autoClosingBrackets")&&c.length>t.character&&[")","]","}"].indexOf(c[t.character])>-1?n.range=new r.Range(t.translate(0,-1),t.translate(0,1)):n.range=new r.Range(t.translate(0,-1),t),void o([n])}const u=e.lineAt(t.line).text.substr(0,t.character);for(const s of["citation","reference","environment","package","input","command"]){const a=this.completion(s,u,{document:e,position:t,token:n,context:i});if(a.length>0){if("citation"===s){if("browser"===r.workspace.getConfiguration("latex-workshop").get("intellisense.citation.type"))return o(),void setTimeout(()=>this.citation.browser({document:e,position:t,token:n,context:i}),10)}else if("command"===s&&r.workspace.getConfiguration("latex-workshop").get("intellisense.surroundCommand.enabled")&&this.command.selection.length>0)return o(),void setTimeout(()=>{this.command.surround(this.command.selection),this.command.selection="",this.command.shouldClearSelection=!0},10);return void o(a)}}o()})}completion(e,t,n){let i,o,s;switch(e){case"citation":i=/(?:\\[a-zA-Z]*[Cc]ite[a-zA-Z]*\*?(?:\[[^\[\]]*\])*){([^}]*)$/,o=this.citation;break;case"reference":i=/(?:\\hyperref\[([^\]]*)(?!\])$)|(?:(?:\\(?!hyper)[a-zA-Z]*ref[a-zA-Z]*\*?(?:\[[^\[\]]*\])?){([^}]*)$)/,o=this.reference;break;case"environment":i=/(?:\\begin(?:\[[^\[\]]*\])?){([^}]*)$/,o=this.environment;break;case"command":i=/\\([a-zA-Z]*)$/,o=this.command;break;case"package":i=/(?:\\usepackage(?:\[[^\[\]]*\])*){([^}]*)$/,o=this.package;break;case"input":i=/(?:\\(input|include|subfile|includegraphics)(?:\[[^\[\]]*\])*){([^}]*)$/,o=this.input;break;default:return this.extension.logger.addLogMessage(`Error - trying to complete unknown type ${e}`),[]}const a=t.match(i);let c=[];if(a){if("input"===e){const e=r.window.activeTextEditor;e&&(s=[a[1],e.document.fileName,a[2]])}else"reference"!==e&&"citation"!==e||(s=n);c=o.provide(s)}return c}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),i=n(2),o=["article","book","bookinbook","booklet","collection","conference","inbook","incollection","inproceedings","inreference","manual","mastersthesis","misc","mvbook","mvcollection","mvproceedings","mvreference","online","patent","periodical","phdthesis","proceedings","reference","report","set","suppbook","suppcollection","suppperiodical","techreport","thesis","unpublished"];t.Citation=class{constructor(e){this.citationInBib={},this.citationData={},this.theBibliographyData={},this.extension=e}reset(){this.suggestions=[],this.theBibliographyData={},this.refreshTimer=0}provide(e){if(Date.now()-this.refreshTimer<1e3)return this.suggestions;this.refreshTimer=Date.now();const t=r.workspace.getConfiguration("latex-workshop"),n=this.extension.manager.rootFile,i=[];Object.keys(this.citationInBib).forEach(e=>{(0===this.citationInBib[e].rootFiles.length||this.citationInBib[e].rootFiles.indexOf(n)>-1)&&this.citationInBib[e].citations.forEach(e=>i.push(e))}),this.suggestions=i.map(n=>{const i=new r.CompletionItem(n.key,r.CompletionItemKind.Reference);switch(i.detail=n.title,t.get("intellisense.citation.label")){case"bibtex key":default:i.label=n.key;break;case"title":n.title?(i.label=n.title,i.detail=void 0):i.label=n.key;break;case"authors":n.author?(i.label=n.author,i.detail=void 0):i.label=n.key}return i.filterText=`${n.key} ${n.author} ${n.title} ${n.journal}`,i.insertText=n.key,i.documentation=Object.keys(n).filter(e=>"key"!==e).map(e=>`${e}: ${n[e]}`).join("\n"),e&&(i.range=e.document.getWordRangeAtPosition(e.position,/[-a-zA-Z0-9_:\.]+/)),i});const o={};if(Object.keys(this.theBibliographyData).forEach(e=>{this.theBibliographyData[e].rootFile===n&&(o[e]=this.theBibliographyData[e].item)}),r.window.activeTextEditor){const e=this.getTheBibliographyItems(r.window.activeTextEditor.document.getText());Object.keys(e).map(t=>{t in o||(o[t]=e[t])})}return Object.keys(o).map(t=>{const n=o[t],i=new r.CompletionItem(n.citation,r.CompletionItemKind.Reference);i.detail=n.text,e&&(i.range=e.document.getWordRangeAtPosition(e.position,/[-a-zA-Z0-9_:\.]+/)),this.suggestions.push(i)}),this.suggestions}browser(e){this.provide(e);const t=[];Object.keys(this.citationInBib).forEach(e=>{this.citationInBib[e].citations.forEach(e=>t.push(e))});const n=t.map(e=>({label:e.title?e.title:"",description:`${e.key}`,detail:`Authors: ${e.author?e.author:"Unknown"}, publication: ${e.journal?e.journal:e.publisher?e.publisher:"Unknown"}`}));r.window.showQuickPick(n,{placeHolder:"Press ENTER to insert citation key at cursor",matchOnDetail:!0,matchOnDescription:!0}).then(e=>{if(e&&r.window.activeTextEditor){const t=r.window.activeTextEditor,n=t.document.getText(new r.Range(new r.Position(0,0),t.selection.start));let i=t.selection.start;if(n.lastIndexOf("\\cite")>n.lastIndexOf("}")){const e=n.lastIndexOf("{")+1,r=n.lastIndexOf(",")+1;i=t.document.positionAt(e>r?e:r)}t.edit(n=>n.replace(new r.Range(i,t.selection.start),e.description||"")).then(()=>t.selection=new r.Selection(t.selection.end,t.selection.end))}})}parseBibFile(e,t){this.extension.logger.addLogMessage(`Parsing .bib entries from ${e}`);const n=[],s=r.workspace.getConfiguration("latex-workshop");if(i.statSync(e).size>=1024*s.get("intellisense.citation.maxfilesizeMB")*1024)return this.extension.logger.addLogMessage(`${e} is too large, ignoring it.`),void(this.citationInBib[e]={citations:n,rootFiles:[]});const a=i.readFileSync(e,"utf-8"),c=a.replace(/[\r\n]/g," "),u=/@(\w+)\s*{/g;let l=u.exec(c),h=null,f=1,p=0;for(;l||h;){if(h&&o.indexOf(h[1].toLowerCase())>-1){const t=c.substring(h.index,l?l.index:void 0).trim(),i=this.parseBibString(t);void 0!==i?(n.push(i),f=f+a.substring(p,h.index).split("\n").length-1,p=h.index,this.citationData[i.key]={item:i,text:Object.keys(i).filter(e=>"key"!==e).sort((e,t)=>"title"===e.toLowerCase()?-1:"title"===t.toLowerCase()?1:"author"===e.toLowerCase()?-1:"author"===t.toLowerCase()?1:0).map(e=>`${e}: ${i[e]}`).join("\n\n"),position:new r.Position(f-1,0),file:e}):this.extension.logger.addLogMessage(`Warning - following .bib entry in ${e} has no cite key:\n${t}`)}h=l,l&&(l=u.exec(c))}this.extension.logger.addLogMessage(`Parsed ${n.length} .bib entries from ${e}.`);let d=[];e in this.citationInBib&&(d=this.citationInBib[e].rootFiles),t&&-1===d.indexOf(t)&&d.push(t),this.citationInBib[e]={citations:n,rootFiles:d}}forgetParsedBibItems(e){this.extension.logger.addLogMessage(`Forgetting parsed bib entries for ${e}`),delete this.citationInBib[e]}parseBibString(e){const t=/((@)[a-zA-Z]+)\s*(\{)\s*([^\s,]*)/g;let n=t.exec(e);if(!n)return;e=e.substr(t.lastIndex);const r={key:n[4]},i=/([a-zA-Z0-9\!\$\&\*\+\-\.\/\:\;\<\>\?\[\]\^\_\`\|]+)\s*(\=)/g;for(n=i.exec(e);n;){const t=n[1];e=e.substr(i.lastIndex),i.lastIndex=0;const o=/,/g.exec(e),s=/\"/g.exec(e),a=/{/g.exec(e);let c="";if(o&&(!s||s&&o.index<s.index)&&(!a||a&&o.index<a.index))c=e.substring(0,o.index).trim(),e=e.substr(o.index);else if(a&&(!s||s.index>a.index)){let t=0;for(let n=a.index;n<e.length;++n){const r=e[n];if("{"===r&&"\\"!==e[n-1]?t++:"}"===r&&"\\"!==e[n-1]&&t--,0===t){c=e.substring(a.index+1,n).replace(/(\\.)|({)/g,"$1").replace(/(\\.)|(})/g,"$1"),e=e.substr(n);break}}}else if(s)for(let t=s.index+1;t<e.length;++t)if('"'===e[t]){c=e.substring(s.index+1,t).replace(/(\\.)|({)/g,"$1").replace(/(\\.)|(})/g,"$1"),e=e.substr(t);break}r[t.toLowerCase()]=c,n=i.exec(e)}return r}getTheBibliographyTeX(e){const t=this.getTheBibliographyItems(i.readFileSync(e,"utf-8"));Object.keys(this.theBibliographyData).forEach(t=>{this.theBibliographyData[t].file===e&&delete this.theBibliographyData[t]}),Object.keys(t).forEach(n=>{this.theBibliographyData[n]={item:t[n],text:t[n].text,file:e,rootFile:this.extension.manager.rootFile}})}getTheBibliographyItems(e){const t=/^(?!%).*\\bibitem(?:\[[^\[\]\{\}]*\])?{([^}]*)}/gm,n={};for(;;){const i=t.exec(e);if(null===i)break;if(!(i[1]in n)){const t=e.substring(i.index+i[0].length,e.indexOf("\n",i.index)).trim(),o=e.substring(0,i.index).split("\n");n[i[1]]={citation:i[1],text:`${t}\n...`,position:new r.Position(o.length-1,o[o.length-1].length)}}}return n}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),i=n(9);class o extends r.CompletionItem{constructor(e,t){super(e,t),this.packageName=void 0}}t.CommandCompletionItem=o;t.Command=class{constructor(e){this.selection="",this.shouldClearSelection=!0,this.suggestions=[],this.commandInTeX={},this.allCommands={},this.defaultCommands={},this.defaultSymbols={},this.newcommandData={},this.usedPackages=[],this.packageCmds={},this.extension=e}reset(){this.suggestions=[],this.commandInTeX={},this.allCommands={},this.newcommandData={},this.usedPackages=[],this.packageCmds={}}initialize(e,t){Object.keys(e).forEach(t=>{const n=e[t];this.defaultCommands[t]=this.entryToCompletionItem(n)});const n={};t.forEach(e=>{n[e]={command:e,snippet:`begin{${e}}\n\t$0\n\\\\end{${e}}`},["enumerate","itemize"].indexOf(e)>-1&&(n[e].snippet=`begin{${e}}\n\t\\item $0\n\\\\end{${e}}`)}),Object.keys(n).forEach(e=>{const t=n[e],i=new o(`\\begin{${t.command}} ... \\end{${t.command}}`,r.CompletionItemKind.Snippet);i.filterText=t.command,i.insertText=new r.SnippetString(t.snippet),this.defaultCommands[e]=i});const i={latexinlinemath:"(",latexdisplaymath:"[",curlybrackets:"{",lrparen:"left(",lrbrack:"left[",lrcurly:"left\\{"};this.specialBrackets=Object.keys(this.defaultCommands).filter(e=>i.hasOwnProperty(e)).reduce((e,t)=>(e[i[t]]=this.defaultCommands[t],e),{})}provide(){if(Date.now()-this.refreshTimer<1e3)return this.suggestions;this.refreshTimer=Date.now();const e=r.workspace.getConfiguration("latex-workshop"),t=e.get("intellisense.optionalArgsEntries.enabled");let n={};Object.keys(this.defaultCommands).forEach(e=>{!t&&e.indexOf("[")>-1||(n[e]=this.defaultCommands[e])}),e.get("intellisense.unimathsymbols.enabled")&&(0===Object.keys(this.defaultSymbols).length&&this.loadSymbols(),n=Object.assign(n,this.defaultSymbols)),this.usedPackages.forEach(e=>this.insertPkgCmds(e,n)),this.allCommands=n;const i=[];if(Object.keys(n).forEach(e=>{const t=e.search(/[\[\{]/),n=t>-1?e.substr(0,t):e;-1===i.indexOf(n)&&i.push(n)}),Object.keys(this.extension.manager.texFileTree).forEach(e=>{e in this.commandInTeX&&Object.keys(this.commandInTeX[e]).forEach(t=>{i.indexOf(t)>-1||(n[t]=this.entryToCompletionItem(this.commandInTeX[e][t]),i.push(t))})}),r.window.activeTextEditor){const e=this.getCommandItems(r.window.activeTextEditor.document.getText(),r.window.activeTextEditor.document.fileName);Object.keys(e).forEach(t=>{i.indexOf(t)>-1||(n[t]=this.entryToCompletionItem(e[t]),i.push(t))})}return Object.keys(this.newcommandData).forEach(e=>{if(i.indexOf(e)>-1)return;const t=new r.CompletionItem(`\\${e}`,r.CompletionItemKind.Function);t.insertText=e,n[e]=t,i.push(e)}),this.suggestions=Object.keys(n).map(e=>n[e]),this.suggestions}surround(e){if(!r.window.activeTextEditor)return;const t=r.window.activeTextEditor,n=[];this.provide().forEach(e=>{if(void 0===e.insertText)return;if("\\begin"===e.label)return;const t="string"!=typeof e.insertText?e.insertText.value:e.insertText;t.match(/(.*)(\${\d.*?})/)&&n.push(t.replace(/\n/g,"").replace(/\t/g,"").replace("\\\\","\\"))}),r.window.showQuickPick(n,{placeHolder:"Press ENTER to surround previous selection with selected command",matchOnDetail:!0,matchOnDescription:!0}).then(n=>{void 0!==n&&t.edit(i=>{let o=n,s=e;for(const a of t.selections)e||(s=t.document.getText(a),o="\\"+n),i.replace(new r.Range(a.start,a.end),o.replace(/(.*)(\${\d.*?})/,`$1${s}`).replace(/\${\d:?(.*?)}/g,"$1").replace("\\\\","\\").replace(/\$\d/,""))})})}loadSymbols(){const e=JSON.parse(i.readFileSync(`${this.extension.extensionRoot}/data/unimathsymbols.json`).toString());Object.keys(e).forEach(t=>{const n=e[t];this.defaultSymbols[t]=this.entryToCompletionItem(n)})}entryToCompletionItem(e){const t=r.workspace.getConfiguration("latex-workshop").get("intellisense.useTabStops.enabled"),n=" "===e.command[0]?"":"\\",i=new o(`${n}${e.command}`,r.CompletionItemKind.Function);return e.snippet?(t&&(e.snippet=e.snippet.replace(/\$\{(\d+):[^\}]*\}/g,"$$$1")),i.insertText=new r.SnippetString(e.snippet)):i.insertText=e.command,i.detail=e.detail,i.documentation=e.documentation?e.documentation:"`"+e.command+"`",i.packageName=e.package,i.sortText=e.command.replace(/^[a-zA-Z]/,e=>{const t=e.match(/[a-z]/)?e.toUpperCase().charCodeAt(0):e.toLowerCase().charCodeAt(0);return void 0!==t?t.toString(16):e}),e.postAction?i.command={title:"Post-Action",command:e.postAction}:/[a-zA-Z]*([Cc]ite|ref)[a-zA-Z]*/.exec(e.command)&&(i.command={title:"Post-Action",command:"editor.action.triggerSuggest"}),i}insertPkgCmds(e,t){const n=r.workspace.getConfiguration("latex-workshop");if(!n.get("intellisense.package.enabled"))return;const o=n.get("intellisense.optionalArgsEntries.enabled");if(!(e in this.packageCmds)){let n=`${this.extension.extensionRoot}/data/packages/${e}_cmd.json`;if(!i.existsSync(n)){const t=e.lastIndexOf("-");if(t>-1){const r=e.substring(0,t);n=`${this.extension.extensionRoot}/data/packages/${r}_cmd.json`}}if(i.existsSync(n)){this.packageCmds[e]={};const r=JSON.parse(i.readFileSync(n).toString());Object.keys(r).forEach(n=>{n in t||(this.packageCmds[e][n]=this.entryToCompletionItem(r[n]))})}}e in this.packageCmds&&Object.keys(this.packageCmds[e]).forEach(n=>{!o&&n.indexOf("[")>-1||(t[n]=this.packageCmds[e][n])})}getPackage(e){const t=i.readFileSync(e,"utf-8"),n=/\\usepackage(?:\[[^\[\]\{\}]*\])?{(.*)}/g;let r;do{if(r=n.exec(t))for(const e of r[1].split(","))this.usedPackages.indexOf(e.trim())>-1||this.usedPackages.push(e.trim())}while(r)}getCommandsTeX(e){this.commandInTeX[e]=this.getCommandItems(i.readFileSync(e,"utf-8"),e)}getCommandItems(e,t){const n=/\\([a-zA-Z]+)({[^{}]*})?({[^{}]*})?({[^{}]*})?/g,i={};for(;;){const t=n.exec(e);if(null===t)break;i[t[1]]={command:t[1]},t[2]&&(i[t[1]].snippet=`${t[1]}{\${1}}`,t[1].match(/([a-zA-Z]*(cite|ref)[a-zA-Z]*)|(begin)/)&&(i[t[1]].postAction="editor.action.triggerSuggest")),t[3]&&(i[t[1]].snippet+="{${2}}"),t[4]&&(i[t[1]].snippet+="{${3}}")}const o=/\\(?:re|provide)?(?:new)?command(?:{)?\\(\w+)/g;for(;;){const n=o.exec(e);if(null===n)break;n[1]in this.newcommandData||(this.newcommandData[n[1]]={position:new r.Position(e.substr(0,n.index).split("\n").length-1,0),file:t})}return i}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),i=n(9);t.Environment=class{constructor(e){this.defaults={},this.packageEnvs={},this.extension=e}initialize(e){e.forEach(e=>{const t=new r.CompletionItem(e,r.CompletionItemKind.Module);this.defaults[e]=t})}provide(){if(Date.now()-this.refreshTimer<1e3)return this.suggestions;this.refreshTimer=Date.now();const e=Object.assign({},this.defaults);return this.extension.completer.command.usedPackages.forEach(t=>this.insertPkgEnvs(t,e)),this.suggestions=Object.keys(e).map(t=>e[t]),this.suggestions}insertPkgEnvs(e,t){if(r.workspace.getConfiguration("latex-workshop").get("intellisense.package.enabled")){if(!(e in this.packageEnvs)){const n=`${this.extension.extensionRoot}/data/packages/${e}_env.json`;i.existsSync(n)&&(this.packageEnvs[e]=[],JSON.parse(i.readFileSync(n).toString()).forEach(n=>{n in t||(this.packageEnvs[e][n]=new r.CompletionItem(n,r.CompletionItemKind.Module))}))}e in this.packageEnvs&&Object.keys(this.packageEnvs[e]).forEach(n=>{t[n]=this.packageEnvs[e][n]})}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),i=n(2);t.Reference=class{constructor(e){this.referenceData={},this.extension=e}reset(){this.suggestions=[],this.referenceData={},this.refreshTimer=0}provide(e){if(Date.now()-this.refreshTimer<1e3)return this.suggestions;this.refreshTimer=Date.now();const t={};if(Object.keys(this.referenceData).forEach(e=>{t[e]=this.referenceData[e].item}),r.window.activeTextEditor){const e=this.getReferenceItems(r.window.activeTextEditor.document.getText());Object.keys(e).map(n=>{n in t||(t[n]=e[n])})}return this.suggestions=[],Object.keys(t).map(n=>{const i=t[n],o=new r.CompletionItem(i.reference,r.CompletionItemKind.Reference);o.documentation=i.text,o.range=e.document.getWordRangeAtPosition(e.position,/[-a-zA-Z0-9_:\.]+/),this.suggestions.push(o)}),this.suggestions}getReferencesTeX(e){const t=this.getReferenceItems(i.readFileSync(e,"utf-8"));Object.keys(this.referenceData).forEach(t=>{this.referenceData[t].file===e&&delete this.referenceData[t]}),Object.keys(t).forEach(n=>{this.referenceData[n]={item:t[n],text:t[n].text,file:e}})}getReferenceItems(e){const t=/^(?:(?!%).*\\label(?:\[[^\[\]\{\}]*\])?|label=){([^}]*)}/gm,n={},i=e.split("\n").filter(e=>""!==e).join("\n");for(;;){const o=t.exec(e);if(null===o)break;if(!(o[1]in n)){const t=i.substring(0,i.substring(0,o.index).lastIndexOf("\n")-1),s=i.substring(o.index,i.length).split("\n",4).join("\n").length,a=e.substring(0,o.index).split("\n");n[o[1]]={reference:o[1],text:`${i.substring(t.lastIndexOf("\n")+1,o.index+s)}\n...`,position:new r.Position(a.length-1,a[a.length-1].length)}}}return n}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),i=n(9);t.Package=class{constructor(e){this.suggestions=[],this.extension=e}initialize(e){Object.keys(e).forEach(t=>{const n=e[t],i=new r.CompletionItem(n.command,r.CompletionItemKind.Module);i.detail=n.detail,i.documentation=n.documentation,this.suggestions.push(i)})}provide(){if(0===this.suggestions.length){const e=JSON.parse(i.readFileSync(`${this.extension.extensionRoot}/data/packagenames.json`).toString());this.initialize(e)}return this.suggestions}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),i=n(9),o=n(0),s=n(45),a=n(12),c=["**/.vscode","**/.vscodeignore","**/.gitignore"];t.Input=class{constructor(e){this.extension=e}provide(e){const t=e[0],n=e[1],u=e[2],l=[];let h;h="include"===t?o.dirname(n):o.dirname(this.extension.manager.rootFile),""!==u&&(h=o.resolve(h,u));try{const e=i.readdirSync(h),t=Object.keys(r.workspace.getConfiguration("files",null).get("exclude")||{}).concat(c);let n=[];if(r.workspace.getConfiguration("search",null).get("useIgnoreFiles"))try{n=a.execSync("git check-ignore "+e.join(" "),{cwd:h}).toString().split("\n")}catch(e){}e.forEach(e=>{const a=o.resolve(h,e);if(!(n.indexOf(e)>-1||s.any(a,t,{basename:!0})))if(i.lstatSync(a).isDirectory()){const t=new r.CompletionItem(`${e}/`,r.CompletionItemKind.Folder);t.command={title:"Post-Action",command:"editor.action.triggerSuggest"},l.push(t)}else l.push(new r.CompletionItem(e,r.CompletionItemKind.File))})}catch(e){}return l}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),i={1:"Terminate command with empty statement",2:"Convert to non-breaking space (~)",4:"Remove italic correction \\/ (not in italic buffer)",5:"Remove extraneous italic correction(s)",6:"Add italic correction (\\/)",11:"Fix ellipsis",12:"Add interword space (\\ )",13:"Add intersentence space (\\@)",18:"Replace with ` or '",32:"Replace with `",33:"Replace with '",24:"Remove extraneous space",28:"Remove incorrect \\/",26:"Remove extraneous space",34:"Replace with ` or '",35:"Use suggested alternative",39:"Remove extraneous space",42:"Remove extraneous space",45:"Use \\[ ... \\] instead of $$ ... $$",46:"Use \\( ... \\) instead of $ ... $"};function o(e,t,n){const i=new r.Range(new r.Position(t.line,0),t),o=e.getText(i),s=/\s*$/.exec(o);if(!s)return r.workspace.applyEdit(new r.WorkspaceEdit);const a=s[0].length,c=new r.Range(new r.Position(t.line,t.character-a),t),u=new r.WorkspaceEdit;return u.replace(e.uri,c,n),r.workspace.applyEdit(u)}function s(e,t,n){const i=new r.WorkspaceEdit;return i.replace(e.uri,t,n),r.workspace.applyEdit(i)}function a(e,t,n){return s(e,t,n.repeat(t.end.character-t.start.character))}function c(e,t){return 0===t.start.character||" "===function(e,t){return e.getText(t.with(t.start.translate(0,-1)))[0]}(e,t)}function u(e,t,n,i,o){const s=n.length,a=t.with(t.end.translate(0,-s),t.end),c=e.getText(a);if(!new RegExp("^"+n.replace(/\$/g,"\\$")+"$").exec(c))return;const u=new r.WorkspaceEdit;u.replace(e.uri,a,o);const l=t.with(t.start,t.start.translate(0,s));return u.replace(e.uri,l,i),r.workspace.applyEdit(u)}t.CodeActions=class{constructor(e){this.extension=e}provideCodeActions(e,t,n,r){const o=[];return n.diagnostics.filter(e=>"ChkTeX"===e.source).forEach(t=>{let n=t.code;if(!n)return;"string"==typeof n&&(n=parseInt(n));const r=i[n];void 0!==r&&o.push({title:r,command:"latex-workshop.code-action",arguments:[e,t.range,t.code,t.message]})}),o}runCodeAction(e,t,n,r){let i,l;switch(n){case 24:case 26:case 39:case 42:o(e,t.end,"");break;case 4:case 5:case 28:s(e,t,"");break;case 1:o(e,t.end.translate(0,-1),"{}");break;case 2:o(e,t.end,"~");break;case 6:o(e,t.end.translate(0,-1),"\\/");break;case 11:if(!(l=/\\[cl]?dots/.exec(r)))break;s(e,t,i=l[0]+" ");break;case 12:s(e,t,"\\ ");break;case 13:o(e,t.end.translate(0,-1),"\\@");break;case 18:c(e,t)?a(e,t,"``"):a(e,t,"''");break;case 32:a(e,t,"`");break;case 33:a(e,t,"'");break;case 34:c(e,t)?a(e,t,"`"):a(e,t,"'");break;case 35:if(!(l=/`(.+)'/.exec(r)))break;s(e,t,i=l[1]);break;case 45:u(e,t,"$$","\\[","\\]");break;case 46:u(e,t,"$","\\(","\\)")}}}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,a)}c((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(1),o=n(9),s=n(0),a=n(313),c=n(113),u=n(314),l=n(114);t.HoverProvider=class{constructor(e){this.jaxInitialized=!1,this.extension=e,Promise.resolve().then(()=>n(315)).then(e=>{this.mj=e,e.config({MathJax:{jax:["input/TeX","output/SVG"],extensions:["tex2jax.js","MathZoom.js"],showMathMenu:!1,showProcessingMessages:!1,messageStyle:"none",SVG:{useGlobalCache:!1},TeX:{extensions:["AMSmath.js","AMSsymbols.js","autoload-all.js","color.js","noUndefined.js"]}}}),e.start(),this.jaxInitialized=!0})}provideHover(e,t,n){return this.getColor(),new Promise((n,r)=>{const o=i.workspace.getConfiguration("latex-workshop"),s=o.get("hoverPreview.enabled"),a=o.get("hoverReference.enabled"),c=o.get("hoverCitation.enabled"),u=o.get("hoverCommandDoc.enabled");if(s){const r=this.findHoverOnTex(e,t);if(r)return void this.provideHoverOnTex(e,r,this.findNewCommand(e.getText())).then(e=>n(e))}const h=l.tokenizer(e,t);if(h){if("\\"===h.charAt(0))return u?void this.provideHoverOnCommand(h).then(e=>n(e)):void n();if(l.onAPackage(e,t,h)){const e=encodeURIComponent(JSON.stringify(h)),t=`Package **${h}** \n\n`,r=new i.MarkdownString(`[View documentation](command:latex-workshop.texdoc?${e})`);return r.isTrusted=!0,void n(new i.Hover([t,r]))}if(a&&h in this.extension.completer.reference.referenceData){const r=this.extension.completer.reference.referenceData[h],s=r.item.position.line,a=i.Uri.parse("command:latex-workshop.synctexto").with({query:JSON.stringify([s,r.file])}),c=new i.MarkdownString(`[View on pdf](${a})`);if(c.isTrusted=!0,o.get("hoverPreview.ref.enabled")){const i=this.findHoverOnRef(e,t,h,r);if(i)return void this.provideHoverOnRef(i,this.findNewCommand(e.getText()),h,r).then(e=>n(e))}const u="```latex\n"+r.text+"\n```\n";n(new i.Hover([u,c]))}else c&&h in this.extension.completer.citation.citationData?n(new i.Hover(this.extension.completer.citation.citationData[h].text)):c&&h in this.extension.completer.citation.theBibliographyData?n(new i.Hover(this.extension.completer.citation.theBibliographyData[h].text)):n()}else n()})}findNewCommand(e){const t=/(\\(?:(?:re)?new|provide)command(\*)?(?:\[[^\[\]\{\}]*\])*{.*})/gm,n=[];let r;do{if(r=t.exec(e)){let e=r[1];r[2]&&(e=e.replace(/\*/,"")),n.push(e)}}while(r);return n.join("")}provideHoverOnCommand(e){return r(this,void 0,void 0,function*(){const t=[],n=[],r=e.substring(1);Object.keys(this.extension.completer.command.allCommands).forEach(e=>{if(e.startsWith(r)&&(e.length===r.length||"["===e.charAt(r.length)||"{"===e.charAt(r.length))){const r=this.extension.completer.command.allCommands[e];if(void 0===r.documentation)return;const i=r.documentation,o=r.packageName;o&&-1===n.indexOf(o)&&n.push(o),t.push(i)}});let o="";if(n.length>0&&(o="\n\nView documentation for package(s) ",n.forEach(e=>{const t=encodeURIComponent(JSON.stringify(e));o+=`[${e}](command:latex-workshop.texdoc?${t}),`}),o=o.substr(0,o.lastIndexOf(","))+"."),t.length>0){const e=new i.MarkdownString(t.join("  \n"));return e.appendMarkdown(o),e.isTrusted=!0,new i.Hover(e)}})}provideHoverOnTex(e,t,n){return r(this,void 0,void 0,function*(){const r=i.workspace.getConfiguration("latex-workshop").get("hoverPreview.scale");let o=this.renderCursor(e,t.range);o=this.mathjaxify(o,t.envname);const s=yield this.mj.typeset({math:n+this.stripTeX(o),format:"TeX",svgNode:!0});this.scaleSVG(s,r),this.colorSVG(s);const a=s.svgNode.outerHTML,c=this.svgToDataUrl(a);return new i.Hover(new i.MarkdownString(`![equation](${c})`),t.range)})}provideHoverOnRef(e,t,n,o){return r(this,void 0,void 0,function*(){const r=i.workspace.getConfiguration("latex-workshop").get("hoverPreview.scale"),s=this.mathjaxify(e.texString,e.envname,{stripLabel:!1}),a={labels:{},IDs:{},startNumber:0},c=yield this.mj.typeset({width:50,equationNumbers:"AMS",math:t+this.stripTeX(s),format:"TeX",svgNode:!0,state:{AMS:a}});this.scaleSVG(c,r),this.colorSVG(c);const u=c.svgNode.outerHTML,l=this.eqNumAndLabel(a,e,n),h=this.svgToDataUrl(u),f=o.item.position.line,p=i.Uri.parse("command:latex-workshop.synctexto").with({query:JSON.stringify([f,o.file])}),d=new i.MarkdownString(`[View on pdf](${p})`);return d.isTrusted=!0,new i.Hover([l,`![equation](${h})`,d],e.range)})}eqNumAndLabel(e,t,n){let r="";const i="[error] fail to get equation number for label.",o=t.texString.match(/\\label\{.*?\}/g);if(!o)return i;if(1===o.length&&1===e.startNumber)return`(1) ${Object.keys(e.labels)[0]}`;if(o.length===e.startNumber){let e=1;for(const t of o){const i=t.substr(7,t.length-8);if(n===i)return r=`(${e}) ${i}`+"&nbsp;&nbsp;&nbsp;";e+=1}return i}for(const t in e.labels){const o=e.labels[t].tag;if(!o.match(/\d+/))return i;if(n===t)return r=`(${o}) ${t}`+"&nbsp;&nbsp;&nbsp;"}return i}scaleSVG(e,t){const n=e.svgNode,r=n.getAttribute("width").match(/([\.\d]+)(\w*)/),i=n.getAttribute("height").match(/([\.\d]+)(\w*)/),o=t*Number(r[1]),s=t*Number(i[1]);n.setAttribute("width",o+r[2]),n.setAttribute("height",s+i[2])}svgToDataUrl(e){return"data:image/svg+xml;base64,"+Buffer.from(unescape(encodeURIComponent(e))).toString("base64")}hexToRgb(e){const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16)/255,g:parseInt(t[2],16)/255,b:parseInt(t[3],16)/255}:null}colorSVG(e){e.svgNode.getElementsByTagName("g")[0].setAttribute("fill",this.color)}stripTeX(e){return e.startsWith("$")&&e.endsWith("$")&&(e=e.slice(1,e.length-1)),e.startsWith("\\(")&&e.endsWith("\\)")&&(e=e.slice(2,e.length-2)),e.startsWith("\\[")&&e.endsWith("\\]")&&(e=e.slice(2,e.length-2)),e}getColor(){const e=i.workspace.getConfiguration("workbench").get("colorTheme");for(const t of i.extensions.all){if(void 0===t.packageJSON||void 0===t.packageJSON.contributes||void 0===t.packageJSON.contributes.themes)continue;const n=t.packageJSON.contributes.themes.filter(t=>t.label===e||t.id===e);if(0===n.length)continue;try{const e=s.resolve(t.extensionPath,n[0].path);let r=JSON.parse(a(o.readFileSync(e,"utf8")));for(;r.include;){const t=JSON.parse(a(o.readFileSync(s.resolve(s.dirname(e),r.include),"utf8")));r.include=void 0,r=Object.assign({},r,t)}const i=this.hexToRgb(r.colors["editor.background"]);if(i){const e=.2126*(i.r<=.03928?i.r/12.92:Math.pow((i.r+.055)/1.055,2.4))+.7152*(i.r<=.03928?i.g/12.92:Math.pow((i.g+.055)/1.055,2.4))+.0722*(i.r<=.03928?i.b/12.92:Math.pow((i.b+.055)/1.055,2.4));return void(this.color=e>.179?"#000000":"#ffffff")}if(r.type&&"dark"===r.type)return void(this.color="#ffffff")}catch(e){console.log("Error when JSON.parse theme files."),console.log(e.message)}const r=n[0].uiTheme;return r&&"vs"!==r?void(this.color="#ffffff"):void(this.color="#000000")}this.color="#000000"}isCursorInTeXCommand(e){const t=i.window.activeTextEditor;if(!t)return!1;const n=t.selection.active,r=e.getWordRangeAtPosition(n,/\\(?:begin|end|label)\{.*?\}|\\[a-zA-Z]+\{?|\\[\(\)\[\]]|\\\\/);return!!(r&&r.start.isBefore(n)&&r.end.isAfter(n))}renderCursor(e,t){const n=i.window.activeTextEditor,r=i.workspace.getConfiguration("latex-workshop"),o=r.get("hoverPreview.cursor.enabled");if(n&&o&&!this.isCursorInTeXCommand(e)){const o=n.selection.active,s=r.get("hoverPreview.cursor.symbol"),a=r.get("hoverPreview.cursor.color");let c=`{\\color{${this.color}}${s}}`;if("auto"!==a&&(c=`{\\color{${a}}${s}}`),t.contains(o)&&!t.start.isEqual(o)&&!t.end.isEqual(o))return e.getText(new i.Range(t.start,o))+c+e.getText(new i.Range(o,t.end))}return e.getText(t)}mathjaxify(e,t,n={stripLabel:!0}){let r=e.replace(/^\s*%.*\r?\n/gm,"");return r=r.replace(/^((?:\\.|[^%])*).*$/gm,"$1"),n.stripLabel&&(r=r.replace(/\\label\{.*?\}/g,"")),t.match(/^(aligned|alignedat|array|Bmatrix|bmatrix|cases|CD|gathered|matrix|pmatrix|smallmatrix|split|subarray|Vmatrix|vmatrix)$/)&&(r="\\begin{equation}"+r+"\\end{equation}"),r}findHoverOnTex(e,t){const n=/\\begin\{(align|align\*|alignat|alignat\*|aligned|alignedat|array|Bmatrix|bmatrix|cases|CD|eqnarray|eqnarray\*|equation|equation\*|gather|gather\*|gathered|matrix|multline|multline\*|pmatrix|smallmatrix|split|subarray|Vmatrix|vmatrix)\}/;let r=e.getWordRangeAtPosition(t,n);if(r){const t=this.getFirstRmemberedSubstring(e.getText(r),n);return this.findHoverOnEnv(e,t,r.start)}const i=/(\\\[|\\\()/;if(r=e.getWordRangeAtPosition(t,i)){const t=this.getFirstRmemberedSubstring(e.getText(r),i);return this.findHoverOnParen(e,t,r.start)}return this.findHoverOnInline(e,t)}findHoverOnRef(e,t,n,r){const o=u.TextDocumentLike.load(r.file),s=/\\begin\{(align|align\*|alignat|alignat\*|eqnarray|eqnarray\*|equation|equation\*|gather|gather\*)\}/,a=o.lineAt(r.item.position.line).text,l=new RegExp("\\\\label\\{"+c.escapeRegExp(n)+"\\}"),h=a.match(l);if(h&&void 0!==h.index){const n=new i.Position(r.item.position.line,h.index),a=this.findBeginPair(o,s,n);if(a){const r=this.findHoverOnTex(o,a);if(r){const i=r.range,o=e.getWordRangeAtPosition(t,/\{.*?\}/);if(o&&i.contains(n))return r.range=o,r}}}}getFirstRmemberedSubstring(e,t){const n=e.match(t);return n&&n[1]?n[1]:"never return here"}removeComment(e){return e.replace(/^((?:\\.|[^%])*).*$/,"$1")}findEndPair(e,t,n){const r=e.lineAt(n).text.substring(n.character);let o=this.removeComment(r).match(t);if(o&&void 0!==o.index)return new i.Position(n.line,n.character+o.index+o[0].length);let s=n.line+1;for(;s<=e.lineCount;){if((o=this.removeComment(e.lineAt(s).text).match(t))&&void 0!==o.index)return new i.Position(s,o.index+o[0].length);s+=1}}findBeginPair(e,t,n,r=20){const o=e.lineAt(n).text.substr(0,n.character);let s=this.removeComment(o),a=s.match(t);if(a&&void 0!==a.index)return new i.Position(n.line,a.index);let c=n.line-1,u=0;for(;c>=0&&u<r;){if(s=e.lineAt(c).text,(a=(s=this.removeComment(s)).match(t))&&void 0!==a.index)return new i.Position(c,a.index);c-=1,u+=1}}findHoverOnEnv(e,t,n){const r=new RegExp("\\\\end\\{"+c.escapeRegExp(t)+"\\}"),o=new i.Position(n.line,n.character+t.length+"\\begin{}".length),s=this.findEndPair(e,r,o);if(s){const r=new i.Range(n,s);return{texString:e.getText(r),range:r,envname:t}}}findHoverOnParen(e,t,n){const r="\\["===t?/\\\]/:/\\\)/,o=new i.Position(n.line,n.character+t.length),s=this.findEndPair(e,r,o);if(s){const r=new i.Range(n,s);return{texString:e.getText(r),range:r,envname:t}}}findHoverOnInline(e,t){const n=e.lineAt(t.line).text;let r=n,o=0,s=r.match(/\$(?:\\.|[^\\])+?\$|\\\(.+?\\\)/);for(;s&&s&&void 0!==s.index;){{const a=o+s.index,c=o+s.index+s[0].length;if(a<=t.character&&t.character<=c){const n=new i.Range(t.line,a,t.line,c);return{texString:e.getText(n),range:n,envname:"$"}}o=c,r=n.substring(o)}s=r.match(/\$(?:\\.|[^\\])+?\$|\\\(.+?\\\)/)}}}},function(e,t,n){"use strict";function r(){return""}function i(e,t,n){return e.slice(t,n).replace(/\S/g," ")}e.exports=function(e,t){for(var n,o,s=!1,a=!1,c=0,u="",l=!1===(t=t||{}).whitespace?r:i,h=0;h<e.length;h++){if(n=e[h],o=e[h+1],!a&&'"'===n)"\\"===e[h-1]&&"\\"!==e[h-2]||(s=!s);if(!s)if(a||n+o!=="//"){if(1===a&&n+o==="\r\n"){a=!1,u+=l(e,c,++h),c=h;continue}if(1===a&&"\n"===n)a=!1,u+=l(e,c,h),c=h;else{if(!a&&n+o==="/*"){u+=e.slice(c,h),c=h,a=2,h++;continue}if(2===a&&n+o==="*/"){a=!1,u+=l(e,c,++h+1),c=h+1;continue}}}else u+=e.slice(c,h),c=h,a=1,h++}return u+(a?l(e.substr(c)):e.substr(c))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),i=n(2),o=n(3);class s{static load(e){const t=r.Uri.file(e),n=r.window.activeTextEditor;if(void 0!==n&&n.document.uri.fsPath===t.fsPath)return n.document;for(const e of r.workspace.textDocuments)if(e.uri.fsPath===t.fsPath)return e;return new s(i.readFileSync(e).toString())}constructor(e){if(e.match(/\r\n/))this.eol=r.EndOfLine.CRLF,this._eol="\r\n";else if(e.match(/\n/))this.eol=r.EndOfLine.LF,this._eol="\n";else{const e=r.window.activeTextEditor;void 0===e||e.document.eol===r.EndOfLine.LF?(this.eol=r.EndOfLine.LF,this._eol="\n"):(this.eol=r.EndOfLine.CRLF,this._eol="\r\n")}this._lines=e.split(this._eol),this.lineCount=this._lines.length}getText(e){if(void 0===e)return this._lines.join(this._eol);let t,n="";const r=e.start.line,i=e.end.line;if(this.lineCount<=r)return"";if(r===i)return(t=this._lines[r]).slice(e.start.character,e.end.character);n+=(t=this._lines[r]).slice(e.start.character);for(let e=r+1;e<i;e++)n+=this._eol+this._lines[e];return n+=this._eol+this._lines[i].slice(0,e.end.character)}getWordRangeAtPosition(e,t=/(-?\d.\d\w)|([^`~!\@@#\%\^\&*()-\=+[{]}\|\;\:\'\"\,.\<>\/\?\s]+)/g){if(e.line>this.lineCount)return;const n=this._lines[e.line];for(let i=e.character;i>=0;i--){const o=n.slice(i).match(t);if(null!==o)return new r.Range(e.line,i,e.line,i+o[0].length)}}lineAt(e){return o.isNumber(e)?new a(this._lines[e]):new a(this._lines[e.line])}}t.TextDocumentLike=s;class a{constructor(e){this.text=e}}},function(e,t){e.exports=require("mathjax-node")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1);t.DocSymbolProvider=class{constructor(e){this.sections=[],this.extension=e,r.workspace.getConfiguration("latex-workshop").get("view.outline.sections").forEach(e=>{this.sections=this.sections.concat(e.split("|"))})}provideDocumentSymbols(e){return new Promise((t,n)=>{t(this.sectionToSymbols(this.extension.structureProvider.buildModel(e.fileName,void 0,void 0,!1)))})}sectionToSymbols(e){const t=[];return e.forEach(e=>{const n=new r.Range(e.lineNumber,0,e.toLine,65535),i=new r.DocumentSymbol(e.label,"",r.SymbolKind.String,n,n);t.push(i),e.children.length>0&&(i.children=this.sectionToSymbols(e.children))}),t}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1);t.ProjectSymbolProvider=class{constructor(e){this.extension=e}provideWorkspaceSymbols(e,t){return new Promise((e,t)=>{const n=[];this.sectionToSymbols(n,this.extension.structureProvider.buildModel(this.extension.manager.rootFile)),e(n)})}sectionToSymbols(e,t,n="Document"){t.forEach(t=>{const i=new r.Location(r.Uri.file(t.fileName),new r.Range(t.lineNumber,0,t.toLine,65535));e.push(new r.SymbolInformation(t.label,r.SymbolKind.String,n,i)),t.children.length>0&&this.sectionToSymbols(e,t.children,t.label)})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),i=n(2),o=n(0),s=n(114);t.DefinitionProvider=class{constructor(e){this.extension=e}provideDefinition(e,t,n){return new Promise((n,a)=>{const c=s.tokenizer(e,t);if(void 0!==c)if(c in this.extension.completer.reference.referenceData){const e=this.extension.completer.reference.referenceData[c];n(new r.Location(r.Uri.file(e.file),e.item.position))}else if(c in this.extension.completer.citation.citationData){const e=this.extension.completer.citation.citationData[c];n(new r.Location(r.Uri.file(e.file),e.position))}else if(c in this.extension.completer.citation.theBibliographyData){const e=this.extension.completer.citation.theBibliographyData[c];n(new r.Location(r.Uri.file(e.file),e.item.position))}else if(c in this.extension.completer.command.newcommandData){const e=this.extension.completer.command.newcommandData[c];n(new r.Location(r.Uri.file(e.file),e.position))}else{if(r.window.activeTextEditor&&c.indexOf(".")>-1){const e=[".pdf",".eps",".jpg",".jpeg",".JPG",".JPEG",".gif",".png"],t=o.extname(c);e.indexOf(t)>-1&&n();const s=o.resolve(o.dirname(r.window.activeTextEditor.document.fileName),c);if(i.existsSync(s))return void n(new r.Location(r.Uri.file(s),new r.Position(0,0)))}n()}else n()})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),i=n(12),o=n(0),s=n(2),a=n(21),c=e=>e.validateRange(new r.Range(0,0,Number.MAX_VALUE,Number.MAX_VALUE));class u{constructor(e,t,n){this.name=e,this.fileExt=t,this.checker=n}}t.OperatingSystem=u;const l=new u("win32",".exe","where"),h=new u("linux",".pl","which"),f=new u("darwin",".pl","which");class p{constructor(e){this.extension=e,this.machineOs=a.platform()}formatDocument(e,t){return new Promise((n,i)=>{this.machineOs===l.name?this.currentOs=l:this.machineOs===h.name?this.currentOs=h:this.machineOs===f.name&&(this.currentOs=f);const a=r.workspace.getConfiguration("latex-workshop");this.formatter=a.get("latexindent.path")||"latexindent",a.get("docker.enabled")&&("win32"===process.platform?this.formatter=o.resolve(this.extension.extensionRoot,"./scripts/latexindent.bat"):(this.formatter=o.resolve(this.extension.extensionRoot,"./scripts/latexindent"),s.chmodSync(this.formatter,493))),this.formatterArgs=a.get("latexindent.args")||["-c","%DIR%/","%TMPFILE%","-y=defaultIndent: '%INDENT%'"];const c=a.inspect("latexindent.path");c&&c.defaultValue&&c.defaultValue!==this.formatter?this.format(e,t).then(e=>n(e)):this.checkPath(this.currentOs.checker).then(r=>{if(!r)return this.extension.logger.addLogMessage("Can not find latexindent in PATH!"),this.extension.logger.showErrorMessage("Can not find latexindent in PATH!"),n();this.format(e,t).then(e=>n(e))})})}checkPath(e){return r.workspace.getConfiguration("latex-workshop").get("docker.enabled")?Promise.resolve(!0):new Promise((t,n)=>{i.exec(e+" "+this.formatter,(n,r,o)=>{n?(this.formatter+=this.currentOs.fileExt,i.exec(e+" "+this.formatter,(e,n,r)=>{t(!e)})):t(!0)})})}format(e,t){return new Promise((n,a)=>{const u=r.workspace.getConfiguration("editor",e.uri);if(!r.window.activeTextEditor)return;const l=r.window.activeTextEditor.options,h=l.tabSize?+l.tabSize:4,f=l.insertSpaces?" ".repeat(h):"\\t",p=o.dirname(e.fileName),d=e.getText(t),g=p+o.sep+"__latexindent_temp.tex";s.writeFileSync(g,d);const m=e.fileName.replace(/\.tex$/,"").split(o.sep).join("/"),y=o.basename(e.fileName,".tex").split(o.sep).join("/"),b=this.formatterArgs.map(t=>t.replace("%DOC%",u.get("docker.enabled")?y:m).replace("%DOCFILE%",y).replace("%DIR%",o.dirname(e.fileName).split(o.sep).join("/")).replace("%TMPFILE%",g.split(o.sep).join("/")).replace("%INDENT%",f));this.extension.logger.addLogMessage(`Formatting with arguments ${b}`),this.extension.manager.setEnvVar();const v=i.spawn(this.formatter,b,{stdio:"pipe",cwd:o.dirname(e.fileName)}),w=[],x=[];v.stdout.on("data",e=>w.push(e.toString())),v.stderr.on("data",e=>x.push(e.toString())),v.on("error",e=>{this.extension.logger.showErrorMessage("Formatting failed. Please refer to LaTeX Workshop Output for details."),this.extension.logger.addLogMessage(`Formatting failed: ${e.message}`),this.extension.logger.addLogMessage(`stderr: ${x.join("")}`),n()}),v.on("close",i=>{if(0!==i)return this.extension.logger.showErrorMessage("Formatting failed. Please refer to LaTeX Workshop Output for details."),this.extension.logger.addLogMessage(`Formatting failed with exit code ${i}`),this.extension.logger.addLogMessage(`stderr: ${x.join("")}`),n();const a=w.join("");if(""!==a){const i=[r.TextEdit.replace(t||c(e),a)];try{s.unlinkSync(g),s.unlinkSync(p+o.sep+"indent.log")}catch(e){}return this.extension.logger.addLogMessage("Formatted "+e.fileName),n(i)}return n()})})}}t.LaTexFormatter=p;t.LatexFormatterProvider=class{constructor(e){this.formatter=new p(e)}provideDocumentFormattingEdits(e,t,n){return e.save().then(()=>this.formatter.formatDocument(e))}provideDocumentRangeFormattingEdits(e,t,n,r){return e.save().then(()=>this.formatter.formatDocument(e,t))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1);t.FoldingProvider=class{constructor(e){this.sectionRegex=[],this.extension=e;const t=r.workspace.getConfiguration("latex-workshop").get("view.outline.sections");this.sectionRegex=t.map(e=>RegExp(`\\\\${e}(?:\\*)?(?:\\[[^\\[\\]\\{\\}]*\\])?{(.*)}`,"m"))}provideFoldingRanges(e,t,n){return[...this.getSectionFoldingRanges(e),...this.getEnvironmentFoldingRanges(e)]}getSectionFoldingRanges(e){const t=this.sectionRegex.map(e=>-1),n=e.getText().split(/\r?\n/g);let i=-1;const o=[];for(const e of n){const r=n.indexOf(e);for(const n of this.sectionRegex){if(!n.exec(e))continue;const i=this.sectionRegex.indexOf(n);if(-1===t[i]){t[i]=r;continue}let s=i;for(;s<this.sectionRegex.length;)o.push({level:s,from:t[s],to:r-1}),t[s]=i===s?r:-1,++s}if(/\\documentclass/.exec(e)&&(i=r),/\\begin{document}/.exec(e)&&i>-1&&o.push({level:0,from:i,to:r-1}),/\\end{document}/.exec(e)||r===n.length-1)for(let e=0;e<t.length;++e)-1!==t[e]&&o.push({level:e,from:t[e],to:r-1})}return o.map(e=>new r.FoldingRange(e.from,e.to))}getEnvironmentFoldingRanges(e){const t=[],n=[],i=e.getText(),o=/(?:\\(begin){(.*?)})|(?:\\(begingroup)(?=$|%|\s|\\))|(?:\\(end){(.*?)})|(?:\\(endgroup)(?=$|%|\s|\\))/g;let s=o.exec(i);for(;s;){const a={keyword:s[1]?s[2]:s[3]?"group":s[4]?s[5]:"group",index:s.index},c=n[n.length-1];(s[4]||s[6])&&c&&c.keyword===a.keyword?(n.pop(),t.push(new r.FoldingRange(e.positionAt(c.index).line,e.positionAt(a.index).line-1))):n.push(a),s=o.exec(i)}return t}}}]);
//# sourceMappingURL=main.js.map